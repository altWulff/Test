var _i_=this._i_||function(){},_r_=this._r_||function(e){return e};B.define("component/price-match-trigger",function(t,e,n){"use strict";_i_("74b:4da146e4");var i=t("component"),r=t("server-data"),a=t("promise"),o=null;n.exports=i.extend({init:function(){_i_("74b:49979a91"),this.renderModal=this.renderModal.bind(this),this.loadTemplate=this.loadTemplate.bind(this),this.toggleLoading=this.toggleLoading.bind(this),this.addEventListeners=this.addEventListeners.bind(this),this.handleTriggerClick=this.handleTriggerClick.bind(this),this.addEventListeners(),_r_()},addEventListeners:function(){_i_("74b:160f1e4c"),this.$el.click(this.handleTriggerClick),_r_()},handleTriggerClick:function(e){if(_i_("74b:4fb66df5"),e.preventDefault(),e.stopPropagation(),o)return this.showModal(),_r_(!1);this.toggleLoading(!0).then(this.loadTemplate).then(this.showModal,this.toggleLoading).then(this.toggleLoading),_r_()},loadTemplate:function(e){_i_("74b:bd226afd");var n=t("async-loader");return _r_(n.load({js:"async_wpm_overlay_js"}).then(this.renderModal,function(){return _i_("74b:83f930cf"),_r_(a.reject(!1))}))},renderModal:function(){_i_("74b:b5cfc68d");var e=t("jstmpl"),n=document.querySelector(".js-price-match-modal"),i=e("bpg_module_overlay").render({bpg_label:r.bpg_label,b_secure_domain:r.b_secure_domain,b_query_params_with_lang:r.b_query_params_with_lang,isBUIPriceMatchModal:!0});(o=window.BUI.createInstance("Modal",n,{template:i,size:"large",onBeforeOpen:function(){_i_("74b:ee729ec0"),t("lightbox").hide(),_r_()}})).mount(),_r_()},showModal:function(){_i_("74b:2fae31fc"),o&&o.open(),_r_()},toggleLoading:function(e){return _i_("74b:fd23d469"),this.$el.toggleClass("bui-is-loading",e),_r_(a.resolve())}}),_r_()}),B.define("component/referral/ribbon-green",function(e,n,i){_i_("74b:1d8320f8");var t=e("ga-tracker");i.exports=e("component").extend({init:function(){_i_("74b:642d9e6e"),$(document.documentElement).addClass("raf-ribbon-presents"),this.$el.on("click",function(){_i_("74b:1ae5e5bf"),t.trackEvent(t.referralFriendTracker,"click","ribbon-green"),_r_()}.bind(this)),this.$el.on("mouseover",function(){_i_("74b:750d0fea"),t.trackEvent(t.referralFriendTracker,"hover","ribbon-green"),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("component/referral/raf-widget",function(e,n,i){_i_("74b:4fedf566"),i.exports=e("component").extend({init:function(){_i_("74b:0d45f1fb");var e=$("#raf-widget-text-container"),n=this.$el,i=e.hasClass("expanded");n.on("click",function(){_i_("74b:de2eb1da"),e.toggleClass("expanded"),_r_()});var t=e.data("expandAfter");t&&0<+t&&!i&&window.setTimeout(function(){_i_("74b:ec766fba"),e.addClass("expanded"),_r_()},+t),_r_()}}),_r_()});