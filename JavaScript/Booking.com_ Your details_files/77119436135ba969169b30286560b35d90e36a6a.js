var _i_=this._i_||function(){},_r_=this._r_||function(e){return e};function _initRawDataFromENV(){_i_("3bb:dd832e57");var e=B.require("bp/env");return _r_(e.getRaw())}function getRawDataProvider(){return _i_("3bb:e053e6ff"),_r_(_initRawDataFromENV)}jQuery.extend(jQuery.easing,{easeInBackWeaker:function(e,t,i,n,a){_i_("3bb:53aa79b9");return _r_(n*(t/=a)*t*(1.8*t-.8)+i)},easeInBackStronger:function(e,t,i,n,a){_i_("3bb:a0898cc8");return _r_(n*(t/=a)*t*(4*t-3)+i)},easeOutBackWeaker:function(e,t,i,n,a){_i_("3bb:d0cfd69f");return _r_(n*((t=t/a-1)*t*(1.8*t+.8)+1)+i)},easeOutBackStronger:function(e,t,i,n,a){_i_("3bb:3aa68cc3");return _r_(n*((t=t/a-1)*t*(4*t+3)+1)+i)},easeInOutBackWeaker:function(e,t,i,n,a,r){if(_i_("3bb:ea0f161d"),null==r&&(r=.8),(t/=a/2)<1)return _r_(n/2*(t*t*((1+(r*=1.525))*t-r))+i);return _r_(n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i)},easeInOutBackStronger:function(e,t,i,n,a,r){if(_i_("3bb:6d325e27"),null==r&&(r=3),(t/=a/2)<1)return _r_(n/2*(t*t*((1+(r*=1.525))*t-r))+i);return _r_(n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i)}}),booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.book={loaded:!0,run:!1}),B.define("async-css-style",function(e,t,i){"use strict";_i_("3bb:93d289cc");var n=e("promise"),r=window.document;t.load=function(e){if(_i_("3bb:957431ab"),"object"!=typeof e)throw new Error("async-css: .load() expects options object");var t;if((e=Object.assign({},{href:"",media:"all",after:""},e)).href=e.href||e.path,"string"!=typeof e.href||0===e.href.length)throw new Error("async-css: href or path should be defined.");return _r_((t=e.href,_i_("3bb:9c8fd8f1"),_r_(new n(function(n,a){_i_("3bb:d365b147"),function(e,t){_i_("3bb:64bbf2ed");var i=new XMLHttpRequest;i.open("GET",e),i.onreadystatechange=function(){_i_("3bb:40d64557"),i.readyState===XMLHttpRequest.DONE&&t(i),_r_()},i.send(),_r_()}(t,function(e){_i_("3bb:b321ca81");var t,i=function(e){_i_("3bb:e7129ae6");var t=r.getElementsByTagName("head")[0],i=(r.body||t).childNodes,n=i[i.length-1];return _r_(n)}();switch(e.status){case 200:(t=document.createElement("style")).innerHTML=e.responseText,i.parentNode.insertBefore(t,i.nextSibling),n();break;default:a()}_r_()}),_r_()}))))},_r_()}),B.define("async-css-link",function(e,t,i){"use strict";_i_("3bb:96c8dfd5");var n=e("promise"),a=window.document;t.load=function(e){if(_i_("3bb:2c8ed0e8"),"object"!=typeof e)throw new Error("async-css: .load() expects options object");if((e=Object.assign({},{href:"",media:"all",after:""},e)).href=e.href||e.path,"string"!=typeof e.href||0===e.href.length)throw new Error("async-css: href or path should be defined.");var r,t=function(e){_i_("3bb:7811a243");var t=a.getElementsByTagName("head")[0],i=(a.body||t).childNodes,n=i[i.length-1];return"main"===e&&void 0!==t&&(n=function(e,t){_i_("3bb:88118108");for(var i=t.getElementsByTagName("link"),n=0;n<i.length;n++)if("1"===i[n].getAttribute("data-main-css"))return _r_(i[n]);return _r_(e)}(n,t)),_r_(n)}(e.after),i=function(e){_i_("3bb:851d86ba");var t=a.createElement("link");return t.rel="stylesheet",t.href=e,_r_(t)}(e.href);return function e(t){if(_i_("3bb:47b0dd81"),a.body)return _r_(t());window.setTimeout(function(){_i_("3bb:7962f8f0"),e(t),_r_()},100),_r_()}(function(){_i_("3bb:cbb52693"),t.parentNode.insertBefore(i,t.nextSibling),_r_()}),_r_((r=i,_i_("3bb:63a16c21"),_r_(new n(function(e,t){var i,n,a;_i_("3bb:5f729357"),i=r,n=function(){_i_("3bb:099fe1d6"),e(),_r_()},a=function(){_i_("3bb:d47bd0fa"),t(),_r_()},_i_("3bb:d8e74345"),i.addEventListener&&(i.addEventListener("load",n),i.addEventListener("error",a)),i.attachEvent&&(i.attachEvent("onload",n),i.attachEvent("onerror",a)),_r_(),_r_()}))))},_r_()}),B.define("async-css",function(e,t,i){"use strict";_i_("3bb:9f8987c6"),"isApplicationInstalled"in navigator?t.load=e("async-css-style").load:t.load=e("async-css-link").load,_r_()}),B.define("loadscript",function(e,t,i){_i_("3bb:d47addb3");var n=e("promise");function r(e,t){_i_("3bb:75dd9346");var a,i=r._urls[e]||e;if(!i)throw new Error("Must provide a URL.");if(i===e&&-1===i.indexOf("/"))throw new Error('"'+i+"\" doesn't seem like a script URL.");return _r_((a=i,_i_("3bb:97f97f7c"),_r_(new n(function(i,e){_i_("3bb:92422bf0");var n=document.createElement("script");n.onload=n.onreadystatechange=function(e,t){_i_("3bb:280f4643"),(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i()),_r_()},n.onerror=e,n.type="text/javascript",n.src=a;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t),_r_()}))))}r._urls={},r.add=function(e,t){_i_("3bb:9f107474");var i=r._urls;$.isPlainObject(e)?$.extend(i,e):i[name]=t,_r_()},i.exports=r,_r_()}),B.define("async-loader",function(e,t,i){"use strict";_i_("3bb:a15e0d77");var n=e("loadscript"),a=e("async-css"),r=e("promise"),_={},s=B.env||{};function o(e,t){_i_("3bb:ee19ee6e");var i=t.path=function(e){var t;if(_i_("3bb:5ab4a82f"),!s.hasOwnProperty("asyncLoader")||!s.asyncLoader.hasOwnProperty(e))throw new Error("async-loader: could not find file "+e+" in B.env.asyncLoader");if("string"!=typeof(t=s.asyncLoader[e])||0===t.length)throw new Error("async-loader: invalid path for "+e);return _r_(t)}(t.path);return _[i]||(_[i]=function(e,t){var i;switch(_i_("3bb:b8123876"),e){case"css":return(i=a.load(t)).catch(function(){_i_("3bb:82ff7fe4"),B.squeak&&B.squeak("OdeFAAOZOGaDIARMGZYfNXMDDBXe"),_r_()}),_r_(i);case"js":return(i=n(t.path)).catch(function(){_i_("3bb:65eb6ffd"),B.squeak&&B.squeak("OdeFAAOZOGaDIARMGZGTXMDDBXe"),_r_()}),_r_(i);default:throw new Error("async-loader: file type ["+e+"] not supported!")}_r_()}(e,t)),_r_(_[i])}t.load=function(n){if(_i_("3bb:a52750db"),"object"!=typeof n)throw new Error("async-loader: load() expects an object!");var e=Object.keys(n).map(function(e){_i_("3bb:b97aa9bc");var t=n[e],i=t;if("string"==typeof i&&0<i.length&&(t={path:i}),"object"!=typeof t||!t.hasOwnProperty("path"))throw new Error("async-loader: .load() invalid argument!");return _r_(o(e,t))});return _r_(r.all(e))},t.css=function(e){if(_i_("3bb:111db707"),"string"==typeof e&&0<e.length&&(e={path:e}),"object"!=typeof e||!("path"in e))throw new Error("async-loader: .css() invalid argument!");return _r_(o("css",e))},t.js=function(e){if(_i_("3bb:b4ea448e"),"string"==typeof e&&0<e.length&&(e={path:e}),"object"!=typeof e||!("path"in e))throw new Error("async-loader: .js() invalid argument!");return _r_(o("js",e))},t.registerPath=function(e){if(_i_("3bb:016e0e69"),"string"!=typeof e||0===e.length)throw new Error("async-loader: registerPath() invalid argument");if(!s.hasOwnProperty("asyncLoader"))throw new Error("async-loader: B.env.asyncLoader is not defined");return s.asyncLoader.hasOwnProperty(e)||(s.asyncLoader[e]=e),_r_(e)},_r_()}),booking.jstmpl("bp_competitive_set",function(){_i_("3bb:a4c7adf5");var s,o=["\n    ","\n\n","\n    <div>\n        ",'\n            <h3 class="bui-f-font-heading bui-spacer--medium">\n                ',"\n                    ","/private/{compset_header_tag}/name","\n                ","\n            </h3>\n        ",'\n\n        <div role="region" class="bui-carousel bui-carousel--large bui-u-bleed@small" data-bui-component="Carousel">\n            <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n                ','\n                    <li class="bui-carousel__item" data-bui-ref="carousel-item">\n                        <a href="',"&bp_nocc_compset=1","&bp_compset_src=",'" class="bui-card bui-card--media" target="_blank">\n                            <div class="bui-card__image-container">\n                                <img class="bui-card__image" src="','" alt="" role="presentation" />\n                            </div>\n                            <div class="bui-card__content">\n                                <header class="bui-card__header">\n                                    <h3 class="bui-card__title">\n\n                                        ',"\n                                            ","\n                                                (",")\n                                            ","\n                                        ","\n                                                "," (","\n                                    \n                                    </h3>\n                                    ",'\n                                        <p class="bui-card__subtitle">\n                                            ',"&nbsp;","\n                                        </p>\n                                    ",'\n                                    \n                                    <div class="bui-card__text">\n                                        <div class="bui-f-font-caption">',"/private/room_type_total_price_from/name",'</div>\n                                        <div class="bui-f-font-display_one">',"</div>\n                                    </div>\n                                </header>\n                            </div>\n                        </a>\n                    </li>\n                ",'\n            </ul>\n            <div class="bui-carousel__nav">\n                <button type="button" class="bui-carousel__button" aria-label="',"/private/a11y_aria_label_carousel_previous/name",'" data-bui-ref="carousel-prev">\n                    ',"bui-carousel__prev","streamline/arrow_nav_left","largest",'\n                </button>\n                <button type="button" class="bui-carousel__button" aria-label="',"/private/a11y_aria_label_carousel_next_previous/name",'" data-bui-ref="carousel-next">\n                    ',"bui-carousel__next","streamline/arrow_nav_right","\n                </button>\n            </div>\n        </div>\n\n        \n    </div>\n","\n"],l=["compset_header_tag","compset_header","hotels","b_domain_for_app","compset_src","b_lang"];return _r_(function(r){_i_("3bb:81e9772a");var e="",_=this.fn;return e=function(e){if(_i_("3bb:3797765e"),e+=o[1],_.MJ(_.array_length(_.MB(l[2])))){e+=o[2],(_.MJ(_.MB(l[0]))||_.MJ(_.MB(l[1])))&&(e+=o[3],_.MD(l[0])?e+=[o[4],_.ME(o[5],_.MB,_.MN,null),o[6]].join(""):_.MD(l[1])&&(e+=[o[4],_.MC(l[1]),o[6]].join("")),e+=o[7]),e+=o[8];var t=_.MC(l[2])||[];r.unshift({hotel:null});for(var i,n=1,a=t.length;n<=a;n++)r[0].hotel=i=t[n-1],e+=[o[9],_.F.entities(_.MC(l[3])),(i||{}).b_url].join(""),_.MJ(_.MB(l[4])+""=="nocc")&&(e+=o[10]),_.MD(l[4])&&(e+=[o[11],_.F.entities(_.MC(l[4]))].join("")),e+=[o[12],_.STATIC_HOSTNAME(i.b_image_url_270x200,0,0,0,0),o[13]].join(""),_.MJ(_.MC(l[5])+""=="ja")?(e+=[o[14],(i||{}).b_name,o[14]].join(""),_.MJ(_.MG((i||{}).b_name_en))&&(e+=[o[15],(i||{}).b_name_en,o[16]].join("")),e+=o[17]):_.MJ(_.MC(l[5])+""=="cn")?(e+=o[14],_.MJ(_.MG((i||{}).b_name_en))?e+=[o[18],(i||{}).b_name_en,o[19],(i||{}).b_name,o[16]].join(""):e+=[o[18],(i||{}).b_name,o[14]].join(""),e+=o[17]):e+=[o[14],(i||{}).b_name,o[17]].join(""),e+=o[20],_.MJ(0<i.b_review_score)&&(e+=[o[21],(i||{}).b_review_score_word,o[22],(i||{}).b_review_score_formatted,o[23]].join("")),e+=[o[24],_.ME(o[25],_.MB,_.MN,null),o[26],(i||{}).b_price,o[27]].join("");r.shift(),e+=[o[28],_.ME(o[29],_.MB,_.MN,null),o[30],(r.unshift({class:o[31],name:o[32],size:o[33]}),s=_.HELPER("icon",r[0]),r.shift(),s),o[34],_.ME(o[35],_.MB,_.MN,null),o[36],(r.unshift({class:o[37],name:o[38],size:o[33]}),s=_.HELPER("icon",r[0]),r.shift(),s),o[39]].join("")}return _r_(e)}(e+=o[0]),e+=o[40],_r_(e)})}()),booking.jstmpl("circular_loader",function(){_i_("3bb:12cd2fee");var n=['\n    <div class="',"--animated"," ",'">\n        ','\n            <svg viewBox="-10 -10 220 220" class="','">\n                <path d="M100,0 C155.228475,0 200,44.771525 200,100 C200,155.228475 155.228475,200 100,200 C44.771525,200 0,155.228475 0,100 C0,44.771525 44.771525,0 100,0" fill="transparent"></path>\n            </svg>\n\n            <svg viewBox="-10 -10 220 220" class="','">\n                <path d="M100,0 C155.228475,0 200,44.771525 200,100 C200,155.228475 155.228475,200 100,200 C44.771525,200 0,155.228475 0,100 C0,44.771525 44.771525,0 100,0" fill="transparent"></path>\n            </svg>\n        ','\n            <div class="','"></div>\n            <div class="','"></div>\n        ',"\n    </div>\n"],a=["base_class","is_circle_animated","no_svg_class","supports_svg","total_class","current_class"];return _r_(function(e){_i_("3bb:43c86506");var t="",i=this.fn;return t+=[n[0],i.MC(a[0])].join(""),i.MD(a[1])&&(t+=[i.MC(a[0]),n[1]].join("")),t+=n[2],i.MD(a[3])||(t+=i.MC(a[2])),t+=n[3],i.MD(a[3])?t+=[n[4],i.MC(a[4]),n[5],i.MC(a[5]),n[6]].join(""):t+=[n[7],i.MC(a[4]),n[8],i.MC(a[5]),n[9]].join(""),t+=n[10],_r_(t)})}()),booking.jstmpl("no_cc_modal_template",function(){_i_("3bb:64ad536b");var a=["\n    ",'<div>\n    <div class="bui-modal__body">\n        <h3 class="bui-modal__title" id="modal-default-title" data-bui-ref="modal-title">',"/private/faqq022/name",'</h3>\n        <div class="bui-group bui-group--large">\n            <p class="bui-f-font-body" id="modal-default-subtitle" data-bui-ref="modal-subtitle">',"/private/faqa022/name","</p>\n            ","\n                ","\n            ","\n        </div>\n    </div>\n</div>\n\n","\n"],r=["no_cc_bp_compset"];return _r_(function(e){_i_("3bb:9af43183");var t,i="",n=this.fn;return i+=a[0],t=i,_i_("3bb:dc458fdb"),t+=[a[1],n.ME(a[2],n.MB,n.MN,null),a[3],n.ME(a[4],n.MB,n.MN,null),a[5]].join(""),n.MD(r[0])&&(t+=[a[6],n.MC(r[0]),a[7]].join("")),t+=a[8],i=_r_(t),i+=a[9],_r_(i)})}()),Array.prototype.find||(B.et.stage("NLJZCEQMULaDAEKKSLcSEO",4),B.et.track("NLJZCEQMULaDAEKKSLcSEO")?Object.defineProperty(Array.prototype,"find",{value:function(e){if(_i_("3bb:aa6ca1ae"),null==this)throw TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var n=arguments[1],a=0;a<i;){var r=t[a];if(e.call(n,r,a,t))return _r_(r);a++}return _r_(void 0)},configurable:!0,writable:!0}):Array.prototype.find=function(e){if(_i_("3bb:a76aa7a6"),null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,a=arguments[1],r=0;r<n;r++)if(t=i[r],e.call(a,t,r,i))return _r_(t);return _r_(void 0)}),B.define("utils/sanitize",[],function(){_i_("3bb:86a72473");var t={"<":"&lt;",">":"&gt;","&":"&amp;"},i=new RegExp("["+Object.keys(t).join()+"]","g");return _r_(function(e){if(_i_("3bb:1dce6c34"),!e)return _r_();return _r_(e.replace(i,function(e){return _i_("3bb:b299bf88"),_r_(t[e]||e)}))})}),B.define("utils/throttled",function(e,t,i){_i_("3bb:c05117b8"),i.exports=function(_,s){var o;_i_("3bb:6684d35e");var l=0;return _r_(function e(){_i_("3bb:f991b93f");for(var t=this,i=new Array(arguments.length),n=0,a=arguments.length;n<a;n++)i[n]=arguments[n];var r=+new Date;if(l&&clearTimeout(l),r-o<s)return l=setTimeout(function(){_i_("3bb:74556d05"),e.apply(t,i),_r_()},s),_r_();o=r,setTimeout(function(){_i_("3bb:68a22e39"),_.apply(t,i),_r_()}),_r_()})},_r_()}),B.define("utils/debounce",function(e,t,i){_i_("3bb:d27ec383"),i.exports=function(i,n,a){var r;return _i_("3bb:987315f9"),_r_(function(){_i_("3bb:d421fd91");var e=this,t=arguments;!0===a&&void 0===r&&i.apply(e,t),clearTimeout(r),r=setTimeout(function(){_i_("3bb:d43ea598"),i.apply(e,t),_r_()},n),_r_()})},_r_()}),B.define("utils",function(e,t,i){_i_("3bb:1ae1366f"),t.assertExists=function(e,t){if(_i_("3bb:9d42554a"),"object"!=typeof e||!(t in e))throw new Error("Property "+t+" is not found");_r_()},t.camelCaseKeys=function(e){_i_("3bb:dbbbdfa4");var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t.replace(/-([a-zA-Z])/g,function(e,t){return _i_("3bb:aefe3784"),_r_(t.toUpperCase())})]=e[t]);return _r_(i)},t.nodeData=function(e){_i_("3bb:c0d6317e"),e.jquery&&(e=e[0]),this.assertExists(e,"attributes");var t,i,n,a={};for(t=0,i=e.attributes.length;t<i;t++)(n=e.attributes[t])&&0==n.name.indexOf("data-")&&(a[n.name.replace(/^data-/,"")]=n.value);return _r_(this.camelCaseKeys(a))},_r_()}),B.define("utils/scrollbar",function(e,t,i){_i_("3bb:75c9dead");var n,a,r,_=document.documentElement||document.body;function s(){_i_("3bb:cd42c2c7"),void 0!==_.currentStyle&&(n=_.currentStyle.overflow,a=_.currentStyle.overflowY),n=n||window.getComputedStyle(_,"").overflow,a=a||window.getComputedStyle(_,"").overflowY,_r_()}var o={hasScrollbar:function(){return _i_("3bb:92a2d780"),_r_(this.hasHorizontalScrollbar()||this.hasVerticalScrollbar())},hasHorizontalScrollbar:function(){_i_("3bb:35384544"),s();var e=_.scrollWidth>_.clientWidth,t=/^(visible|auto)$/.test(n);return _r_(e&&t||"scroll"===n)},hasVerticalScrollbar:function(){_i_("3bb:73953e32"),s();var e=_.scrollHeight>_.clientHeight,t=/^(visible|auto)$/.test(a);return _r_(e&&t||"scroll"===a)},getWidth:function(){if(_i_("3bb:80b674fd"),r)return _r_(r);var e,t,i=document.createElement("p"),n=document.createElement("div");return i.style.width="100%",i.style.height="200px",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(i),document.body.appendChild(n),e=i.offsetWidth,n.style.overflow="scroll",e===(t=i.offsetWidth)&&(t=n.clientWidth),document.body.removeChild(n),_r_(r=e-t)}};i.exports=o,_r_()}),B.define("querystring",function(e,n,t){function a(e,t){_i_("3bb:b1205794");var i=e.split(t);return _r_([i.shift(),i.join(t)])}_i_("3bb:3ba17652"),n.parseUrl=function(e){_i_("3bb:d897ad4d");var t={},i=a(e,"#");return t.hash=i[1],i=a(i[0],"?"),t.base=i[0],t.query=n.parse(i[1]),_r_(t)},n.stringify=function(e,t){_i_("3bb:779bf395");var i=(t=t||{}).sep||"&",n=t.eq||"=",a=t.skipNull,r=t.encodeURIComponent||encodeURIComponent,_=[];function s(e,t){_i_("3bb:36687cac"),null==t&&(t=""),_.push(e+n+r(t)),_r_()}for(var o in e){if(null===e[o]&&a)continue;e[o]instanceof Array?e[o].forEach(s.bind(this,o)):s(o,e[o])}return _r_(_.join(i))},n.parse=function(e,a){_i_("3bb:637f7447");var r={};return e.split(/[\&\;]+/).forEach(function(e){if(_i_("3bb:20fe34d1"),!e)return _r_();var t=e.split("="),i=t.shift(),n=t.join("=");if(!a)try{n=decodeURIComponent(n.replace(/\+/g,"%20"))}catch(e){}i in r?(Array.isArray(r[i])||(r[i]=[r[i]]),r[i].push(n)):r[i]=n,_r_()}),_r_(r)},n.toArray=function(e){_i_("3bb:c31586d4");var t,i,n=[];for(t in e)if(e.hasOwnProperty(t))if(i=e[t],Array.isArray(i))for(var a=0,r=i.length;a<r;a++)n.push({key:t,value:i[a]});else n.push({key:t,value:i});return _r_(n)},_r_()}),B.define("object-assign",function(e,t,i){_i_("3bb:a034a556"),i.exports=Object.assign||function(e,t){if(_i_("3bb:9f547933"),null==e)throw new TypeError("Cannot convert undefind or null to object");e=Object(e);for(var i=1;i<arguments.length;i++){var n=Object(arguments[i]);for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return _r_(e)},_r_()}),B.define("promise",function(e,t,d){_i_("3bb:989c12ad"),"undefined"==typeof Promise?function(e){_i_("3bb:5a887695");var t=r.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){_i_("3bb:7185fd15"),setTimeout(e,1),_r_()};function i(e,t){return _i_("3bb:1d7c6867"),_r_(function(){_i_("3bb:5ff16df2"),e.apply(t,arguments),_r_()})}var n=Array.isArray||function(e){return _i_("3bb:615acaea"),_r_("[object Array]"===Object.prototype.toString.call(e))};function r(e){if(_i_("3bb:4c350ba3"),"object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,i(a,this),i(s,this)),_r_()}function _(i){_i_("3bb:ac90a1fd");var n=this;if(null===this._state)return this._deferreds.push(i),_r_();t(function(){_i_("3bb:3a86f9ca");var e,t=n._state?i.onFulfilled:i.onRejected;if(null===t)return(n._state?i.resolve:i.reject)(n._value),_r_();try{e=t(n._value)}catch(e){return i.reject(e),_r_()}i.resolve(e),_r_()}),_r_()}function a(e){_i_("3bb:ff954c65");try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return c(i(t,e),i(a,this),i(s,this)),_r_()}this._state=!0,this._value=e,o.call(this)}catch(e){s.call(this,e)}_r_()}function s(e){_i_("3bb:a55a82c1"),this._state=!1,this._value=e,o.call(this),_r_()}function o(){_i_("3bb:07e7fca4");for(var e=0,t=this._deferreds.length;e<t;e++)_.call(this,this._deferreds[e]);this._deferreds=null,_r_()}function l(e,t,i,n){_i_("3bb:e065c025"),this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=i,this.reject=n,_r_()}function c(e,t,i){_i_("3bb:d290629a");var n=!1;try{e(function(e){if(_i_("3bb:f757cb85"),n)return _r_();n=!0,t(e),_r_()},function(e){if(_i_("3bb:a224b2cf"),n)return _r_();n=!0,i(e),_r_()})}catch(e){if(n)return _r_();n=!0,i(e)}_r_()}r.prototype.catch=function(e){return _i_("3bb:d50ad370"),_r_(this.then(null,e))},r.prototype.then=function(i,n){_i_("3bb:3f0d7749");var a=this;return _r_(new r(function(e,t){_i_("3bb:9f760f9b"),_.call(a,new l(i,n,e,t)),_r_()}))},r.all=function(){_i_("3bb:07942f73");var s=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments),e=new r(function(n,a){if(_i_("3bb:9294bb09"),0===s.length)return _r_(n([]));var r=s.length;function _(t,e){_i_("3bb:40a21354");try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(e){_i_("3bb:7273b5e7"),_(t,e),_r_()},a),_r_()}s[t]=e,0==--r&&n(s)}catch(e){a(e)}_r_()}for(var e=0;e<s.length;e++)_(e,s[e]);_r_()});return _r_(e)},r.resolve=function(t){if(_i_("3bb:d79857de"),t&&"object"==typeof t&&t.constructor===r)return _r_(t);return _r_(new r(function(e){_i_("3bb:c6c2a2aa"),e(t),_r_()}))},r.reject=function(i){return _i_("3bb:b420b9e0"),_r_(new r(function(e,t){_i_("3bb:9695f944"),t(i),_r_()}))},r.race=function(a){return _i_("3bb:20696893"),_r_(new r(function(e,t){_i_("3bb:0f1ca0e2");for(var i=0,n=a.length;i<n;i++)a[i].then(e,t);_r_()}))},void 0!==d&&d.exports?d.exports=r:e.Promise||(e.Promise=r),_r_()}(this):d.exports=Promise,_r_()}),B.define("booking-store",["event-emitter"],function(t){function e(e){_i_("3bb:e128c6ba"),e||(e={}),this._data={},t.extend(this),_r_()}return _i_("3bb:73512cbd"),e.prototype.initFromData=function(e){_i_("3bb:1fc89d0a");var t,i=e.data(),n={};for(t in i)if(i.hasOwnProperty(t)){if("events"==t||"handle"==t)continue;n[t.replace(/-([a-z])/g,function(e,t){return _i_("3bb:53df87ea"),_r_(t.toUpperCase())})]=i[t]}this.initFromVar(n),_r_()},e.prototype.initFromForm=function(e){_i_("3bb:f5261feb");for(var t,i=0,n=e.serializeArray(),a=(n.length,{});t=n[i];i++)a[t.name]=t.value;this.initFromVar(a),_r_()},e.prototype.initFromVar=function(e){_i_("3bb:f1856c78"),"object"==typeof e&&(this._data=e,this.emit("data")),_r_()},e.prototype.get=function(e){return _i_("3bb:86afd500"),_r_(void 0===e?this._data:this._data[e])},e.prototype.set=function(e,t){if(_i_("3bb:6495effd"),void 0===e)throw new Error("Cannot Store.set with undefined first argument.");if("object"==typeof e&&void 0===t){var i=e;for(e in i)i.hasOwnProperty(e)&&(this._data[e]=i[e])}else this._data[e]=t;this.emit("data"),_r_()},_r_(e)}),B.define("click-out",function(e,t,i){"use strict";_i_("3bb:fff452bb");var r={},n=!1;function a(e){_i_("3bb:ad210c4a");var t,i=Object.keys(r),n={},a=!1;if(i.length)for(t=e.target||e.srcElement;t&&(i.forEach(function(e){_i_("3bb:efe0fbc1"),r[e].element===t&&(n[e]=!0,1==i.length&&(a=!0)),_r_()}),!a);)t=t.parentNode;i.forEach(function(e){_i_("3bb:bf144444"),!n[e]&&r[e]&&(r[e].callback.call(!1),_(e)),_r_()}),_r_()}function _(e){_i_("3bb:e16b90f5"),r[e]&&delete r[e],_r_()}t.addMonitor=function(e,t){_i_("3bb:4eea37e7"),_i_("3bb:c17566ca"),n||(n=!0,document.documentElement.addEventListener?document.documentElement.addEventListener("click",a):document.documentElement.attachEvent&&document.documentElement.attachEvent("onclick",a)),_r_();var i=Math.random();return"string"==typeof e.jquery&&(e=e[0]),setTimeout(function(){_i_("3bb:9952e084"),r[i]={element:e,callback:t},_r_()},4),_r_(i)},t.removeMonitor=_,t.forceClickOut=function(){_i_("3bb:d4e2fa88"),Object.keys(r).forEach(function(e){_i_("3bb:ffe354e3"),r[e].callback.call(!1),_(e),_r_()}),_r_()},_r_()}),B.define("data-validator",function(e,t,i){"use strict";_i_("3bb:67a7d0e6");function s(e,t){var i;_i_("3bb:15d7e12f");var n={};if(e.day&&e.month&&e.year)return e.day=+e.day,e.month=+e.month,e.year=+e.year,_r_(e);if("string"==typeof e){var a=new RegExp("^(d{"+t+",4})-(d{1,2})-(d{1,2})$");if(i=e.match(a))return _r_(!1);return n.day=+i[3],n.month=+i[2],n.year=+i[1],_r_(n)}return _r_(!1)}t.validate=function(e,t,i){switch(_i_("3bb:c662d662"),i=i||{},e){case"required":return _r_(""!==t&&!1!==t&&null!=t&&"__null__"!=t);case"email":if(""===t)return _r_(!0);return _r_("string"==typeof t&&t.match(/^[a-z0-9_.+-]+@[a-z0-9-]+\.[a-z0-9-.]+$/i));case"phone":if(""===t)return _r_(!0);return _r_("string"==typeof t&&t.match(/^\+?[0-9-\s]{4,}$/));case"email-or-phone":if(""===t)return _r_(!0);return _r_("string"==typeof t&&t.match(/^[a-z0-9_.+-]+@[a-z0-9-]+\.[a-z0-9-.]+$/i)||"string"==typeof t&&t.match(/^\+?[0-9-\s]{4,}$/));case"intlphone":if(""===t)return _r_(!0);return _r_("string"==typeof t&&t.match(/^\+?[0-9-\s]{8,}$/));case"intlphone_relaxed":if(""===t)return _r_(!0);var n="string"==typeof t?t.replace(/\D/gi,""):"";return _r_("string"==typeof t&&8<=n.length&&t.match(/^\+?[\d\-\s\(\)]+$/));case"date":var a,r={};if(!(r=s(t,4)))return _r_(!1);return r.year=function(e,t){_i_("3bb:4badadfa");if(100<=e)return _r_(e);var i=t,n=t%100;if(e!=n){var a=100*Math.floor(t/100);i=a+e+(n<=e?0:100)}return _r_(i)}(r.year,(new Date).getFullYear()),a=new Date(r.year,r.month-1,r.day),_r_(a.getFullYear()==r.year&&a.getMonth()==r.month-1&&a.getDate()==r.day);case"dateString":case"birthdate":if(!this.validate("date",t))return _r_(!1);if(!(r=s(t,4)))return _r_(!1);return r=new Date(r.year+(i.minAge?i.minAge:0),r.month-1,r.day),_r_((new Date).getTime()>r.getTime());case"ccdate":case"ccdateString":if(!this.validate("date",t))return _r_(!1);if((r=s(t,4)).month+=1,r.day=0,!r)return _r_(!1);return r=new Date(r.year,r.month-1,r.day),_r_((new Date).getTime()<=r.getTime());case"password":return _r_(8<=t.length);case"equal":case"password_confirm":return _r_(t.length&&2==t.length&&t[0]===t[1]);case"number":if(""===t)return _r_(!0);return _r_("string"==typeof t&&t.match(/^\d+$/));case"regex":if(""===t)return _r_(!0);if(!i.regex)return _r_(!1);var _=new RegExp(i.regex,i.regexFlags);return _r_("string"==typeof t&&t.match(_));case"positive_number":if(isNaN(parseFloat(t)))return _r_(!1);return _r_(0<parseFloat(t));default:throw new Error("data-validation: Invalid validation "+e+".")}_r_()},_r_()}),B.define("read-data-options",function(e,t,i){_i_("3bb:b2e7a21d"),i.exports=function(a,r){_i_("3bb:9b133c1b");var _={};return a.jquery&&(a=a[0]),Object.keys(r).forEach(function(e){_i_("3bb:dcce8877");var t=r[e],i="data-"+e,n=null;if("function"==typeof t&&(t={type:t}),"string"==typeof t.name&&(i="data-"+t.name),!a.attributes[i]){if(t.hasOwnProperty("defaultValue"))_[e]=t.defaultValue;else if(t.hasOwnProperty("required"))throw new Error("read-data-options: missing required "+i+" attribute");return _r_()}n=a.getAttribute(i);if(t.type===Boolean)n=!/^0|false|no|off$/.test(n);else if(t.type===String)n=n||t.defaultValue;else{if(t.type!==Number)throw new Error("data-options: Invalid option type for "+e);n=parseFloat(n,10),isNaN(n)&&(n=t.defaultValue)}_[e]=n,_r_()}),_r_(_)},_r_()}),B.define("keycodes",[],function(){"use strict";_i_("3bb:80bc84b5");var n={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,delete:46,navigation:[9].concat(e(33,40)),deletion:[8,46],arrow:e(37,40),number:e(48,57).concat(e(96,105)),backquoteNumeric:192,alphabetic:e(65,90),modifier:e(16,18)};function e(e,t){_i_("3bb:83a52ba4");for(var i=[],n=0;n<=t-e;n++)i.push(e+n);return _r_(i)}function a(e,t){if(_i_("3bb:768b926a"),Array.isArray(n[e])&&-1!==n[e].indexOf(t))return _r_(!0);if(n[e]===t)return _r_(!0);return _r_(!1)}function i(e,t){return _i_("3bb:bf671d22"),_r_(a(t,e))}n=function(e){_i_("3bb:0fefaabc");var i=65;return _r_("abcdefghijklmnopqrstuvwxyz".split("").reduce(function(e,t){return _i_("3bb:d3ccc5bc"),e[t]=i++,_r_(e)},e))}(n);var r={getTypes:function(t){_i_("3bb:ad5c6319");var i=[];return Object.keys(n).forEach(function(e){_i_("3bb:8fc15c2d"),a(e,t)&&i.push(e),_r_()}),_r_(i)},isKeycodeType:i};return Object.keys(n).forEach(function(t){var e;_i_("3bb:484ba84e"),r["is"+(e=t,_i_("3bb:2984a907"),_r_(e.slice(0,1).toUpperCase()+e.slice(1)))]=function(e){return _i_("3bb:4209f82c"),_r_(i(e,t))},_r_()}),_r_(r)}),B.define("flux/dispatcher",function(e,t,i){_i_("3bb:96ecafe7");function n(){_i_("3bb:0d275497"),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1,_r_()}n.prototype.register=function(e){_i_("3bb:466e2a7c");var t="ID_"+this._lastID++;return this._callbacks[t]=e,_r_(t)},n.prototype.unregister=function(e){if(_i_("3bb:25499422"),!this._callbacks[e])throw Error("Dispatcher.unregister(...): `"+e+"` does not map to a registered callback.");delete this._callbacks[e],_r_()},n.prototype.waitFor=function(e){var t;if(_i_("3bb:697f6a60"),!this._isDispatching)throw Error("Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var i=0;i<e.length;i++){if(t=e[i],this._isPending[t]){if(!this._isHandled[t])throw Error("Dispatcher.waitFor(...): Circular dependency detected while waiting for `"+t+"`.");continue}if(!this._callbacks[t])throw Error("Dispatcher.waitFor(...): `"+t+"` does not map to a registered callback.");this._invokeCallback(t)}_r_()},n.prototype.dispatch=function(e){if(_i_("3bb:32ec5167"),this._isDispatching)throw Error("Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this._startDispatching(e);try{for(var t in this._callbacks)if(this._callbacks.hasOwnProperty(t)){if(this._isPending[t])continue;this._invokeCallback(t)}}finally{this._stopDispatching()}_r_()},n.prototype.isDispatching=function(){return _i_("3bb:3ef27a15"),_r_(this._isDispatching)},n.prototype._invokeCallback=function(e){_i_("3bb:a56cefcf"),this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0,_r_()},n.prototype._startDispatching=function(e){for(var t in _i_("3bb:f024e7d4"),this._callbacks)this._callbacks.hasOwnProperty(t)&&(this._isPending[t]=!1,this._isHandled[t]=!1);this._pendingPayload=e,this._isDispatching=!0,_r_()},n.prototype._stopDispatching=function(){_i_("3bb:ffd83fc4"),delete this._pendingPayload,this._isDispatching=!1,_r_()},i.exports=n,_r_()}),
/**
@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net
 */
function(){var D,A;if(_i_("3bb:343cc754"),!(D=this.jQuery||window.jQuery||(window.B&&B.requirejs?B.requirejs("jquery"):null)))return _r_();A=D(window),D.fn.stick_in_parent=function(e){var B,t,w,i,n,k,a,E,N,r,x,S,T;for(_i_("3bb:4906fa21"),null==e&&(e={}),T=e.sticky_class,k=e.inner_scrolling,S=e.recalc_every,x=e.parent,N=e.offset_top,E=e.spacer,w=e.bottoming,null==N&&(N=0),null==x&&(x=void 0),null==k&&(k=!0),null==T&&(T="is_stuck"),B=D(document),null==w&&(w=!0),r=function(e){var t,i;return _i_("3bb:c587f432"),window.getComputedStyle?(e[0],t=window.getComputedStyle(e[0]),i=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),"border-box"!==t.getPropertyValue("box-sizing")&&(i+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),_r_(i)):_r_(e.outerWidth(!0))},i=function(_,s,o,l,c,d,b,p){var u,e,h,f,m,g,M,v,t,y,C,n;if(_i_("3bb:c112498d"),_.data("sticky_kit"))return _r_();if(_.data("sticky_kit",!0),m=B.height(),M=_.parent(),null!=x&&(M=M.closest(x)),!M.length)throw"failed to find stick parent";if(u=h=!1,(C=null!=E?E&&_.closest(E):D("<div />"))&&C.css("position",_.css("position")),(v=function(){var e,t,i;if(_i_("3bb:124655f8"),p)return _r_();if(m=B.height(),e=parseInt(M.css("border-top-width"),10),t=parseInt(M.css("padding-top"),10),s=parseInt(M.css("padding-bottom"),10),o=M.offset().top+e+t,l=M.height(),h&&(u=h=!1,null==E&&(_.insertAfter(C),C.detach()),_.css({position:"",top:"",width:"",bottom:""}).removeClass(T),i=!0),c=_.offset().top-(parseInt(_.css("margin-top"),10)||0)-N,d=_.outerHeight(!0),b=_.css("float"),C&&C.css({width:r(_),height:d,display:_.css("display"),"vertical-align":_.css("vertical-align"),float:b}),i)return _r_(n());_r_()})(),d===l)return _r_();return f=void 0,g=N,y=S,n=function(){var e,t,i,n,a,r;if(_i_("3bb:87f12db0"),p)return _r_();if(i=!1,null!=y&&(y-=1)<=0&&(y=S,v(),i=!0),i||B.height()===m||(v(),i=!0),n=A.scrollTop(),null!=f&&(t=n-f),f=n,h?(w&&(a=l+o<n+d+g,u&&!a&&(u=!1,_.css({position:"fixed",bottom:"",top:g}).trigger("sticky_kit:unbottom"))),n<c&&(h=!1,g=N,null==E&&("left"!==b&&"right"!==b||_.insertAfter(C),C.detach()),e={position:"",width:"",top:""},_.css(e).removeClass(T).trigger("sticky_kit:unstick")),k&&(r=A.height())<d+N&&(u||(g-=t,g=Math.max(r-d,g),g=Math.min(N,g),h&&_.css({top:g+"px"})))):c<n&&(h=!0,(e={position:"fixed",top:g}).width="border-box"===_.css("box-sizing")?_.outerWidth()+"px":_.width()+"px",_.css(e).addClass(T),null==E&&(_.after(C),"left"!==b&&"right"!==b||C.append(_)),_.trigger("sticky_kit:stick")),h&&w&&(null==a&&(a=l+o<n+d+g),!u&&a))return u=!0,"static"===M.css("position")&&M.css({position:"relative"}),_r_(_.css({position:"absolute",bottom:s,top:"auto"}).trigger("sticky_kit:bottom"));_r_()},t=function(){return _i_("3bb:edf1750f"),v(),_r_(n())},e=function(){if(_i_("3bb:fcbea21a"),p=!0,A.off("touchmove",n),A.off("scroll",n),A.off("resize",t),D(document.body).off("sticky_kit:recalc",t),_.off("sticky_kit:detach",e),_.removeData("sticky_kit"),_.css({position:"",bottom:"",top:"",width:""}),M.position("position",""),h)return null==E&&("left"!==b&&"right"!==b||_.insertAfter(C),C.remove()),_r_(_.removeClass(T));_r_()},A.on("touchmove",n),A.on("scroll",n),A.on("resize",t),D(document.body).on("sticky_kit:recalc",t),_.on("sticky_kit:detach",e),_r_(setTimeout(n,0))},n=0,a=this.length;n<a;n++)t=this[n],i(D(t));return _r_(this)},_r_()}.call(this),B.define("ga-events-tracker",function(t,e,i){_i_("3bb:1b52fdbe");var n=t("ga-tracker"),r=t("promise"),_=t("when/events-view");function a(i){_i_("3bb:a8c56ec0"),this.events[i].forEach(function(t){_i_("3bb:41d132f9"),r.all(function e(t){_i_("3bb:9b1908ac");if(!Array.isArray(t))return _r_(e.call(this,[t]));return _r_(t.map(function(a){return _i_("3bb:abbafe74"),_r_(new r(function(t){if(_i_("3bb:e1a276b2"),"boolean"==typeof a)return a&&t(!0),_r_();var e=a.split(/\s+/),i=e.shift(),n=e.join(" ");switch(i){case"ready":$(function(){_i_("3bb:daa0dbee"),t(!0),_r_()});break;case"presence":0<$(n).length&&t(!0);break;case"view":_(n,function(){_i_("3bb:de3992a7"),t(!0),_r_()});break;case"hover":i="mouseenter";case"click":case"mousedown":case"mouseup":case"focus":case"change":case"input":case"submit":$("body").one(i,n,function(){_i_("3bb:daa0dbee1"),t(!0),_r_()});break;case"event":this.emitter.one(n,function(e){_i_("3bb:1e65626c"),t(e),_r_()})}_r_()}.bind(this)))}.bind(this)))}.call(this,t.trigger)).then(function(){_i_("3bb:1b07bce3");var e=null;"function"==typeof t.value&&(e=t.value()),"number"==typeof t.value&&(e=t.value),n.trackEvent(this.categoryName,i,t.label,e),_r_()}.bind(this)),_r_()}.bind(this)),_r_()}function s(e){if(_i_("3bb:ea97b0fc"),!e.categoryName)throw Error("ga-events-tracker: you must define a categoryName");if(!e.eventsMap)throw Error("ga-events-tracker: you must define an eventsMap");this.emitter=e.emitter||t("events"),this.events=e.eventsMap,this.categoryName=e.categoryName,Object.keys(this.events).forEach(a.bind(this)),_r_()}var o={setup:function(e){return _i_("3bb:33c47c48"),_r_(new s(e))}};i.exports=o,_r_()}),B.define("utils/device",function(e,t,i){"use strict";_i_("3bb:76f25c22");var n=navigator.userAgent,r=/(iPad|iPhone)\b/.test(n),_=-1!==n.indexOf("Android");i.exports={isOrientationLandscape:function(){_i_("3bb:c75d0a9c");var e,t,i,n=Math.abs(window.orientation),a=n||0===n;if(a&&r)return _r_(90===n);if("matchMedia"in window)for(e=["(min-aspect-ratio: 4/3)","(orientation:landscape)"];t=e.shift();)if(t==(i=window.matchMedia(t)).media)return _r_(i.matches);return _r_(!(!a||!_)&&90!==n)}},_r_()}),booking.define("component/accordion",function(e,t,i){_i_("3bb:78f14b16");var n=".accordion__item, .js-accordion-toggle",o=".js-accordion-trigger",l=".accordion__item__content, .js-accordion-content",c="accordion__item--is-expanded",a="accordion__item--is-disabled",d="accordion__item--is-active",r={duration:150,animate:!0,active:0,expandActive:!0,collapsible:!1,enableMultiple:!1,easing:"swing"},b="accordion:beforeClose",p="accordion:afterClose",u="accordion:beforeOpen",h="accordion:afterOpen",_=["click","tap","keydown"],s=B.require("component"),f=B.require("events");i.exports=s.extend({clickHandler:function(e){_i_("3bb:374b1357"),this.toggle(e),_r_()},toggle:function(e){_i_("3bb:ea64fd6c");var t=this,i=t.$current,n=t.options.animate?t.options.duration:0,a=t.options.easing,r=t.options.collapsible,_=t.options.enableMultiple,s=t.$containers.filter("."+c+", ."+d);if(e.is(i)&&e.hasClass(c)&&!r)return _r_();if(_||s.each(function(){_i_("3bb:b9e49f5f"),f.trigger(b,$(this)),$(this).children(l).stop().slideUp(n,a,function(){_i_("3bb:b8606c6c"),$(this).removeClass(c+" "+d),$(this).find(o).attr("aria-expanded",!1),f.trigger(p,$(this)),t.$current=null,_r_()}.bind(this)),_r_()}),e.hasClass(c)&&_)return f.trigger(b,e),e.children(l).stop().slideUp(n,a,function(){_i_("3bb:d549e0e5"),e.removeClass(c+" "+d),e.find(o).attr("aria-expanded",!1),f.trigger(p,e),t.$current=null,_r_()}),_r_();e.is(i)&&!_||(f.trigger(u,e),e.children(l).stop().slideDown(n,a,function(){_i_("3bb:6283f903"),e.addClass(c),e.find(o).attr("aria-expanded",!0),t.$current=e,f.trigger(h,t.$current),_r_()})),_r_()},bindEvents:function(){_i_("3bb:a104d973");var i=this;this.$containers.on(_.join(" "),function(e){_i_("3bb:965b40d2");var t=$(this);if(!$(e.target).closest(o).length)return _r_();if(t.hasClass(a))return _r_();if("keydown"===e.type){if(" "!==event.key&&"Enter"!==event.key&&"Spacebar"!==event.key)return _r_();e.preventDefault()}i.clickHandler.call(i,t),_r_()}),this.$active.length&&(this.options.active=this.$containers.index(this.$active)),this.options&&null!=this.options.active&&1==this.options.expandActive&&this.$containers.eq(this.options.active).trigger("click"),_r_()},setDataOptions:function(){_i_("3bb:a9b65784");var e=this.$el.data("accordion-settings");"undefined"!=e&&"object"==typeof e&&(this.options=$.extend({},r,e)),this.options.enableMultiple&&(this.options.collapsible=!0),_r_()},setup:function(){_i_("3bb:fcad1209"),this.$wrapper=this.$el,this.$containers=this.$wrapper.children(n);var e=this.$containers.filter("."+c);if(this.$current=e.length?e:null,this.$active=this.$containers.filter("."+d),!this.$containers.length)return _r_();this.setDataOptions(),this.bindEvents(),_r_()},init:function(){_i_("3bb:e7e93951"),this.setup(),_r_()}}),_r_()}),B.define("reducer-store",function(e,t,i){function n(e,t){_i_("3bb:d94ee19a"),this.reduce=e,this.state=t,this.subscribers=[],_r_()}_i_("3bb:ec06840b"),n.prototype.subscribe=function(e){_i_("3bb:3594b703"),this.subscribers.push(e),_r_()},n.prototype.dispatch=function(t){_i_("3bb:13bfdcf1");var i=this.state,n=this.state=this.reduce(this.state,t);this.subscribers.forEach(function(e){_i_("3bb:39d55cc9"),e(n,i,t),_r_()}),_r_()},n.prototype.getState=function(){return _i_("3bb:74398da2"),_r_(this.state)},n.prototype.getValueByPath=function(e,t){_i_("3bb:ff4a7371");var i=(e||"").split(".").reduce(function(e,t){return _i_("3bb:d24b70b3"),_r_(e&&e[t])},this.state);return _r_(void 0!==i?i:t)},n.prototype.use=function(e){_i_("3bb:ffb36cbb");var t=this;return this.dispatch=e.map(function(e){return _i_("3bb:2daca007"),_r_(e.bind(null,t))}).reduceRight(function(e,t){return _i_("3bb:62771d3a"),_r_(t.bind(null,e))},this.dispatch.bind(this)),_r_(this)},i.exports=n,_r_()}),B.define("component/popup-open",function(e,t,i){_i_("3bb:38e0536e");var n=e("component");i.exports=n.extend({init:function(){_i_("3bb:d513fdf2"),this.$el.click(this.click.bind(this)),_r_()},click:function(e){_i_("3bb:9a303f81"),e.preventDefault();var t=this.$el.attr("href"),i=Math.floor(this.$el.attr("data-width"))||400,n=Math.floor(this.$el.attr("data-height"))||400,a=screen.availTop||0,r=screen.availLeft||0,_=screen.width/2-i/2+r,s=screen.height/2-n/2+a,o=window;o.open.call(o,t,"_blank","width="+i+",height="+n+",top="+s+",left="+_+",toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes"),_r_()}}),_r_()}),B.define("component/clipboard",function(e,t,i){_i_("3bb:730c721c");var n=e("component"),a=e("read-data-options"),r=e("events");i.exports=n.extend({init:function(){_i_("3bb:5550f143"),this.optionsSpec=this.optionsSpec||{},this.optionsSpec=$.extend(this.optionsSpec,{text:{name:"text",type:String}}),this.options=a(this.$el,this.optionsSpec),this.$el.on("click",".js-copy",this.copyText.bind(this,this.options.text)),_r_()},copyText:function(e){_i_("3bb:f87fa8b3");var t=B.env.b_lang_rtl,i=document.createElement("textarea");i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="fixed",i.style[t?"right":"left"]="-9999px",i.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",i.setAttribute("readonly",""),i.value=this.options.text,document.body.appendChild(i),$(i).select(),i.setSelectionRange&&i.setSelectionRange(0,9999),this.execCopyText(),$(i).remove(),_r_()},execCopyText:function(){var t;_i_("3bb:250ad4fe");try{t=document.execCommand("copy")}catch(e){t=!1}this.handleResult(t),_r_()},handleResult:function(e){_i_("3bb:b53c3a09"),this.$el.toggleClass("-success",e),this.$el.toggleClass("-error",!e),r.emit("CLIPBOARD.copy_"+(e?"success":"error")),_r_()}}),_r_()}),B.define("component/autocomplete",function(e,t,i){_i_("3bb:5e7e7dda");var _=e("component/autocomplete-core");i.exports=_.extend({init:function(){_i_("3bb:1efeac28"),_.prototype.init.apply(this,arguments),this.firstItemIndex=-1,this.hiddenClass="-hidden",this.loadItems(),_r_()},loadItems:function(){_i_("3bb:142bc884"),this.items=[],this.$items.each(function(e,t){_i_("3bb:206d7dd2");var i=$(t),n=i.text(),a=i.attr("data-value")||n;this.items.push({value:a,valueLowerCase:a.toLowerCase(),hidden:!1}),i.data("i",this.items.length-1),_r_()}.bind(this)),_r_()},getListLength:function(){return _i_("3bb:3815a493"),_r_(this.items.filter(function(e){return _i_("3bb:e1c2053d"),_r_(!e.hidden)}).length)},getListFirstIndex:function(){return _i_("3bb:6eea8dca"),_r_(this.firstItemIndex)},autocomplete:function(){_i_("3bb:704778c9");for(var e=this.input.value.toLowerCase().split(/\s+/g),t=!1,i=0,n=this.items.length;i<n;i++){this.items[i].hidden=!1;for(var a=0,r=e.length;a<r;a++)if(e[a]&&-1==this.items[i].valueLowerCase.indexOf(e[a])){this.items[i].hidden=!0;break}this.items[i].hidden||t||(t=!0,this.firstItemIndex=i),this.$items.eq(i).toggleClass(this.hiddenClass,this.items[i].hidden)}_.prototype.autocomplete.apply(this,arguments),_r_()},reset:function(){_i_("3bb:7f5d64bf"),this.firstItemIndex=-1,_.prototype.reset.apply(this,arguments),_r_()}}),_r_()}),B.define("component/autocomplete-core",function(e,t,i){_i_("3bb:62e893cf");var n=e("jquery"),a=e("component"),r=e("read-data-options");i.exports=a.extend({init:function(){_i_("3bb:bebc96f6"),this.highlightedIndex=-1,this.isDeletion=!1,this.items=[],this.keyDownCount=0,this.keysDown={},this.listHeight=0,this.listVisible=!1,this.preventBlurClose=!1,this.selectedIndex=-1,this.selectedValue=null,this.valueBuffer=null,this.clickOutController=e("click-out"),this.clickOutMonitorId=null,this.highlightClass="-highlighted",this.$input=this.$el.find('[data-input=""]'),this.input=this.$input[0],this.$list=this.$el.find('[data-list=""]'),this.$items=n("[data-list-item]",this.$list),this.optionsSpec=this.optionsSpec||{},this.optionsSpec=n.extend(this.optionsSpec,{openFocus:{name:"open-focus",type:Boolean},highlightFirst:{name:"highlight-first",type:Boolean},forceHighlight:{name:"highlight-force",type:Boolean},focusOnItemSelect:{name:"focus-on-item-select",type:Boolean}}),this.options=r(this.$el,this.optionsSpec),this.supportsInputEvent=this.input&&"oninput"in this.input,this.addInputEventListeners(),this.addListEventListeners(),this.addItemsEventListeners(),this.calculateListHeight(),this.$input.attr("autocomplete","off"),_r_()},addInputEventListeners:function(){_i_("3bb:ddce441a");var e=this.$input.component("keyboard");e.on("keydown:Escape",this.inputEscape.bind(this)),e.on("keydown:ArrowUp",this.inputArrowUp.bind(this)),e.on("keydown:ArrowDown",this.inputArrowDown.bind(this)),e.on("keydown:Enter",this.inputEnter.bind(this)),e.on("keydown:Tab",this.inputTab.bind(this)),this.$input.on("click",this.inputClick.bind(this)),this.$input.focus(this.inputFocus.bind(this)),this.$input.blur(this.inputBlur.bind(this)),this.$input.keydown(this.inputKeyDown.bind(this)),this.$input.bind("input",this.inputInput.bind(this)),this.$input.keyup(this.inputKeyUp.bind(this)),_r_()},addListEventListeners:function(){_i_("3bb:16de6562"),this.$list.mousedown(this.listMouseDown.bind(this)),this.$list.mouseup(this.listMouseUp.bind(this)),this.$list.on("click",'[data-list-item=""]',this.listItemClick.bind(this)),_r_()},addItemsEventListeners:function(){_i_("3bb:7a96b5f0"),this.$items.click(this.listItemClick.bind(this)),_r_()},addClickOutEventListener:function(){_i_("3bb:578e273f"),this.clickOutMonitorId=this.clickOutController.addMonitor(this.el,this.clickOut.bind(this)),_r_()},removeClickOutEventListener:function(){_i_("3bb:be8a451d"),this.clickOutController.removeMonitor(this.clickOutMonitorId),_r_()},calculateListHeight:function(){_i_("3bb:69d19d36"),this.listHeight=this.$list.outerHeight(),_r_()},inputClick:function(e){},inputFocus:function(e){_i_("3bb:50598299"),this.options.openFocus&&(this.listShow(),this.autocomplete({fromFocus:!0})),_r_()},inputBlur:function(e){_i_("3bb:bb9f2bdf"),setTimeout(this.inputBlurSync.bind(this),4),_r_()},inputBlurSync:function(){_i_("3bb:1be76dc3"),!this.preventBlurClose&&this.listVisible&&(this.highlightReset(),this.reset()),_r_()},inputKeyDown:function(e){_i_("3bb:4b6b6451");var t=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey,i=8==e.which||46==e.which;this.isDeletion=i,this.taintedKeyDown=t,_r_()},inputInput:function(e){_i_("3bb:ae080a97"),this.autocomplete(),_r_()},inputKeyUp:function(e){_i_("3bb:6eb2190a");var t=this.taintedKeyDown||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||16<=e.which&&e.which<=18||91==e.which,i=32==e.which||48<=e.which,n=37<=e.which&&e.which<=40;t||((n||i)&&this.listShow(),!this.isDeletion&&!i||this.supportsInputEvent||this.autocomplete(),i&&this.keyDownCount++),_r_()},inputEscape:function(e){_i_("3bb:a63e3a5c"),this.listVisible&&(e.originalEvent.preventDefault(),this.highlightReset(),this.reset()),_r_()},inputArrowUp:function(e){_i_("3bb:71605c6e"),e.originalEvent.preventDefault(),this.listVisible?this.highlightPrevious():this.listShow(),_r_()},inputArrowDown:function(e){_i_("3bb:b3fa5988"),e.originalEvent.preventDefault(),this.listVisible?this.highlightNext():this.listShow(),_r_()},inputEnter:function(e){_i_("3bb:0c057b22"),this.listVisible&&-1!=this.highlightedIndex&&(e.originalEvent.preventDefault(),this.choose(this.highlightedIndex)),_r_()},inputTab:function(e){_i_("3bb:80ac1b01"),this.inputEnter.apply(this,arguments),_r_()},listItemClick:function(e){_i_("3bb:afab041c");var t=n(e.currentTarget);this.options.focusOnItemSelect&&this.input.focus(),this.choose(t.data("i")),_r_()},listMouseDown:function(e){_i_("3bb:9568a986"),this.preventBlurClose=!0,_r_()},listMouseUp:function(e){_i_("3bb:d660fe51"),this.preventBlurClose=!1,_r_()},clickOut:function(){_i_("3bb:095cbd45"),this.listVisible&&(this.highlightReset(),this.reset()),_r_()},setValue:function(e){_i_("3bb:9ee5cf87"),this.input.value=e,_r_()},listShow:function(){_i_("3bb:7f0b6848"),this.listVisible||this._loading||(this.$list.addClass("-visible"),this.listVisible=!0,this.addClickOutEventListener(),this.$list[0].scrollTop=1,setTimeout(function(){_i_("3bb:e08d76c5"),this.$list[0].scrollTop=0,_r_()}.bind(this),10)),_r_()},listHide:function(){_i_("3bb:44a78ebb"),this.listVisible&&(this.$list.removeClass("-visible"),this.resetFlags(),this.removeClickOutEventListener()),_r_()},highlightPrevious:function(){_i_("3bb:5af5b819");for(var e=this.highlightedIndex;-1==e?e=this.items.length-1:e--,-1!=e&&this.items[e].hidden;);this.highlightFromNavigation(e),_r_()},highlightNext:function(){_i_("3bb:57b7aad5");for(var e=this.highlightedIndex;e==this.items.length-1?e=-1:e++,-1!=e&&this.items[e].hidden;);this.highlightFromNavigation(e),_r_()},highlightFromNavigation:function(e,t,i){if(_i_("3bb:1de2a5d2"),(-1==this.highlightedIndex||t)&&(this.valueBuffer=this.input.value),-1==e)this.highlightReset({preserveFocus:!0});else if(this.supportsInputEvent)if(this.valueBuffer&&0==this.items[e].valueLowerCase.indexOf(this.valueBuffer.toLowerCase())){var n=this.valueBuffer.length,a=this.items[e].value.length,r=this.valueBuffer+this.items[e].value.substring(n);if(this.input.value==r||i||this.setValue(r),this.input.setSelectionRange)this.input.setSelectionRange(a,a);else if(this.input.createTextRange){var _=this.input.createTextRange();_.collapse(!0),_.moveStart("character",n),_.moveEnd("character",a),_.select()}else void 0!==this.input.selectionStart&&(this.input.selectionStart=n,this.input.selectionEnd=a)}else i||(this.setValue(this.items[e].value),this.fixIEFocusLoss());this.highlight(e),_r_()},highlightFromAutocomplete:function(){_i_("3bb:fe992877");var e=this.input.value,t=this.getListFirstIndex();-1!==t&&this.options.highlightFirst&&!this.isDeletion&&e&&0===this.items[t].valueLowerCase.indexOf(e.toLowerCase())||this.options.forceHighlight?this.highlightFromNavigation(t,!0):this.highlight(-1),_r_()},highlight:function(e){_i_("3bb:afe25219"),this.listShow(),-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),-1!=e&&this.$items.eq(e).addClass(this.highlightClass),this.highlightedIndex=e,this.highlightScroll(),_r_()},highlightReset:function(e){_i_("3bb:1ee32de1"),e=e||{},null===this.valueBuffer||e.preserveInputValue||(this.setValue(this.valueBuffer),e.preserveFocus&&this.fixIEFocusLoss()),-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),this.highlightedIndex=-1,_r_()},highlightScroll:function(){_i_("3bb:9a9e1dd1");var e=!1,t=this.$list[0].scrollTop;if(-1!=this.highlightedIndex){var i=this.$items.eq(this.highlightedIndex),n=(1==i.length&&i.position().top)+t,a=i.outerHeight();n+a>this.listHeight+t?e=n+a-this.listHeight:n<t&&(e=n)}else e=0;!1!==e&&e!=t&&(this.$list[0].scrollTop=e),_r_()},getListLength:function(){return _i_("3bb:257516ce"),_r_(this.items.length)},getListFirstIndex:function(){return _i_("3bb:bd23caef"),0===this.items.length?_r_(-1):_r_(0)},autocomplete:function(){_i_("3bb:26e661c0"),this.postAutocomplete(),_r_()},postAutocomplete:function(){_i_("3bb:b9fe1f74"),this.listShow(),this.calculateListHeight(),this.highlightFromAutocomplete(),_r_()},choose:function(e){_i_("3bb:6ae9c094"),this.selectedIndex=e,B.env.fe_s_prprtyt?this.selectedValue=this.items[e].valueWithPropertyType?this.items[e].valueWithPropertyType:this.items[e].value:this.selectedValue=this.items[e].value,this.setValue(this.selectedValue),this.reset(),_r_()},reset:function(e){_i_("3bb:a458ad8e"),e=e||{},-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),this.listHide(),e.hard&&(this.resetFlags(),this.selectedIndex=-1,this.selectedValue=null,this.setValue("")),_r_()},resetFlags:function(){_i_("3bb:ad386500"),this.highlightedIndex=-1,this.isDeletion=!1,this.keyDownCount=0,this.keysDown={},this.listVisible=!1,this.preventBlurClose=!1,this.valueBuffer=null,_r_()},fixIEFocusLoss:function(){if(_i_("3bb:0430c723"),this.input.createTextRange){var e=this.input.createTextRange();e.moveStart("character",this.input.value.length),e.collapse(),e.select()}_r_()}}),_r_()}),B.define("component/checkin-checkout-selector",function(e,t,i){_i_("3bb:05d322f2");var n=e("component"),a=e("event-emitter");i.exports=n.extend({init:function(){_i_("3bb:fad147d8"),a.extend(this),this._findCheckinCheckoutSelectors(),this.interval=this.getInterval(),this._attachEvents(),this._updateCalendarsRanges(),_r_()},_onCalendarOpen:function(e){_i_("3bb:c93814fb"),e.id===this.checkinSelector.getCalendar().id()?this.checkoutSelector.getCalendarElement().trigger("hide"):this.checkinSelector.getCalendarElement().trigger("hide"),_r_()},_onCheckinDateChange:function(e){_i_("3bb:49ab6897");var t,i=this.interval||1,n=this._getTodayDate();this.checkinSelector.getFullDate().raw.getTime()<n.getTime()&&(this.checkinSelector.setDate(n.getFullYear(),n.getMonth(),n.getDate()),this.interval=this.getInterval()),this.isCheckinCheckoutValid()||(t=this._getDateAfterInterval(this.checkinSelector.getFullDate().raw,i),this.checkoutSelector.setDate(t.getFullYear(),t.getMonth(),t.getDate())),this.interval=this.getInterval(),this._updateCalendarsRanges(),this.trigger("dates-changed",{checkin:this.checkinSelector.getFullDate(),checkout:this.checkoutSelector.getFullDate()}),_r_()},_onCheckoutDateChange:function(e){_i_("3bb:25d53aa6");var t,i,n=this.interval||1,a=this._getTodayDate();this.checkoutSelector.getFullDate().raw.getTime()<=a.getTime()&&(i=this._getDateAfterInterval(a,1),this.checkoutSelector.setDate(i.getFullYear(),i.getMonth(),i.getDate()),this.interval=this.getInterval()),this.isCheckinCheckoutValid()||((t=this._getDateBeforeInterval(this.checkoutSelector.getFullDate().raw,n)).getTime()<a.getTime()&&(t=a),this.checkinSelector.setDate(t.getFullYear(),t.getMonth(),t.getDate())),this.interval=this.getInterval(),this._updateCalendarsRanges(),this.trigger("dates-changed",{checkin:this.checkinSelector.getFullDate(),checkout:this.checkoutSelector.getFullDate()}),_r_()},_attachEvents:function(){_i_("3bb:686065a2"),this.checkinSelector.on("calendar-open",this._onCalendarOpen.bind(this)),this.checkoutSelector.on("calendar-open",this._onCalendarOpen.bind(this)),this.checkinSelector.on("date-change",this._onCheckinDateChange.bind(this)),this.checkoutSelector.on("date-change",this._onCheckoutDateChange.bind(this)),_r_()},_findCheckinCheckoutSelectors:function(){_i_("3bb:62e43fee"),this.checkinSelector=this.$el.find("[data-checkin-selector='']").component("date-selector"),this.checkoutSelector=this.$el.find("[data-checkout-selector='']").component("date-selector"),_r_()},_getDateAfterInterval:function(e,t){return _i_("3bb:3987924e"),_r_(new Date(e.getTime()+(864e5*t-60*e.getTimezoneOffset()*1e3)))},_getDateBeforeInterval:function(e,t){return _i_("3bb:e41ac6bb"),_r_(new Date(e.getTime()-(864e5*t+60*e.getTimezoneOffset()*1e3)))},_getTodayDate:function(){_i_("3bb:1d25650b");var e=new Date;return _r_(new Date(e.getFullYear(),e.getMonth(),e.getDate()))},_updateCalendarsRanges:function(){_i_("3bb:907ce727");var e=this.checkinSelector.getCalendarElement(),t=this.checkoutSelector.getCalendarElement(),i=this.checkinSelector.getFullDate(),n=this.checkoutSelector.getFullDate();e&&e.trigger("rangeSelected",{startValue:i,endValue:n}),t&&t.trigger("rangeSelected",{startValue:i,endValue:n}),_r_()},isCheckinCheckoutValid:function(){return _i_("3bb:49963c26"),_r_(0<this.getInterval())},getInterval:function(){function e(e){return _i_("3bb:0d17d68e"),_r_(new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0,0)))}_i_("3bb:927ec244");var t=e(this.checkinSelector.getFullDate().raw),i=e(this.checkoutSelector.getFullDate().raw);return _r_(parseInt((i-t)/864e5,10))},getCheckinSelector:function(){return _i_("3bb:df16f331"),_r_(this.checkinSelector)},getCheckoutSelector:function(){return _i_("3bb:2c445686"),_r_(this.checkoutSelector)},getDateRange:function(){return _i_("3bb:7273cafd"),_r_({checkin:this.checkinSelector.getFullDate().raw,checkout:this.checkoutSelector.getFullDate().raw})},getDateObjectsRange:function(){return _i_("3bb:54c0566d"),_r_({checkin:this.checkinSelector.getFullDate(),checkout:this.checkoutSelector.getFullDate()})},setDateRange:function(e,t){_i_("3bb:9c35a461"),this.checkinSelector.setDate(e.getFullYear(),e.getMonth(),e.getDate()),this.checkinSelector.broadcastDateChange(),this.checkoutSelector.setDate(t.getFullYear(),t.getMonth(),t.getDate()),this.checkoutSelector.broadcastDateChange(),_r_()}}),_r_()}),B.define("component/date-selector",function(e,t,i){_i_("3bb:12ab5dbc");var a=e("jquery"),n=e("component"),r=e("event-emitter"),_=e("formatting/date"),s=B.env.b_simple_weekdays_for_js.slice(0),o=s.slice(0);o.unshift(o.pop());var l=B.env.b_short_months,c=B.env.sunday_first,d=B.env.b_lang;i.exports=n.extend({init:function(){_i_("3bb:e565d5d3"),r.extend(this);var e=this.$el.find("[data-dateselector-calendar='']");this.daySelect=this.$el.find("[data-dateselector-day='']"),this.monthYearSelect=this.$el.find("[data-dateselector-monthyear='']"),this.dateLabel=this.$el.find("[data-dateselector-label='']"),this.dateLabel&&(this.dateFormat=this.dateLabel.data("date-format")||"date_with_year"),this.monthSelect=this.$el.find("[data-dateselector-month='']"),this.yearSelect=this.$el.find("[data-dateselector-year='']"),this.showWeekDays=!this.$el.data("no-weekdays"),this.$el.data("init-set-day-select")&&this._updateDaySelect(this.getYear(),this.getMonth()),this.calendar=e.length?this._initCalendar(e):null,this._attachEvents(),this.$el.data("no-init-change-trigger")||this.monthYearSelect.trigger("change"),_r_()},_onMonthYearSelectChange:function(){_i_("3bb:0eb37b2a");var e=this.getDay(),t=this.getMonth(),i=this.getYear();e=this._updateDaySelect(i,t),this.calendar&&this._setCalendarDate(i,t,e),0<this.dateLabel.length&&this._updateDateLabel(i,t,e),this.trigger("date-change",this._buildDateObject(i,t,e)),_r_()},_onDaySelectChange:function(e){_i_("3bb:03906e4c");var t=this.getDay(),i=this.getMonth(),n=this.getYear();this.calendar&&this._setCalendarDate(n,i,t),0<this.dateLabel.length&&this._updateDateLabel(n,i,t),this.trigger("date-change",this._buildDateObject(n,i,t)),_r_()},_onCalendarDateSelected:function(e,t,i){_i_("3bb:86c8de0e");var n=t.getYear(),a=t.getMonth(),r=t.getDate();this._setSelectsDate(n,a,r),0<this.dateLabel.length&&this._updateDateLabel(n,a,r),this.trigger("calendar-date-selected"),this.trigger("date-change",this._buildDateObject(n,a,r)),_r_()},_onCalendarOpened:function(e,t){_i_("3bb:9103c27a");var i=this.calendar.data("calendar2");i&&t.id===i.id()&&this.trigger("calendar-open",t),_r_()},_attachEvents:function(){_i_("3bb:1ac153d3"),this.monthYearSelect.bind("change",a.proxy(this._onMonthYearSelectChange,this)),this.daySelect.bind("change",a.proxy(this._onDaySelectChange,this)),this.monthSelect.bind("change",a.proxy(this._onMonthYearSelectChange,this)),this.yearSelect.bind("change",a.proxy(this._onMonthYearSelectChange,this)),_r_()},_initCalendar:function(e){if(_i_("3bb:f6c03e98"),!a.fn.calendar2)return _r_(null);var t=1===B.env.b_is_tablet?400:261;B.eventEmitter.bind("CALENDAR:opened",a.proxy(this._onCalendarOpened,this));var i=booking.calendar2.defaults.startDate,n=new Date(i.getFullYear()+1,i.getMonth()+1,0);return B.env.b_search_max_months&&(n=new Date(i.getFullYear(),i.getMonth()+B.env.b_search_max_months,0)),_r_(a(e).calendar2({dayNames:c?o:s,sundayFirst:c,monthNames:l,endDate:n,defaultDate:this.getFullDate(),onDateSelected:a.proxy(this._onCalendarDateSelected,this),direction:B.env.rtl?"rtl":"ltr",closeButton:!0,monthWidth:t,arrow:!!this._showArrow,monthTitle:function(e,t){if(_i_("3bb:fcb7d46d"),B.env.b_year_months[e+"-"+(t+1)])return _r_(B.env.b_year_months[e+"-"+(t+1)].name);_r_()}}))},_setCalendarDate:function(e,t,i){_i_("3bb:85431d4a"),this.calendar.trigger("dateSelected",{value:this._buildDateObject(e,t,i)}),_r_()},_setSelectsDate:function(e,t,i){_i_("3bb:b950d941"),this.monthYearSelect.val(e+"-"+(t+1)),this._updateDaySelect(e,t),this.daySelect.val(i),_r_()},_updateDateLabel:function(e,t,i){_i_("3bb:a2ec92f0");var n=_.format({year:e,month:t,day:i},this.dateFormat);this.dateLabel.html(n),_r_()},_buildDateObject:function(e,t,i){return _i_("3bb:dec699f1"),_r_({date:i,day:i,month:t,year:e,string:e+"-"+(t+1)+"-"+i,raw:new Date(e,t,i)})},_updateDaySelect:function(e,t){_i_("3bb:b2de8ac3");var i,n=this.getDay();if(isNaN(t)&&(t=0),this.daySelect.html(this._buildDayOptionsForMonthYear(e,t)),isNaN(n))return _r_(NaN);return i=this.daySelect.find("[value='"+n+"']").length?n:this.getDaysInMonth(e,t),this.daySelect.val(i),_r_(i)},_buildDayOptionsForMonthYear:function(e,t){_i_("3bb:938faf52");var i,n=new Date(e,t,1).getDay(),a=this.getDaysInMonth(e,t),r=[],_=this.showWeekDays;this.daySelect.find("option:first").val()||r.push("<option></option>");for(var s=1;s<=a;s++)i=_?"ja"===d||"zh"===d||"ko"===d||"hu"===d?s+" "+o[n]:o[n]+" "+s:s,r.push("<option value='"+s+"'>"+i+"</option>"),n=6===n?0:n+1;return _r_(r.join(""))},getDaysInMonth:function(e,t){switch(_i_("3bb:3779fa56"),e=parseInt(e,10),t){case 1:return _r_(e%4==0&&e%100!=0||e%400==0?29:28);case 0:case 2:case 4:case 6:case 7:case 9:case 11:return _r_(31);case 3:case 5:case 8:case 10:return _r_(30)}_r_()},getYear:function(){if(_i_("3bb:56ce828f"),this.yearSelect.length)return _r_(parseInt(this.yearSelect.val()||this.yearSelect.find("option[selected]").val(),10));return _r_(parseInt((this.monthYearSelect.val()||this.monthYearSelect.find("option[selected]").val()).split("-")[0],10))},getMonth:function(){if(_i_("3bb:d7b36d81"),this.monthSelect.length)return _r_(parseInt(this.monthSelect.val()||this.monthSelect.find("option[selected]").val(),10)-1);return _r_(parseInt((this.monthYearSelect.val()||this.monthYearSelect.find("option[selected]").val()).split("-")[1],10)-1)},getDay:function(){return _i_("3bb:a74ee12f"),_r_(parseInt(this.daySelect.val()||this.daySelect.find("option[selected]").val(),10))},getFullDate:function(){_i_("3bb:9bfb28e5");var e=this.getDay(),t=this.getMonth(),i=this.getYear();return _r_(this._buildDateObject(i,t,e))},getCalendarElement:function(){return _i_("3bb:4786cae1"),_r_(this.calendar)},getCalendar:function(){if(_i_("3bb:bb69f8a2"),!this.calendar)return _r_(null);return _r_(this.calendar.data("calendar2"))},setDate:function(e,t,i){_i_("3bb:002dd44e"),this._setSelectsDate(e,t,i),this.calendar&&this._setCalendarDate(e,t,i),0<this.dateLabel.length&&this._updateDateLabel(e,t,i),_r_()},broadcastDateChange:function(){_i_("3bb:06253c1d");var e=this.getDay(),t=this.getMonth(),i=this.getYear();this.trigger("date-change",this._buildDateObject(i,t,e)),_r_()}}),_r_()}),B.define("component/core/input-placeholder",function(e,t,i){"use strict";_i_("3bb:4f7a488e");var n=e("component"),a=e("read-data-options");return _r_(n.extend({init:function(){if(_i_("3bb:da9a7aaa"),this.browserSupported())return _r_();this.options=a(this.$el,{placeholderClass:{name:"placeholder-class",type:String},placeholderColor:{name:"placeholder-color",type:String,defaultValue:"#7C90A6"}});var e="input, textarea",t=this.$el.find(e);this.$el.is(e)&&(t=t.add(this.$el)),t.filter(function(e,t){return _i_("3bb:bbabec74"),_r_(!!$(t).attr("placeholder"))}).each(function(e,t){_i_("3bb:c0314b00"),this.setupPlaceholder($(t)),_r_()}.bind(this)),_r_()},browserSupported:function(){_i_("3bb:b8571c30");var e=$('input[type="text"]')[0]||$('<input type="text">')[0];return _r_(!!("placeholder"in e))},setupPlaceholder:function(e){_i_("3bb:04be5dbd");var t=$("<label />").text(e.attr("placeholder")).css({width:e.width()+"px",height:e.height()+"px",paddingTop:e.css("padding-top"),paddingLeft:e.css("padding-left"),paddingRight:e.css("padding-right"),fontFamily:e.css("font-family"),fontSize:e.css("font-size"),color:this.options.placeholderColor,overflow:"hidden",cursor:"text",position:"absolute"});this.options.placeholderClass&&t.addClass(this.options.placeholderClass),t.insertBefore(e),t.click(function(){_i_("3bb:8b3ebc9a"),e.focus(),_r_()}),e.focus(function(){_i_("3bb:d2d65377"),t.hide(),_r_()}).blur(function(){_i_("3bb:9fa6d3f0"),t[e.val().length?"hide":"show"](),_r_()}),e.get(0)===document.activeElement?e.triggerHandler("focus"):e.triggerHandler("blur"),_r_()}}))}),B.define("component/input-limited",function(e,t,i){_i_("3bb:24d66be1");var n=e("component"),a=e("keycodes"),r=e("server-data"),_=e("et"),s={_attachEvents:function(e){_i_("3bb:378c194f"),this.$el.on("keydown",this._onFieldKeydown.bind(this)).on("paste",this._onFieldPaste.bind(this)),_r_()},_isAllowedType:function(e){return _i_("3bb:3ca4ec84"),_r_(-1!==this.allowedTypes.indexOf(e))},_onFieldKeydown:function(e){_i_("3bb:81bddfd1");var t=e.which;if(a.isNavigation(t)||a.isDeletion(t)||a.isTab(t)||a.isModifier(t))return _r_(!0);if(a.isC(t)&&(e.ctrlKey||e.metaKey))return _r_(!0);if(a.isX(t)&&(e.ctrlKey||e.metaKey))return _r_(!0);if(a.isV(t)&&(e.ctrlKey||e.metaKey))return _r_(!0);if(this._isAllowedType("space")&&a.isSpace(t))return _r_(!0);if(this._isAllowedType("number")&&a.isNumber(t)&&!e.shiftKey&&!e.altKey)return _r_(!0);if(this._isAllowedType("backquoteNumeric")&&!isNaN(parseInt(e.key))&&/\d+/g.test(e.originalEvent.charCode)&&Boolean(r.isPhoneNumberInputFixActive)&&_.stage("HBIUeBVdNHWTRbAOdPMZCbdfJUFZFeCTMPTXeUMAae",1)){if(Boolean(r.isPhoneNumberInputFixEnabled))return _r_(!0);return _r_(!1)}if(this._isAllowedType("alphabetic")&&a.isAlphabetic(t))return _r_(!0);e.preventDefault(),_r_()},_onFieldPaste:function(e){_i_("3bb:703b7816"),setTimeout(function(){_i_("3bb:f97669b3");var e=this.$el.val();e=e.replace(/[^\sA-Za-z0-9]/g,""),this._isAllowedType("number")||(e=e.replace(/\d+/g,"")),this._isAllowedType("space")||(e=e.replace(/\s+/g,"")),this._isAllowedType("alphabetic")||(e=e.replace(/[A-Za-z]+/g,"")),this.$el.val(e),_r_()}.bind(this),0),_r_()},init:function(){if(_i_("3bb:976a2206"),this.allowedTypes=this.$el.data("input-allowed-type")&&this.$el.data("input-allowed-type").trim().split(/\s+/g),!this.allowedTypes||0===this.allowedTypes.length)return _r_();this._attachEvents(),_r_()}};i.exports=n.extend(s),_r_()}),B.define("component/keyboard",function(e,t,i){_i_("3bb:d840ae1d");var n=e("component"),a=e("event-emitter"),r={8:"Backspace",46:"Delete",9:"Tab",13:"Enter",32:"Space",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z"};function _(i,n){return _i_("3bb:c305199b"),_r_(function(e){_i_("3bb:89331456");var t="";e.which&&void 0!==r[e.which.toString()]&&(e.originalEvent.altKey&&(t+=":alt"),e.originalEvent.ctrlKey&&(t+=":ctrl"),e.originalEvent.metaKey&&(t+=":meta"),e.originalEvent.shiftKey&&(t+=":shift"),t+=":"+r[e.which],i.trigger(n+t,{keys:n+t,originalEvent:e})),_r_()})}i.exports=n.extend({init:function(){_i_("3bb:70caa689"),a.extend(this),this.$el.bind("keydown",_(this,"keydown")).bind("keyup",_(this,"keyup")),_r_()}}),_r_()}),B.define("legacy-event-bus",function(e){_i_("3bb:9e4c9c1d");var t=e("event-emitter");return _r_(new t)}),B.define("component/core/lightbox/trigger",function(e,t,i){_i_("3bb:65afa432");var n=e("read-data-options"),a=e("lightbox");i.exports=e("component").extend({init:function(){_i_("3bb:77c342bc");var e=this.$el.data("event")||"click";this.options=n(this.el,{bCloseButton:{name:"close-button",type:Boolean},bCanScroll:{name:"scrollable",type:Boolean},bOverflowVisible:{name:"overflow-visible",type:Boolean},autoWidth:{name:"auto-width",type:Boolean},ajax:{name:"ajax",type:Boolean},iframe:{name:"iframe",type:Boolean},customWrapperClassName:{name:"wrapper-class",type:String},customMaskClassName:{name:"mask-class",type:String},bMaskClick:{name:"mask-click",type:Boolean},trigger:{name:"trigger",type:String},position:{name:"position",type:String},autoCenter:{name:"auto-center",type:Boolean},limitHeight:{name:"limit-height",type:Boolean},cloneElement:{name:"clone-element",type:Boolean},trapFocus:{name:"trap-focus",type:Boolean},modalLabeledById:{name:"modal-labeled-by-id",type:String},bAnimation:{name:"animation",type:Number},addDialogStartEndText:{name:"add-dialog-start-end-text",type:Boolean}}),"page-load"===e?(this.target=this.$el,$(document).ready(function(){_i_("3bb:55c7125e"),setTimeout(this.open.bind(this),150),_r_()}.bind(this))):(this.target=this.$el.attr("href")||this.$el.data("src")||this.target,this.$el.bind(e,this.open.bind(this))),_r_()},open:function(e){_i_("3bb:44868de7"),e&&e.preventDefault&&e.preventDefault(),a.show(this.target,this.options),this.options.trigger&&B.events.trigger(this.options.trigger,e,this.target),_r_()}}),_r_()}),B.define("component/core/lightbox/iframe",function(e,t,i){_i_("3bb:13a00a60"),e("jquery");var n=e("lightbox");i.exports=e("component").extend({init:function(){_i_("3bb:bc935882");var e=this.$el;e.click(function(){return _i_("3bb:fcd61d41"),n.show(e.attr("href"),{iframe:!0,iframeHeight:e.data("iframe-height")||550,customWrapperClassName:"iframe_lightbox"}),_r_(!1)}),_r_()}}),_r_()}),B.define("overlay",function(e,t,i){_i_("3bb:851f79c3");var n,a=e("event-emitter");i.exports=a.extend({options:{},created:!1,visible:!1,getElement:function(e){return _i_("3bb:d288787c"),this.created||(this.created=!0,n=$('<div class="b-overlay" style="display:none"></div>'),$("body").append(n),$("html").component("keyboard").on("keyup:Escape",this._keyboardEscape.bind(this)),n.click(this._backgroundClick.bind(this))),this.options=e||{},this.options.animationDuration=this.options.animationDuration||.5,_r_(n)},show:function(){if(_i_("3bb:4e2ed2fb"),this.visible||!this.created)return _r_(!1);this.visible=!0,this.trigger("show"),n.fadeIn(1e3*this.options.animationDuration,function(){_i_("3bb:34e60617"),this.trigger("show:end"),_r_()}.bind(this)),_r_()},hide:function(){if(_i_("3bb:42f97c2a"),!this.visible||!this.created)return _r_(!1);this.visible=!1,this.trigger("hide"),n.fadeOut(1e3*this.options.animationDuration,function(){_i_("3bb:5c4b7e55"),this.trigger("hide:end"),_r_()}.bind(this)),_r_()},_keyboardEscape:function(e){_i_("3bb:fdbf8192"),this.options.preventHide||this.hide(),_r_()},_backgroundClick:function(e){_i_("3bb:958fc39d"),!this.options.preventHide&&(e.currentTarget===e.target||this.options.hideElements&&-1!=this.options.hideElements.indexOf(e.target))&&(e.preventDefault(),this.hide()),_r_()}}),_r_()}),B.define("component/input-phone-country",function(e,t,i){_i_("3bb:784ba5f6");var n=e("component"),a={ad:0,ae:-25,af:-50,ag:-75,ai:-100,al:-125,am:-150,an:-175,ao:-200,aq:-225,ar:-250,as:-275,at:-300,au:-325,aw:-350,ax:-375,az:-400,ba:-425,bb:-450,bd:-475,be:-500,bf:-525,bg:-550,bh:-575,bi:-600,bj:-625,bl:-650,bm:-675,bn:-700,bo:-725,bq:-750,br:-775,bs:-800,bt:-825,bv:-850,bw:-875,by:-900,bz:-925,ca:-950,cc:-975,cd:-1e3,cf:-1025,cg:-1050,ch:-1075,ci:-1100,ck:-1125,cl:-1150,cm:-1175,cn:-1200,co:-1225,cr:-1250,cu:-1275,cv:-1300,cw:-1325,cx:-1350,cy:-1375,cz:-1400,de:-1425,dj:-1450,dk:-1475,dm:-1500,do:-1525,dz:-1550,ec:-1575,ee:-1600,eg:-1625,eh:-1650,er:-1675,es:-1700,et:-1725,fi:-1750,fj:-1775,fk:-1800,fm:-1825,fo:-1850,fr:-1875,ga:-1900,gb:-1925,gd:-1950,ge:-1975,gf:-2e3,gg:-2025,gh:-2050,gi:-2075,gl:-2100,gm:-2125,gn:-2150,gp:-2175,gq:-2200,gr:-2225,gs:-2250,gt:-2275,gu:-2300,gw:-2325,gy:-2350,hk:-2375,hm:-2400,hn:-2425,hr:-2450,ht:-2475,hu:-2500,id:-2525,ie:-2550,il:-2575,im:-2600,in:-2625,io:-2650,iq:-2675,ir:-2700,is:-2725,it:-2750,je:-2775,jm:-2800,jo:-2825,jp:-2850,ke:-2875,kg:-2900,kh:-2925,ki:-2950,km:-2975,kn:-3e3,kp:-3025,kr:-3050,kw:-3075,ky:-3100,kz:-3125,la:-3150,lb:-3175,lc:-3200,li:-3225,lk:-3250,lr:-3275,ls:-3300,lt:-3325,lu:-3350,lv:-3375,ly:-3400,ma:-3425,mc:-3450,md:-3475,me:-3500,mf:-3525,mg:-3550,mh:-3575,mk:-3600,ml:-3625,mm:-3650,mn:-3675,mo:-3700,mp:-3725,mq:-3750,mr:-3775,ms:-3800,mt:-3825,mu:-3850,mv:-3875,mw:-3900,mx:-3925,my:-3950,mz:-3975,na:-4e3,nc:-4025,ne:-4050,nf:-4075,ng:-4100,ni:-4125,nl:-4150,no:-4175,np:-4200,nr:-4225,nu:-4250,nz:-4275,om:-4300,pa:-4325,pe:-4350,pf:-4375,pg:-4400,ph:-4425,pk:-4450,pl:-4475,pm:-4500,pn:-4525,pr:-4550,ps:-4575,pt:-4600,pw:-4625,py:-4650,qa:-4675,re:-4700,ro:-4725,rs:-4750,ru:-4775,rw:-4800,sa:-4825,sb:-4850,sc:-4875,sd:-4900,se:-4925,sg:-4950,sh:-4975,si:-5e3,sj:-5025,sk:-5050,sl:-5075,sm:-5100,sn:-5125,so:-5150,sr:-5175,st:-5200,sv:-5225,sx:-5250,sy:-5275,sz:-5300,tc:-5325,td:-5350,tf:-5375,tg:-5400,th:-5425,tj:-5450,tk:-5475,tl:-5500,tm:-5525,tn:-5550,to:-5575,tr:-5600,tt:-5625,tv:-5650,tw:-5675,tz:-5700,ua:-5725,ug:-5750,um:-5775,us:-5800,uy:-5825,uz:-5850,va:-5875,vc:-5900,ve:-5925,vg:-5950,vi:-5975,vn:-6e3,vu:-6025,wf:-6050,ws:-6075,xk:-6100,ye:-6125,yt:-6150,za:-6175,zm:-6200,zw:-6225},r=["au","cw","gb","gp","gs","km","mh","mq","nf","no","ru","sm","us"],_=e("et");function s(e,t){return _i_("3bb:d249c636"),_r_(e.callingcode.length<t.callingcode.length?1:e.callingcode.length>t.callingcode.length?-1:e.preferred?-1:1)}B.env&&B.env.ip_country&&"cn"===B.env.ip_country&&(a.tw=16),i.exports=n.extend({init:function(){_i_("3bb:1cab6f70"),this.$country=this.$el.find('[data-phone-country=""], [data-phone-country]'),this.$input=this.$el.find('[data-phone-input=""], [data-phone-input]'),this.$flag=this.$el.find('[data-phone-flag=""], [data-phone-flag]'),this.isTriggerChange=void 0!==this.$el.data("phone-country-trigger-change"),this.defaultCountryId=this.getDefaultCountryId(),this.countries=[],this.addEventListeners(),this.loadCountries(),this.initDefaultCountry(),_r_()},getDefaultCountryId:function(){_i_("3bb:41ff0b2f");var e=(this.$el.data("phone-country-default")||"").toString().toLowerCase();return"xx"===e&&(e=""),_r_(e)},addEventListeners:function(){_i_("3bb:8693c183");var e=this.$input[0]&&("oninput"in this.$input[0]?"input":"keyup");this.$country.change(this.countryChange.bind(this)),this.$input.bind("focus",this.inputFocus.bind(this)),this.$input.bind("blur",this.inputBlur.bind(this)),this.$input.bind(e+" change",this.inputInteracted.bind(this)),"msie"==B.env.b_browser&&B.env.b_browser_version<=8&&(this.$country.bind("mousedown",this.countryFocus.bind(this)),this.$country.bind("blur change",this.countryBlur.bind(this))),_r_()},inputFocus:function(){_i_("3bb:c4a31b98"),setTimeout(this.addDefaultCallingCode.bind(this),4),_r_()},inputBlur:function(){_i_("3bb:2db783cc"),this.removeDefaultCallingCode(),_r_()},countryFocus:function(){_i_("3bb:109dfd03"),this.$country.css("width","auto"),_r_()},countryBlur:function(){_i_("3bb:03202c2e"),this.$country.css("width",""),_r_()},inputInteracted:function(){_i_("3bb:6c5ea8a3"),this.checkPlus(),this.changeCountryFromInput(),_r_()},countryChange:function(){_i_("3bb:0e1468d1"),this.changeInputFromCountry(),this.$input.focus(),_r_()},loadCountries:function(){_i_("3bb:ddc2acc4"),this.$country.find("option").each(function(e,t){_i_("3bb:651b805b");var i=$(t),n=i.attr("value").toLowerCase(),a={id:n,callingcode:i.attr("data-calling-code"),name:i.text(),value:i.attr("value"),preferred:this.defaultCountryId==n||-1!=r.indexOf(n)};this.countries.push(a),_r_()}.bind(this)),this.countries.sort(s),_r_()},initDefaultCountry:function(){_i_("3bb:2f7f1644"),this.defaultCountry=this.findCountryById(this.defaultCountryId),this.defaultCountry&&(this.fixCountrylessNumber(),this.defaultCountryCallingCode=this.defaultCountry.callingcode,this.changeCountryFromInput(),this.$input.attr("placeholder","+"+this.defaultCountryCallingCode)),_r_()},findCountryById:function(t){_i_("3bb:852555dd");var i=null;return this.countries.every(function(e){if(_i_("3bb:d62718ff"),e.id==t)return i=e,_r_(!1);return _r_(!0)}),_r_(i)},findCountryByNumber:function(t){_i_("3bb:b8b9ebfa");var i=null;return this.countries.every(function(e){if(_i_("3bb:59dd49be"),0==t.indexOf(e.callingcode))return i=e,_r_(!1);return _r_(!0)}),_r_(i)},changeCountryCode:function(e,t){_i_("3bb:ebbb3d7b");var i=this.findCountryByNumber(e);return i&&(e=e.substr(i.callingcode.length)),_r_(t.callingcode+e)},addDefaultCallingCode:function(){_i_("3bb:4fca02fe");var e=this.$input.val();""!=e&&"+"!=e||this.$input.val("+"+this.defaultCountryCallingCode),_r_()},removeDefaultCallingCode:function(){_i_("3bb:ca267758");var e=this.$input.val();"+"!=e&&e!="+"+this.defaultCountryCallingCode||this.$input.val(""),_r_()},changeInputFromCountry:function(){_i_("3bb:c4e556cb");var e=this.$country.val().toLowerCase(),t=this.findCountryById(e),i=(this.$input.val()||"").replace(/^\+/,"");this.$input.val("+"+this.changeCountryCode(i,t)),this.isTriggerChange&&this.$input.change(),this.updateFlag(t),_r_()},changeCountryFromInput:function(){_i_("3bb:c560e892");var e=(this.$input.val()||"").replace(/^\+/,""),t=this.findCountryByNumber(e)||this.defaultCountry;!t&&booking.reportError&&booking.reportError({message:"No countries populated"},"No country"),this.$country.val(t.value),this.updateFlag(t),_r_()},checkPlus:function(){_i_("3bb:fe9b3662");var e=this.$input.val()||"";0!=e.indexOf("+")&&this.$input.val("+"+e),_r_()},updateFlag:function(e){_i_("3bb:6dad55da"),a[e.id]&&this.$flag.css("background-position","0 "+a[e.id]+"px"),_r_()},selectCountry:function(e){_i_("3bb:bf2f027e");var t=this.findCountryById(e);t&&(this.defaultCountryId=t.id,this.initDefaultCountry()),_r_()},fixCountrylessNumber:function(){_i_("3bb:70503617");var e=this.$input.val();_.track("HBbMWcNHDKdeJMET")&&0<e.length&&0!=e.indexOf("+")&&this.$input.val("+"+this.defaultCountry.callingcode+e),_r_()}}),_r_()}),function(){if(_i_("3bb:9095906e"),!B.env||("book"!==B.env.b_action||3!==Number(B.env.b_stage))&&"bundle"!==B.env.b_action&&"attractionsbook"!==B.env.b_action)return _r_();var o,l,a,_,e,t,i,n,r,s,c,d,b,p,u,h,f,m,g,M,v,y,C,w,k=[].slice,E=[].indexOf||function(e){_i_("3bb:07fe9b6d");for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return _r_(t);return _r_(-1)};(o=window.jQuery||window.Zepto||window.$).payment={},o.payment.fn={},o.fn.payment=function(){var e,t;return _i_("3bb:7ab4b5c6"),t=arguments[0],e=2<=arguments.length?k.call(arguments,1):[],_r_(o.payment.fn[t].apply(this,e))},e=/(\d{1,4})/g,o.payment.cards=_=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:e,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:e,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:e,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:e,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:e,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|2[2-7])/,format:e,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:e,length:[14,16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:e,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:e,length:[16],cvcLength:[3],luhn:!0}],l=function(e){var t,i,n;for(_i_("3bb:966aa568"),e=(e+"").replace(/\D/g,""),i=0,n=_.length;i<n;i++)if((t=_[i]).pattern.test(e))return _r_(t);_r_()},a=function(e){var t,i,n;for(_i_("3bb:3ad499a7"),i=0,n=_.length;i<n;i++)if((t=_[i]).type===e)return _r_(t);_r_()},b=function(e){var t,i,n,a,r,_;for(_i_("3bb:54807ca0"),n=!0,r=a=0,_=(i=(e+"").split("").reverse()).length;r<_;r++)t=i[r],t=parseInt(t,10),(n=!n)&&(t*=2),9<t&&(t-=9),a+=t;return _r_(a%10==0)},d=function(e){var t;if(_i_("3bb:daaba99c"),null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd"))return _r_(!0);if(null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text)return _r_(!0);return _r_(!1)},C=function(e,t){var i,n;_i_("3bb:32fa8a60");try{i=t.prop("selectionStart")}catch(e){e,i=null}if(n=t.val(),t.val(e),null!==i&&t.is(":focus"))return i===n.length&&(i=e.length),t.prop("selectionStart",i),_r_(t.prop("selectionEnd",i));_r_()},m=function(e){var t,i,n,a,r,_;for(_i_("3bb:e1e13d77"),null==e&&(e=""),"","0123456789",a="",r=0,_=(i=e.split("")).length;r<_;r++)t=i[r],-1<(n="".indexOf(t))&&(t="0123456789"[n]),a+=t;return _r_(a)},f=function(i){return _i_("3bb:20fd7c54"),_r_(setTimeout(function(){var e,t;return _i_("3bb:5bdf4ad8"),t=(e=o(i.currentTarget)).val(),t=(t=m(t)).replace(/\D/g,""),_r_(C(t,e))}))},u=function(i){return _i_("3bb:bd50d536"),_r_(setTimeout(function(){var e,t;return _i_("3bb:a9234367"),t=(e=o(i.currentTarget)).val(),t=m(t),t=o.payment.formatCardNumber(t),_r_(C(t,e))}))},n=function(e){var t,i,n,a,r,_,s;if(_i_("3bb:99c25895"),n=String.fromCharCode(e.which),!/^\d+$/.test(n))return _r_();if(t=o(e.currentTarget),s=t.val(),i=l(s+n),a=(s.replace(/\D/g,"")+n).length,_=16,i&&(_=i.length[i.length.length-1]),_<=a)return _r_();if(null!=t.prop("selectionStart")&&t.prop("selectionStart")!==s.length)return _r_();if((r=i&&"amex"===i.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/).test(s))return e.preventDefault(),_r_(setTimeout(function(){return _i_("3bb:91d8a7e5"),_r_(t.val(s+" "+n))}));if(r.test(s+n))return e.preventDefault(),_r_(setTimeout(function(){return _i_("3bb:43959f77"),_r_(t.val(s+n+" "))}));_r_()},t=function(e){var t,i;if(_i_("3bb:9032411e"),t=o(e.currentTarget),i=t.val(),8!==e.which)return _r_();if(null!=t.prop("selectionStart")&&t.prop("selectionStart")!==i.length)return _r_();if(/\d\s$/.test(i))return e.preventDefault(),_r_(setTimeout(function(){return _i_("3bb:710bd403"),_r_(t.val(i.replace(/\d\s$/,"")))}));if(/\s\d?$/.test(i))return e.preventDefault(),_r_(setTimeout(function(){return _i_("3bb:dbdfbe6c"),_r_(t.val(i.replace(/\d$/,"")))}));_r_()},h=function(i){return _i_("3bb:683fc590"),_r_(setTimeout(function(){var e,t;return _i_("3bb:2314888a"),t=(e=o(i.currentTarget)).val(),t=m(t),t=o.payment.formatExpiry(t),_r_(C(t,e))}))},r=function(e){var t,i,n;if(_i_("3bb:218e21bd"),i=String.fromCharCode(e.which),!/^\d+$/.test(i))return _r_();if(t=o(e.currentTarget),n=t.val()+i,/^\d$/.test(n)&&"0"!==n&&"1"!==n)return e.preventDefault(),_r_(setTimeout(function(){return _i_("3bb:777722be"),_r_(t.val("0"+n+" / "))}));if(/^\d\d$/.test(n))return e.preventDefault(),_r_(setTimeout(function(){return _i_("3bb:a3408b8f"),_r_(t.val(n+" / "))}));_r_()},s=function(e){var t,i,n;if(_i_("3bb:b7775018"),i=String.fromCharCode(e.which),!/^\d+$/.test(i))return _r_();if(n=(t=o(e.currentTarget)).val(),/^\d\d$/.test(n))return _r_(t.val(n+" / "));_r_()},c=function(e){var t,i,n;if(_i_("3bb:9ad0042f"),"/"!==(n=String.fromCharCode(e.which))&&" "!==n)return _r_();if(i=(t=o(e.currentTarget)).val(),/^\d$/.test(i)&&"0"!==i)return _r_(t.val("0"+i+" / "));_r_()},i=function(e){var t,i;if(_i_("3bb:e07ea8bc"),t=o(e.currentTarget),i=t.val(),8!==e.which)return _r_();if(null!=t.prop("selectionStart")&&t.prop("selectionStart")!==i.length)return _r_();if(/\d\s\/\s$/.test(i))return e.preventDefault(),_r_(setTimeout(function(){return _i_("3bb:bb6b7704"),_r_(t.val(i.replace(/\d\s\/\s$/,"")))}));_r_()},p=function(i){return _i_("3bb:8b7d44f4"),_r_(setTimeout(function(){var e,t;return _i_("3bb:6776d9c6"),t=(e=o(i.currentTarget)).val(),t=(t=m(t)).replace(/\D/g,"").slice(0,4),_r_(C(t,e))}))},y=function(e){var t;if(_i_("3bb:746567f2"),e.metaKey||e.ctrlKey)return _r_(!0);if(32===e.which)return _r_(!1);if(0===e.which)return _r_(!0);if(e.which<33)return _r_(!0);return t=String.fromCharCode(e.which),_r_(!!/[\d\s]/.test(t))},M=function(e){var t,i,n,a;if(_i_("3bb:2afff3f1"),t=o(e.currentTarget),n=String.fromCharCode(e.which),!/^\d+$/.test(n))return _r_();if(d(t))return _r_();return a=(t.val()+n).replace(/\D/g,""),i=l(a),_r_(i?a.length<=i.length[i.length.length-1]:a.length<=16)},v=function(e){var t,i;if(_i_("3bb:a60dcf5d"),t=o(e.currentTarget),i=String.fromCharCode(e.which),!/^\d+$/.test(i))return _r_();if(d(t))return _r_();if(6<(t.val()+i).replace(/\D/g,"").length)return _r_(!1);_r_()},g=function(e){var t,i,n;if(_i_("3bb:f8b02d44"),t=o(e.currentTarget),i=String.fromCharCode(e.which),!/^\d+$/.test(i))return _r_();if(d(t))return _r_();return n=t.val()+i,_r_(n.length<=4)},w=function(e){var t,i,n,a,r;if(_i_("3bb:43117edc"),r=(t=o(e.currentTarget)).val(),a=o.payment.cardType(r)||"unknown",!t.hasClass(a))return i=function(){var e,t,i;for(_i_("3bb:6b39fffe"),i=[],e=0,t=_.length;e<t;e++)n=_[e],i.push(n.type);return _r_(i)}(),t.removeClass("unknown"),t.removeClass(i.join(" ")),t.addClass(a),t.toggleClass("identified","unknown"!==a),_r_(t.trigger("payment.cardType",a));_r_()},o.payment.fn.formatCardCVC=function(){return _i_("3bb:b4c7db67"),this.on("keypress",y),this.on("keypress",g),this.on("paste",p),this.on("change",p),this.on("input",p),_r_(this)},o.payment.fn.formatCardExpiry=function(){return _i_("3bb:7577563f"),this.on("keypress",y),this.on("keypress",v),this.on("keypress",r),this.on("keypress",c),this.on("keypress",s),this.on("keydown",i),this.on("change",h),this.on("input",h),_r_(this)},o.payment.fn.formatCardNumber=function(){return _i_("3bb:4d2349c8"),this.on("keypress",y),this.on("keypress",M),this.on("keypress",n),this.on("keydown",t),this.on("keyup",w),this.on("paste",u),this.on("change",u),this.on("input",u),this.on("input",w),_r_(this)},o.payment.fn.restrictNumeric=function(){return _i_("3bb:430c32fd"),this.on("keypress",y),this.on("paste",f),this.on("change",f),this.on("input",f),_r_(this)},o.payment.fn.cardExpiryVal=function(){return _i_("3bb:888348ea"),_r_(o.payment.cardExpiryVal(o(this).val()))},o.payment.cardExpiryVal=function(e){var t,i,n;return _i_("3bb:c5e14bf9"),t=(n=e.split(/[\s\/]+/,2))[0],2===(null!=(i=n[1])?i.length:void 0)&&/^\d+$/.test(i)&&(i=(new Date).getFullYear().toString().slice(0,2)+i),t=parseInt(t,10),i=parseInt(i,10),_r_({month:t,year:i})},o.payment.validateCardNumber=function(e){var t,i;if(_i_("3bb:b3b79781"),e=(e+"").replace(/\s+|-/g,""),!/^\d+$/.test(e))return _r_(!1);if(!(t=l(e)))return _r_(!1);return _r_((i=e.length,0<=E.call(t.length,i)&&(!1===t.luhn||b(e))))},o.payment.validateCardExpiry=function(e,t){var i,n,a;if(_i_("3bb:39cd79b8"),"object"==typeof e&&"month"in e&&(e=(a=e).month,t=a.year),!e||!t)return _r_(!1);if(e=o.trim(e),t=o.trim(t),!/^\d+$/.test(e))return _r_(!1);if(!/^\d+$/.test(t))return _r_(!1);if(!(1<=e&&e<=12))return _r_(!1);if(2===t.length&&(t=t<70?"20"+t:"19"+t),4!==t.length)return _r_(!1);return n=new Date(t,e),i=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),_r_(i<n)},o.payment.validateCardCVC=function(e,t){var i,n;if(_i_("3bb:3c6aa2ec"),e=o.trim(e),!/^\d+$/.test(e))return _r_(!1);return i=a(t),_r_(null!=i?(n=e.length,0<=E.call(i.cvcLength,n)):3<=e.length&&e.length<=4)},o.payment.cardType=function(e){var t;if(_i_("3bb:5e56e5a3"),!e)return _r_(null);return _r_((null!=(t=l(e))?t.type:void 0)||null)},o.payment.formatCardNumber=function(e){var t,i,n,a;if(_i_("3bb:4910eb53"),e=e.replace(/\D/g,""),!(t=l(e)))return _r_(e);if(n=t.length[t.length.length-1],e=e.slice(0,n),t.format.global)return _r_(null!=(a=e.match(t.format))?a.join(" "):void 0);if(null==(i=t.format.exec(e)))return _r_();return i.shift(),i=o.grep(i,function(e){return _i_("3bb:da18bde4"),_r_(e)}),_r_(i.join(" "))},o.payment.formatExpiry=function(e){var t,i,n,a;if(_i_("3bb:14b21582"),!(i=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/)))return _r_("");return t=i[1]||"",n=i[2]||"",0<(a=i[3]||"").length?n=" / ":" /"===n?(t=t.substring(0,1),n=""):2===t.length||0<n.length?n=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,n=" / "),_r_(t+n+a)},_r_()}.call(this),B.define("tooltip",function(e,t,i){_i_("3bb:c1994aae");var n,a,r=e("event-emitter"),_=e("jquery"),s=e("jstmpl"),o=0,l={},c={position:"top",arrow:!0,animation:!0,customClass:"",trigger:"hover focus",hiddenClass:"tltp--hidden",animationClass:"tltp--animate",wrapperTemplate:'<div class="tltp tltp--hidden"></div>',innerTemplate:'<div class="tltp__content"><div class="tltp__image" role="image"></div><div class="tltp__header" role="header"></div><div class="tltp__body" role="body"></div>'+("mdot"==B.env.b_site_type?'<svg class="bk-icon -iconset-close tltp__close_icon" fill="#F5F5F5" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M69.7 64l33.1-33.2a4 4 0 0 0-5.6-5.6L64 58.3 30.8 25.2a4 4 0 1 0-5.6 5.6L58.3 64 25.2 97.2a4 4 0 1 0 5.6 5.6L64 69.7l33.2 33.1a4 4 0 0 0 5.6-5.6z"/></svg>':"")+"</div>",latency:0,hideLatency:0,rtl:B.env.rtl,triggerDelays:{mouseenter:200,mouseleave:200},keepOpen:!1,smartPositioning:!0,preventDefaultOnClick:!1,a11yNavMode:!1,a11yAriaHidden:!1,a11yReadOnClick:!1,theme:"dark"},d={booking:c},b=d.booking,p=_("body"),m=_(window),u={mouseenter:"mouseleave",focus:"blur",click:"click"},h=/start|end/i,f=/^top|bottom$/i,g=/^start|top$/i,M=/^end|bottom$/i,v=["top","bottom","start","end","middle"],y=[[0,1,2,3],[1,0,2,3],[2,3,0,1],[3,2,0,1]],C=[[2,4,3],[2,4,3],[0,4,1],[0,4,1]],w=[[0,1,2],[2,1,0],[0,1,2],[2,1,0],[1,0,2]];n={setup:function(e){var t;_i_("3bb:a3164e35");try{return t=new a(e),_r_(t.api)}catch(e){B.debug("tooltip").error(e)}_r_()},hideAll:function(){return _i_("3bb:afab8048"),_.each(l,function(e,t){_i_("3bb:6aa0338b"),t.hide(),_r_()}),_r_(this)},get:function(e){return _i_("3bb:5a7b7fb4"),_r_(l[e])},each:function(e){return _i_("3bb:b38ca521"),_.each(l,e),_r_(this)},addPreset:function(e,t){return _i_("3bb:80667e0d"),d[e]=_.extend({},c,t),_r_(this)},usePreset:function(e){_i_("3bb:71107b79");var t=d[e];return t&&(b=t),_r_(this)}},r.extend(n),i.exports=n,a=function(){_i_("3bb:30879fe4");var e=function(e){_i_("3bb:f70215b3"),this.options=e,_.isFunction(e.onBeforeInit)&&e.onBeforeInit.call(this),this.processOptions(e),this.api={id:this.id,$target:this.$el,settings:this.settings,isVisible:_.proxy(this.isVisible,this),show:_.proxy(this.show,this),hide:_.proxy(this.hide,this),toggle:_.proxy(this.toggle,this),set:_.proxy(this.set,this),reposition:_.proxy(this.position,this),destroy:_.proxy(this.destroy,this),on:_.proxy(this.on,this)},function(e){_i_("3bb:d4c74bea"),l[e.id]=e,_r_(this)}(this.api),this.$el.data("tooltip-instance",this.api),this.triggerEvent("init"),_r_()};return e.prototype.processOptions=function(e){_i_("3bb:4034a263");var t=d[e.preset]||b,i=this.settings=_.extend({},t,e);if(this.id=i.id||++o,l[this.id])throw new Error('A tooltip with the same id "'+this.id+'" already exists.');if(this.$el=_(i.target).first(),this.el=this.$el[0],!(i.title||i.text||i.content||i.contentTemplate||i.contentTarget))throw new Error('No content for the tooltip. Please use any of these options: "content", "template" or "content-target".');this.namespace=".tooltip."+this.id,this.setupPosition(),this.setupEvents(),this.setupTriggers(),_r_()},e.prototype.setupTriggers=function(){_i_("3bb:aba301ab");var n=this.settings.triggerShow?this.settings.triggerShow.split(/\s+/):[],a=this.settings.triggerHide?this.settings.triggerHide.split(/\s+/):[],e=!n.length&&this.settings.trigger?this.settings.trigger.split(/\s+/):[],r=this,t=function(i){return _i_("3bb:a465ae71"),_r_(_.grep(i,function(e,t){return _i_("3bb:e484c1af"),_r_(t===_.inArray(e,i))}))};_.each(e,function(e,t){var i;_i_("3bb:7a63d5a3"),"hover"===t&&(t="mouseenter"),i=u[t],n.push(t),i&&a.push(i),_r_()}),n=t(n),a=t(a),_.each(n,function(e,t){_i_("3bb:64f7e853");var i,n=_.inArray(t,a);i=t+r.namespace,-1<n?(r.$el.on(i,_.proxy(r.toggle,r)),a.splice(n,1)):(r.$el.on(i,_.proxy(r.show,r)),"click"==t?r.$el.on(i,_.proxy(r._showOnClick,r)):r.$el.on(i,_.proxy(r.show,r))),_r_()}),_.each(a,function(e,t){_i_("3bb:adb2472b"),r.$el.on(t,_.proxy(r.hide,r)),_r_()}),_r_()},e.prototype.setupPosition=function(){_i_("3bb:4442c31b");var e,t,i=this.settings.position;if(i=(i=i.replace(/left/g,"start")).replace(/right/g,"end"),this.settings.rtl&&(i=i.replace(h,function(e){return _i_("3bb:bf34760b"),_r_("end"===e?"start":"end")})),i=_.trim(i).split(/\s+/),e=this.placement=i[0],t=i[1],this.placementAxis=h.test(e)?"x":"y",h.test(t)||f.test(t)||(t="middle"),this.alignment=t,!h.test(e)&&!f.test(e))throw new Error("The tooltip has to be aligned either on top, bottom, left or right.");_r_()},e.prototype.setupEvents=function(){_i_("3bb:ffe77f60");var n=/^on[A-Z].+/;_.each(this.settings,_.proxy(function(e,t){if(_i_("3bb:05862ddd"),!n.test(e))return _r_();var i=e[2].toLowerCase()+e.substring(3);this.on("tooltip:"+i+":"+this.id,_.proxy(t,this)),_r_()},this)),_r_()},e.prototype.addArrow=function(e,t){if(_i_("3bb:912e4f8b"),this.$tip.removeClass(this.arrowClass),!this.settings.arrow)return _r_();var i="tltp--"+e;"middle"!==t&&(i=i+"-"+t),this.$tip.addClass(i),this.arrowClass=i,_r_()},e.prototype.createTooltipNode=function(){_i_("3bb:b2cd134c"),this.triggerEvent("beforeCreateTooltipNode");var e,t=this.settings,i=this.$tip=_(t.wrapperTemplate);t.icon||t.image||t.title||t.text?e=this.buildLayout(t):t.content?e=t.content:t.contentTemplate?e=s(t.contentTemplate).render(t.contentTemplateData):(e=_(t.contentTarget)).is("script")&&(e=_(e.html())),i.find('[role="content"]').andSelf().last().append(e),i.addClass(this.settings.customClass);var n=i.attr("id")||"tooltip-"+this.id;return i.attr("id",n),this.$el.attr("aria-describedby",n),this.settings.animation&&i.addClass(this.settings.animationClass),this.settings.insideTriggerHide&&i.on(this.settings.insideTriggerHide,function(){_i_("3bb:2d2e0945"),this.api.hide(),_r_()}.bind(this)),B.et.initAttributesTracking(i),p.append(i),this.api.$tooltip=i,this.triggerEvent("createTooltipNode"),_r_(this)},e.prototype.triggerByEvent=function(e,t){_i_("3bb:c9a37149");var i=this.settings.delay;void 0===i&&(i=this.settings.triggerDelays[e.type]),clearTimeout(this.timeout),this.timeout=setTimeout(_.proxy(t,this),i),_r_()},e.prototype.isVisible=function(){return _i_("3bb:b7a12224"),_r_(this.$tip&&(!this.$tip.hasClass(this.settings.hiddenClass)||this.$tip.hasClass(this.settings.visibleClass)))},e.prototype.triggerEvent=function(e){_i_("3bb:d16807f7");var t=_.Event("tooltip:"+e,{tooltip:this.api}),i=_.Event(t.type+":"+this.id,{tooltip:this.api});n.emit(t.type,t,this),this.$el.trigger(t),n.emit(i.type,i,this),this.$el.trigger(i),_r_()},e.prototype.on=function(e,t){return _i_("3bb:b6010415"),this.$el.on(e,t),_r_(this.api)},e.prototype.toggle=function(){return _i_("3bb:3d22d8fd"),this.isVisible()?this.hide():this.show(),_r_(this.api)},e.prototype.show=function(){_i_("3bb:4a4cc1ff");var e=this;if(this.hideTimer&&(this.hideTimer=clearTimeout(this.hideTimer)),this.isVisible())return _r_(this.api);return this.triggerEvent("beforeShow"),this.$tip||(this.createTooltipNode(),this.options.keepOpen&&(this.$tip.on("mouseenter",this.show.bind(this)),this.$tip.on("mouseleave",this.hide.bind(this)))),this.position(),clearTimeout(this.timeout),this.showTimer||(this.showTimer=setTimeout(function(){_i_("3bb:8f412835"),e.$tip.removeClass(e.settings.hiddenClass),e.$tip.addClass(e.settings.visibleClass),_r_()},this.settings.latency)),this.settings.animation&&this.$tip.css("transition")?this.$tip.one("transitionend",_.proxy(this.triggerEvent,this,"show")):this.triggerEvent("show"),_r_(this.api)},e.prototype._showOnClick=function(e){_i_("3bb:2747aa6e"),this.settings.preventDefaultOnClick&&e.preventDefault(),this.show(),_r_()},e.prototype.hide=function(){_i_("3bb:b3e85cdf");var e=this;if(this.showTimer&&(this.showTimer=clearTimeout(this.showTimer)),!this.isVisible())return _r_(this.api);return this.triggerEvent("beforeHide"),clearTimeout(this.timeout),this.hideTimer||(this.hideTimer=setTimeout(function(){_i_("3bb:6190f63c"),e.$tip.addClass(e.settings.hiddenClass),e.$tip.removeClass(e.settings.visibleClass),_r_()},this.settings.hideLatency)),this.settings.animation&&this.$tip.css("transition")?this.$tip.one("transitionend",_.proxy(this.triggerEvent,this,"hide")):this.triggerEvent("hide"),_r_(this.api)},e.prototype.position=function(e,t){var i,n;_i_("3bb:04eb4fdb"),this.triggerEvent("beforePosition"),e=e||this.placement,t=t||this.alignment;var a,r,_,s=this.$el,o=this.$tip,l=this.buildInsideWindowFn(o.outerWidth(),o.outerHeight(),m.scrollLeft(),m.scrollTop(),m.width(),m.height()),c=v.indexOf(e),d=v.indexOf(t),b=y[c],p=w[d],u=-1;e:for(var h=0;h<4;h++){c=b[h],e=v[c];for(var f=0;f<3;f++)if(d=p[f],t=v[C[c][d]],u<(n=l((i=this.calcCoords(e,t,s,o)).left,i.top))&&(u=n,a=i,r=e,_=t),!this.settings.smartPositioning||1===n)break e}if(this.coords&&this.coords.left===a.left&&this.coords.top===a.top)return _r_(this.api);return this.settings.animation&&this.$tip.removeClass(this.settings.animationClass),this.coords=a,o.css(a),this.addArrow(r,_),o.outerWidth(),this.settings.animation&&this.$tip.addClass(this.settings.animationClass),this.triggerEvent("position"),_r_(this.api)},e.prototype.set=function(e,t){_i_("3bb:29a36048");var i={};return"object"===_.type(e)?i=e:i[e]=t,_.extend(this.settings,i),this.setupPosition(),this.$tip&&(this.$tip.toggleClass(this.settings.animationClass,this.settings.animation),this.position()),_r_(this.api)},e.prototype.destroy=function(){_i_("3bb:c42e14a4"),this.triggerEvent("beforeDestroy"),clearTimeout(this.timeout),this.$el.off(this.namespace),this.$el.removeData("tooltip-instance"),this.$tip&&this.$tip.remove(),delete l[this.id],_r_()},e.prototype.calcCoords=function(e,t,i,n){_i_("3bb:51682758");var a=i.offset(),r={},_="top",s="outerHeight",o="left",l="outerWidth";return h.test(e)&&(_="left",s="outerWidth",o="top",l="outerHeight"),g.test(e)?r[_]=a[_]-n[s]():r[_]=a[_]+i[s](),g.test(t)?r[o]=a[o]:M.test(t)?r[o]=a[o]+i[l]()-n[l]():r[o]=a[o]+i[l]()/2-n[l]()/2,_r_(r)},e.prototype.buildInsideWindowFn=function(c,d,b,p,e,t){_i_("3bb:8f04d46a");var u=b+e,h=p+t;return _r_(function(e,t){_i_("3bb:3c25f907");var i=e+c,n=t+d,a=Math.max(b,e),r=Math.min(u,i),_=Math.max(p,t),s=Math.min(h,n),o=(i-e)*(n-t),l=Math.max(0,r-a)*Math.max(0,s-_);return _r_(l/o)})},e.prototype.buildLayout=function(e){_i_("3bb:6c481249");var t=_(e.innerTemplate),i=_('[role="image"]',t);_('[role="header"]',t).append(e.title).filter(":empty").remove(),_('[role="body"]',t).andSelf().last().append(e.text).filter(":empty").remove(),e.image?i.append(_('<img src="'+e.image+'">')):e.icon?i.append(_('<i class="bicon bicon-'+e.icon+'"></i>')):i.remove();var n=new RegExp("(<script type=['\"]track_copy['\"] data-hash=['\"](\\w+)['\"]><\/script>)").exec(e.text),a=n&&n[2];return a&&B.et.stage(a,1),_r_(t)},_r_(e)}(),_r_()}),B.define("component/tooltip",function(e,t,i){_i_("3bb:9de96736");var n=e("component"),a=e("jquery"),r=e("tooltip");i.exports=n.extend({init:function(){_i_("3bb:edd3b0a0");var e=function(e){_i_("3bb:658ce0c9");var n={},t=e.data();return a.each(t,function(e,t){var i;if(_i_("3bb:2be7427a"),e.length<8||0!==e.indexOf("tooltip"))return _r_();i=(e=e.substring(7))[0].toLowerCase()+e.slice(1),n[i]=t,_r_()}),n.target=e,_r_(n)}(this.$el);this.tooltip=r.setup(e),_r_()}}),_r_()}),B.define("component/tt-fancy",function(e,t,i){"use strict";_i_("3bb:4c5d3408");var n=e("component"),a={delay:300,width:300,id:"tt-fancy",content:"",triggerOn:"hover",trackGoals:""};i.exports=n.extend({init:function(){_i_("3bb:0850629a"),this.domHelper={},this._getOptions(),this._createDomNodes(),this._attachEvents(),this.isMouseIn=!1,_r_()},_getOptions:function(){_i_("3bb:33e1e52b"),$.extend(this,a,{width:this.$el.data("width"),id:this.$el.data("id"),content:this.$el.data("content"),triggerOn:this.$el.data("trigger"),trackGoals:this.$el.data("track-goals")}),_r_()},_createDomNodes:function(){_i_("3bb:bd8daa55");var e=$("#"+this.id);if(0<e.length)this.domHelper={$parent:e,$content:e.find(".tt-fancy-content"),$pointer:e.find(".tt-fancy-pointer")};else{var t=$('<div class="tt-fancy-pointer"></div>'),i=$('<div class="tt-fancy-content"></div>');this.domHelper={$parent:$('<div id="'+this.id+'" style="width: '+this.width+'px;" class="tt-fancy-holder tt-fancy-holder--hidden"></div>').prepend(t).append(i).appendTo(document.body),$pointer:t,$content:i}}_r_()},_attachEvents:function(){switch(_i_("3bb:dca69258"),this.triggerOn){case"textSelect":var i=this;i.$el.bind("mouseup.fancyTT",function(){_i_("3bb:5ff07ee3");var e=$.trim(i._getSelectedText()),t=$.trim(i.$el.text());e&&t.search&&-1<t.search(e)&&(i._showTT.call(i),setTimeout(function(){_i_("3bb:298b17df"),$("body").on("mouseup.fancyTTclose",function(){_i_("3bb:f05e400a"),i._hideTT.call(i),$("body").off("mouseup.fancyTTclose"),_r_()}),_r_()},200)),_r_()});break;case"hover":default:this.$el.on("mouseenter.fancyTT",$.proxy(this._showTT,this)).on("mouseleave.fancyTT",$.proxy(this._hideTT,this)).on("focus",$.proxy(this._showTT,this)).on("blur",$.proxy(this._hideTT,this))}_r_()},_showTT:function(){_i_("3bb:23be4054");var e=this;e.isMouseIn=!0,setTimeout(function(){_i_("3bb:eb27df72"),e.isMouseIn&&(e.domHelper.$content.html(e.content),e._position_tt(),e.domHelper.$parent.css({display:"block"}),setTimeout(function(){_i_("3bb:433904cf"),e.domHelper.$parent.removeClass("tt-fancy-holder--hidden"),B.events.trigger("TT-Fancy:show"),e.trackGoals.split(" ").map(function(e){_i_("3bb:0b2380dd");var t=e.split(":");2===t.length&&B.et.customGoal(t[0],t[1]),_r_()}),_r_()},10)),_r_()},this.delay),_r_()},_hideTT:function(){_i_("3bb:75d8b1ad"),this.isMouseIn=!1,this.domHelper.$parent.css({display:"none"}).addClass("tt-fancy-holder--hidden"),B.events.trigger("TT-Fancy:hide"),_r_()},_position_tt:function(){_i_("3bb:58e15c16");var e=$(window).width(),t=this.$el,i=(this.width&&"number"==typeof this.width?this.width:this.domHelper.$parent.width())/2,n=t.offset().left+t.outerWidth()/2,a=t.offset().top+t.outerHeight()+7,r=n-i,_="auto",s=!1;e<n+i?(r="auto",_=15,s=!0,this.domHelper.$pointer.css({right:e-n-15-6+"px",left:"auto"})):n-i<15&&(r=15,_="auto",s=!0,this.domHelper.$pointer.css({left:n-15+"px",right:"auto"})),this.domHelper.$parent.css({left:r,right:_,top:a}),s||this.domHelper.$pointer.attr("style",""),_r_()},_getSelectedText:function(){_i_("3bb:95cb8706");var e="";return void 0!==window.getSelection?e=window.getSelection().toString():void 0!==document.selection&&"Text"==document.selection.type&&(e=document.selection.createRange().text),_r_($.trim(e))}}),_r_()}),B.define("company/store",function(e,t,i){_i_("3bb:6cd7d7cc");var n=new(e("booking-store")),a=(B.env&&B.env.b_action||"company")+"Action",r=B.env&&B.env[a]&&B.env[a].globals,_=e("ga-tracker");n.initFromVar(r),n.set("b_companyname",B.env.b_companyname),n.set("b_nonsecure_hostname",B.env.b_nonsecure_hostname),n.set("b_secure_hostname",B.env.b_secure_hostname),n.set("b_domain_for_book",B.env.domain_for_book),n.set("b_query_params_with_lang",B.env.b_query_params_with_lang),n.set("b_selected_currency",B.env.b_selected_currency),n.set("fe_bbt_ga_category",_.BBToolTracker),n.set("b_reg_user_company_name",B.env.b_reg_user_company&&B.env.b_reg_user_company.b_name),B.env.companyAction&&n.set("b_feature_permissions",B.env.companyAction.b_feature_permissions),B.env.b_connected_user_accounts&&n.set("b_connected_user_accounts",B.env.b_connected_user_accounts),i.exports=n,_r_()}),B.define("company/functions/render",function(e,t,i){"use strict";_i_("3bb:08844f5b");var r=e("company/store");i.exports=function(e,t,i,n){_i_("3bb:20366f7a"),n=n||{};i=$.extend({},r.get(),i);var a=e.html(B.jstmpl(t).render(i)).loadComponents();return e.data("companyRenderedAlready")?setTimeout(function(){_i_("3bb:2b8cb265"),e.find('[data-render-focus], [data-render-focus=""]').focus(),_r_()},4):e.data("companyRenderedAlready",!0),_r_(a)},_r_()}),B.define("component/company/dom-utils/autocomplete",function(e,t,i){_i_("3bb:06c150e0");var n=e("component/autocomplete"),a=e("company/utils");i.exports=n.extend({init:function(){_i_("3bb:5cd1a83f"),this.data=a.nodeData(this.$el),this.data.model&&(this.data.modelId?this._model=e(this.data.model).getInstance(this.data.modelId):this._model=e(this.data.model),this.data.listTemplate&&this.render()),n.prototype.init.apply(this),_r_()},render:function(){_i_("3bb:a8662c50");var e=a.filterObject(this.data,function(e,t){return _i_("3bb:b6dea6041"),_r_(0===t.indexOf("b_"))});this._model&&$.extend(e,this._model.autocompleteLoad()),this.$el.find('[data-list], [data-list=""]').html(B.jstmpl(this.data.listTemplate).render(e)),this._model&&this._model.autocompleteOpen&&this.$input.on("click",function(){_i_("3bb:b12d7c6f"),this._model.autocompleteOpen(),_r_()}.bind(this)),_r_()},choose:function(e){_i_("3bb:d76ff0a2"),n.prototype.choose.apply(this,arguments),this._model&&this._model.autocompleteChoose(e),_r_()}}),_r_()}),B.define("component/company/dom-utils/autocomplete-remote",function(e,t,i){_i_("3bb:ebf92c3d");var n=e("component/autocomplete-core"),a=e("company/utils"),r=e("company/functions/render");i.exports=n.extend({init:function(){_i_("3bb:11148391"),this.optionsSpec={delay:{name:"delay",type:Number,defaultValue:300},model:{name:"model",type:String,required:!0},modelId:{name:"model-id",type:String,defaultValue:""},listTemplate:{name:"list-template",type:String,required:!0},filterField:{name:"b_field",type:String,defaultValue:"value"},minLength:{name:"minlength",type:Number,defaultValue:2},useTransport:{name:"use-transport",type:Boolean,defaultValue:!1}},n.prototype.init.apply(this,arguments),this._tmpl_data=a.scrapeTemplateParams(this.$el),this.$el.on("click",".js-reset",this.reset.bind(this,{hard:!0})),this.options.modelId?this._model=e(this.options.model).getInstance(this.options.modelId):this._model=e(this.options.model),_r_()},reset:function(e){_i_("3bb:94a733e5"),n.prototype.reset.apply(this,arguments),e&&e.hard&&this._model.reset(),_r_()},autocomplete:function(e){_i_("3bb:65a6510e"),e=e||{},this.highlightReset({preserveInputValue:!0}),this.items=[],this.$items=$({}),this.$list.empty(),clearTimeout(this.timer),this._model.abortAutocomplete(),e.fromFocus||(this.timer=setTimeout(function(){_i_("3bb:610c946a"),this.input.value.length>=this.options.minLength&&this._model.requestAutocomplete(this.input.value,this.options.filterField,this.options).then(this.render.bind(this),this.renderError.bind(this)).finishChain(),_r_()}.bind(this),this.options.delay)),this.postAutocomplete(),_r_()},renderError:function(e){throw _i_("3bb:748e7168"),new Error(e)},render:function(e){if(_i_("3bb:552fbaaa"),!this.$input.is(":focus"))return _r_();this.items=this._formatResult(e),this._render({items:this.items}),this.$items=this.$list.find('[data-list-item=""]'),this.postAutocomplete(),_r_()},_formatResult:function(e){return _i_("3bb:8d528165"),e.forEach(function(e){_i_("3bb:caca2b7d"),e.value=e[this.options.filterField],e.valueLowerCase=e.value.toLowerCase(),_r_()}.bind(this)),_r_(e)},_render:function(e){return _i_("3bb:9e133992"),_r_(r(this.$list,this.options.listTemplate,$.extend({},this._tmpl_data,e)))},getListLength:function(){return _i_("3bb:ba1fa12f"),_r_(n.prototype.getListLength.apply(this,arguments)||1)},choose:function(e){_i_("3bb:8da8d04f"),n.prototype.choose.apply(this,arguments),this._model.autocompleteChoose(e),_r_()}}),_r_()}),B.define("component/company/dom-utils/component-with-data",function(e,t,i){_i_("3bb:8cf5eef7");var n=e("component"),a=e("utils");i.exports=n.extend({init:function(){_i_("3bb:7f2ebc1f"),this.data={};var e=a.nodeData(this.$el);for(var t in e)e.hasOwnProperty(t)&&(this.data[t]=e[t]);_r_()}}),_r_()}),B.define("component/company/dom-utils/toggle",function(e,t,i){"use strict";_i_("3bb:18de3e60");var n=e("component/company/dom-utils/component-with-data"),a=e("company/functions/render"),r=e("company/utils");return _r_(n.extend({init:function(){_i_("3bb:c55705a7"),n.prototype.init.call(this),this._open=null,this.options=this.data,this.options.model&&(this.options.modelId?this._model=e(this.options.model).getInstance(this.options.modelId):this._model=e(this.options.model)),this._model.on("update",this.modelUpdate,this),this._model.on("dismiss",this.renderButton,this),this.options.detailEvent&&this._model.on(this.options.detailEvent,this.renderDetail,this),this.options.showDetails?this.renderDetail({noDismiss:!0}):this.renderButton(),_r_()},unmountComponent:function(){_i_("3bb:6a0bacbe"),this._model.off("dismiss",this.renderButton,this),this.options.detailEvent&&this._model.off(this.options.detailEvent,this.renderDetail,this),_r_()},render:function(e,t,i){return _i_("3bb:53b21ade"),_r_(a(e,t,i))},modelUpdate:function(){_i_("3bb:3683de60"),this._open?this.renderDetail({force:!0}):this.renderButton({force:!0}),_r_()},renderDetail:function(e){if(_i_("3bb:20e96b25"),e=e||{},!0===this._open&&!e.force)return _r_();e.noDismiss||this._model.dismiss(),this._open=!0,this.render(this.$el,this.options.detail,this.getData()),_r_()},renderButton:function(e){if(_i_("3bb:389f2284"),e=e||{},!1===this._open&&!e.force)return _r_();this._open=!1,this.render(this.$el,this.options.button,this.getData()).find('[data-detail-trigger=""]:not(.-disabled), [data-detail-trigger]:not(.-disabled)').bind("click",this.clickDismiss.bind(this)),_r_()},clickDismiss:function(e){_i_("3bb:6b1643e6"),e.preventDefault(),setTimeout(function(){_i_("3bb:9dfe4370"),this.renderDetail(),_r_()}.bind(this),0),_r_()},getData:function(){_i_("3bb:17eefc39");var e=r.filterObject(this.data,function(e,t){return _i_("3bb:b6dea604"),_r_(0===t.indexOf("b_"))});return _r_(this._model.load?$.extend(e,this._model.load()):e)}}))}),B.define("component/company/employees/book-picker/book-picker-input",function(e,t,i){_i_("3bb:e20ff11b");var n=e("component/autocomplete"),a=e("company/utils");i.exports=n.extend({init:function(){_i_("3bb:ef221098"),this.itemTemplate=B.jstmpl("company_employees_book_picker_employee_autocomplete_limited"),n.prototype.init.apply(this),this.options.model=this.$el.data("model"),this.options.name=this.$el.data("name"),a.assertExists(this.options,"model"),a.assertExists(this.options,"name"),this.data=a.nodeData(this.$el),this.model=e(this.data.model).getInstance(this.data.modelId),this._listLimited=100<this.model.b_employee_list.length,this.$input.attr("name")&&3<=this.$input.attr("name").split("_").length&&(this.fieldName=this.$input.attr("name").split("_")[2]),_r_()},loadItems:function(){_i_("3bb:34599ed3"),this.items=[],n.prototype.loadItems.apply(this),_r_()},listShow:function(e){if(_i_("3bb:d5f3a931"),!e&&0===this.$items.filter(".-visible").length)return _r_();n.prototype.listShow.apply(this),_r_()},autocomplete:function(){_i_("3bb:2c57d1dc"),this.$list.find(".c-autocomplete__nothing-found").remove(),this.renderItems(this.getFilteredItems()),_r_()},choose:function(e){_i_("3bb:81125d5c"),n.prototype.choose.apply(this,arguments),this.model.autocompleteChoose(this._matched[e]),_r_()},renderItems:function(e){_i_("3bb:bc613e9d");for(var t={b_employee_list:[]},i=Math.min(e.length,this._listLimited?30:e.length),n=0;n<i;n++){var a=$.extend({b_field_value:this.model.b_employee_list[e[n]][this.data.b_field]},this.model.b_employee_list[e[n]]);t.b_employee_list.push(a)}if(this._listLimited&&30<e.length&&(t.b_more_items=e.length-30),!e.length)return this.$list.html(""),this.listHide(),this.items=[],_r_();this.firstItemIndex=0,this.$list.html(this.itemTemplate.render(t)),this.$items=this.$list.find(".bbtebp__list__item"),this.listShow(),this.loadItems(),this.addItemsEventListeners(),this.calculateListHeight(),this.postAutocomplete(),_r_()},getFilteredItems:function(){_i_("3bb:365c988b");var n=this.input.value.trim().toLowerCase(),a=this.data.b_field;return this._matched=this.model.b_employee_list.reduce(function(e,t,i){return _i_("3bb:4546e725"),-1!==t[a].toLowerCase().indexOf(n)&&e.push(i),_r_(e)},[]),_r_(this._matched)}}),_r_()}),B.define("company/employees/book-picker/model",function(e,t,i){_i_("3bb:877b920c");var n=e("event-emitter"),a={};function r(e){_i_("3bb:9de74912"),n.extend(this),this.id=e,this.b_employee_list=B.env.b_employee_list,_r_()}$.extend(r.prototype,{load:function(){return _i_("3bb:67775a04"),_r_({b_stayer_employee_id:this.b_stayer_employee_id,b_orgnode_id:this.b_orgnode_id,b_firstname:this.b_firstname,b_lastname:this.b_lastname,b_email:this.b_email})},autocompleteLoad:function(){return _i_("3bb:fb47c7f7"),_r_({b_employee_list:this.b_employee_list})},autocompleteChoose:function(e){_i_("3bb:d54af104"),this.b_stayer_employee_id=this.b_employee_list[e].b_id,this.b_orgnode_id=this.b_employee_list[e].b_orgnode_id,this.b_firstname=this.b_employee_list[e].b_firstname,this.b_lastname=this.b_employee_list[e].b_lastname,this.b_email=this.b_employee_list[e].b_email,this.dismiss(),_r_()},employeeChooseById:function(i){_i_("3bb:42ab0970"),$.each(this.b_employee_list,function(e,t){if(_i_("3bb:af4aac81"),t.b_id==i)return this.b_stayer_employee_id=this.b_employee_list[e].b_id,this.b_orgnode_id=this.b_employee_list[e].b_orgnode_id,this.b_firstname=this.b_employee_list[e].b_firstname,this.b_lastname=this.b_employee_list[e].b_lastname,this.b_email=this.b_employee_list[e].b_email,this.dismiss(),_r_(!1);_r_()}.bind(this)),_r_()},dismiss:function(){_i_("3bb:865eb288"),this.trigger("dismiss"),_r_()},reset:function(){_i_("3bb:de1473b6"),this.b_stayer_employee_id=null,this.b_orgnode_id=null,this.b_firstname="",this.b_lastname="",this.b_email="",_r_()}}),i.exports={getInstance:function(e){return _i_("3bb:cd013b72"),a[e]||(a[e]=new r),_r_(a[e])}},_r_()}),B.define("company/employees/book-picker/model-remote",function(e,t,i){_i_("3bb:04572bc8");var n=e("event-emitter"),a=e("company/bp/guest/invitation"),r=e("ga-tracker"),_={};function s(e){_i_("3bb:f37fb66f"),n.extend(this),this.id=e,this._items=[],this._last_xhr,this.invitation=new a(e),_r_()}$.extend(s.prototype,{_transport:e("company/server-transport"),load:function(){return _i_("3bb:23915ec7"),_r_({b_stayer_employee_id:this.b_stayer_employee_id,b_orgnode_id:this.b_orgnode_id,b_firstname:this.b_firstname,b_lastname:this.b_lastname,b_email:this.b_email,b_billing_address:this.b_billing_address,b_billing_addresses:B.env.b_bbtool_billing_addresses})},requestAutocomplete:function(e){return _i_("3bb:2228fe76"),this._items=[],_r_(this._transport.run("autocomplete_employees",{query:e}).then(function(e){return _i_("3bb:c11d3f05"),this._items=e.employees,_r_(this._items)}.bind(this)))},autocompleteChoose:function(e){_i_("3bb:6fc3ecea"),this.b_stayer_employee_id=this._items[e].b_id,this.b_orgnode_id=this._items[e].b_orgnode_id,this.b_firstname=this._items[e].b_firstname,this.b_lastname=this._items[e].b_lastname,this.b_email=this._items[e].b_email,this.dismiss(),this.invitation.hide(),this.invitation.disable(),r.trackEvent(r.BBToolTracker,"Stayer details","Change: Stayer selected form autocomplete"),_r_()},abortAutocomplete:function(){_i_("3bb:0e6b2089"),this._last_xhr&&(this._last_xhr.abortXhr(),this._last_xhr=null),_r_()},dismiss:function(){_i_("3bb:865eb2881"),this.trigger("dismiss"),_r_()},reset:function(){_i_("3bb:71d645f0"),this._items=[],this.b_stayer_employee_id=null,this.b_orgnode_id=null,this.b_firstname="",this.b_lastname="",this.b_email="",this.invitation.enable(),_r_()}}),i.exports={getInstance:function(e){return _i_("3bb:0ba4b114"),_[e]||(_[e]=new s(e)),_r_(_[e])}},_r_()}),B.define("component/company/employees/book-picker/toggle",function(e,t,i){"use strict";_i_("3bb:32971b1f");var n=e("component/company/dom-utils/toggle");return _r_(n.extend({clickDismiss:function(){_i_("3bb:79598008"),this._model.reset(),n.prototype.clickDismiss.apply(this,arguments),_r_()}}))}),B.define("company/labels/book-process/model",function(e,t,i){_i_("3bb:439ac656");var n=e("event-emitter"),a={},r=e("ga-tracker");function _(e){_i_("3bb:7d7add79"),n.extend(this),this.id=e,_r_()}$.extend(_.prototype,{load:function(){_i_("3bb:cf6de976");var e=$.extend({},this.b_label);return e.b_bbtoollabel_list=B.env.b_bbtoollabel_list,_r_(e)},autocompleteLoad:function(){return _i_("3bb:306d554b"),_r_({})},autocompleteOpen:function(){},autocompleteChoose:function(e){_i_("3bb:b916743f"),this.b_label=B.env.b_bbtoollabel_list[e],this.dismiss(),r.trackEvent(r.BBToolTracker,"Stayer details","Selected: Label"),_r_()},dismiss:function(){_i_("3bb:865eb2882"),this.trigger("dismiss"),_r_()}}),i.exports={getInstance:function(e){return _i_("3bb:0ba4b1141"),a[e]||(a[e]=new _(e)),_r_(a[e])}},_r_()}),B.define("company/utils",function(e,t,i){_i_("3bb:ff77712b");var n=e("utils"),a={assert:function(e,t){if(_i_("3bb:9d038833"),!e)throw new Error("Assertion error: "+t);_r_()},filterObject:function(e,t){_i_("3bb:b2395320");var i={};for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)&&(i[n]=e[n]);return _r_(i)},mapObject:function(e,t){_i_("3bb:5c34d9e1");var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=t(e[n],n));return _r_(i)},buildKeys:function(e){_i_("3bb:006c5ba8");var t,i,n,a,r,_={};for(t in e)e.hasOwnProperty(t)&&(i=e[t],(r=/(\w+)\.(\d+)\.(\w+)/.exec(t))?(n=r[1],a=r[2],t=r[3],_[n]||(_[n]=[]),_[n][a]||(_[n][a]={}),_[n][a][t]=i):_[t]=i);return _r_(_)},flattenKeys:function(e,t){_i_("3bb:c7a06e6f"),t=t||"";var i,n,a={};for(i in e)if(e.hasOwnProperty(i))if((n=e[i])instanceof Array)for(var r=0;r<n.length;++r)$.extend(a,this.flattenKeys(n[r],i+"."+r+"."));else a[t+i]=n;return _r_(a)},addParams:function(e,t,i){_i_("3bb:844398f1"),i=i||B.env.b_query_params_delimiter;var n=e.split("#"),a=n[0].split("?"),r=(t=$.extend(B.tools.url.parse(a[1]),t),[a[0],B.tools.url.stringify(t,i)].join("?"));return n[1]?_r_([r,n[1]].join("#")):_r_(r)},removeParams:function(e,t,n){return _i_("3bb:8e2e9235"),n=n||B.env.b_query_params_delimiter,_r_(t.reduce(function(e,t){_i_("3bb:f5513444");var i=new RegExp(t+"=[^"+n+"]*"+n+"?","gi");return _r_(e.replace(i,""))},e))},scrapeTemplateParams:function(e){_i_("3bb:8490e5a6");var t=n.nodeData(e),i=Object.keys(t).filter(function(e){return _i_("3bb:b81447e6"),_r_(e.match(/^b_/))});return _r_(B.tools.object.pick.apply(null,[t].concat(i)))}};i.exports=$.extend({},n,a),_r_()}),B.define("company/bp/reload-on-travel-purpose-change",function(n,e,t){function i(e){_i_("3bb:4efb9056"),_i_("3bb:00352cff"),n("lightbox").show($(".js-change-purpose-loader"),{bAnimation:!1,bCloseButton:!1,bCanScroll:!1,opacity:.9,customWrapperClassName:"bs2_bbtool_purpose_loader",customMaskClassName:"bs2_bbtool_purpose_loader_mask"}),_r_();var t="bp_travel_purpose="+e.getTravelPurpose(),i=B.env.b_this_url.replace(/[;&]bp_travel_purpose=(leisure|business)/,"")+B.env.b_query_params_delimiter+t;location.replace(i),_r_()}_i_("3bb:3a6b45a6"),e.init=function(){_i_("3bb:1076b4f4");var e=B.bp.Main.getModel();$(e).bind(B.bp.bs2.Model.EventType.TRAVEL_PURPOSE_CHANGE,i.bind(null,e)),_r_()},_r_()}),B.define("company/bp/hide-budgets-on-travel-purpose-change",function(e,t,i){_i_("3bb:cad8288d"),t.init=function(){_i_("3bb:1076b4f41");var e=B.bp.Main.getModel();$(e).bind(B.bp.bs2.Model.EventType.TRAVEL_PURPOSE_CHANGE,function(e){_i_("3bb:5972c81d");var t=e.getTravelPurpose(),i=$(".destination_budgets_notification_container");"business"==t?i.removeClass("g-hidden"):i.addClass("g-hidden"),_r_()}.bind(null,e)),_r_()},_r_()}),B.define("component/company/bp/redemption-form",function(e,t,i){_i_("3bb:1ea14f3f");var n=e("component"),a=e("company/utils"),r=e("ga-tracker"),_="g-hidden",s="how-to-pay--selected",o="bb_loyalty_payment_option";i.exports=n.extend({init:function(){if(_i_("3bb:cf123261"),this.data=a.nodeData(this.$el),this.data.nonRefundable)return _r_();this._$noPaymentMethodAlert=this.$el.find(".js--loyalty-program__no-payment-method-selected"),this._$submitBtn=this.$el.find("button.bp-overview-buttons-submit"),this.$el.on("submit",this._onFormSubmit.bind(this)),this.$el.find("input[name="+o+"]").on("change",this._onPaymentMethodSelected.bind(this)),this.$el.on("click","[data-how-to-pay]",function(e){var t;_i_("3bb:c369ffb5"),t=this._getPaymentMethod(),this._handleHowToPayControlClicked($(e.currentTarget)),"bb_loyalty_payment_option"!==e.target.name&&this._onPaymentMethodSelected(),this._getPaymentMethod()!=t&&("at_property"==this._getPaymentMethod()?r.trackEvent(r.Rewards,"BS3","Pay when I stay"):"online"==this._getPaymentMethod()&&r.trackEvent(r.Rewards,"BS3","Pay with rewards")),_r_()}.bind(this)),this._isPaymentMethodSelected()||this._lockForm(),_r_()},_onFormSubmit:function(e){_i_("3bb:138fda91"),this._isPaymentMethodSelected()||(this._showSelectPaymentMethodAlert(),this._lockForm(),e.preventDefault()),_r_()},_handleHowToPayControlClicked:function(e){if(_i_("3bb:d455e7b7"),!e||!e.length)return _r_();this.$el.find("."+s).removeClass(s),e.addClass(s),this._selectPaymentMethod(e.attr("data-how-to-pay")),_r_()},_onPaymentMethodSelected:function(){_i_("3bb:c2369be7"),this._removeSubmitButtonTooltip(),this._hideSelectPaymentMethodAlert(),this._unlockForm(),this._togglePaymentMethods(),_r_()},_selectPaymentMethod:function(e){if(_i_("3bb:75deb165"),!e)return _r_();this.$el.find("input[name="+o+"][value="+e+"]").prop("checked",!0),_r_()},_isPaymentMethodSelected:function(){return _i_("3bb:eda5ff7a"),_r_(void 0!==this._getPaymentMethod())},_getPaymentMethod:function(){return _i_("3bb:46832e25"),_r_(this.$el.find("input[name="+o+"]:checked").val())},_showSelectPaymentMethodAlert:function(){_i_("3bb:648affdb"),this._$noPaymentMethodAlert.removeClass(_),_r_()},_hideSelectPaymentMethodAlert:function(){_i_("3bb:faa532bd"),this._$noPaymentMethodAlert.addClass(_),_r_()},_removeSubmitButtonTooltip:function(){_i_("3bb:f72fa196");var e=this._$submitBtn.data("component-instance-tooltip");e&&e.tooltip&&e.tooltip.destroy.call(e),_r_()},_lockForm:function(){_i_("3bb:82cdfc54"),this.$el.attr("data-disabled",!0),_r_()},_unlockForm:function(){_i_("3bb:75163a89"),this.$el.removeAttr("data-disabled"),_r_()},_togglePaymentMethods:function(){_i_("3bb:a2062b3b");var e=this.$el.find(".js--loyalty-program__payment"),t=this.$el.find(".js--loyalty-program__redeem");switch(e.removeClass(_),this._getPaymentMethod()){case"online":t.removeClass(_);break;case"at_property":t.addClass(_)}_r_()}}),_r_()}),B.define("component/company/bp/loyalty-program-payment",function(e,t,i){_i_("3bb:e2a228c7");var n=e("component"),a=e("company/utils"),r=e("bp/store"),_=B.utils.accounting.formatMoney;i.exports=n.extend({init:function(){_i_("3bb:773b87fc"),this.data=a.nodeData(this.$el),this._$creditMessage=this.$el.find(".loyalty-program__redeem-credit__credit-message"),this._$creditcardMethod=this.$el.find(".payment-method-creditcard"),this._$paypalMethod=this.$el.find(".payment-method-paypal"),this._$idealMethod=this.$el.find(".payment-method-ideal"),this._$creditcardMethodLabel=this.$el.find(".loyalty-program__redeem-credit__cc-title"),this._creditcardMethodLabelOrigText=this._$creditcardMethodLabel.text(),this.$el.find(".loyalty-program__redeem-credit__form").component("company/bp/loyalty-program-redeem").on("change",function(e){_i_("3bb:8a464241"),this._updateMethods(e),this._updateMessage(e),r.dispatch({type:"UPDATE_REDEMPTION_AMOUNT",payload:{key:"bb_loyalty_redeem_credit_amount_formatted",value:e.redeemAmount}}),_r_()}.bind(this)),this._updateMethods(0),_r_()},_updateMethods:function(e){_i_("3bb:90bfcc5e"),e.redeemAmount<=0||0===e.remainingCost?(this._hidePayMethod(this._$paypalMethod),this._hidePayMethod(this._$idealMethod),this._$creditcardMethod.click()):(this._showPayMethod(this._$paypalMethod),this._showPayMethod(this._$idealMethod)),_r_()},_updateMessage:function(e){_i_("3bb:82cebd2b");var t=e.redeemAmount,i=e.remainingCost,n=_(e.remainingCost,this.data.userCurrency,{precision:2}),a=e.remainingCredit;0===a&&this.$el.find(".loyalty-program__redeem-credit__credit-message-title").html(B.jstmpl.translations("bbt_loyalty_bp_all_credit",0,{b_companyname:B.env.b_companyname})),this.$el.find(".loyalty-program__redeem-credit__credit-message-price").html(n),this.$el.find(".loyalty-program__redeem-credit__credit-message-price-part").html(n),this._$creditMessage.removeClass("full-amount"),this._$creditcardMethodLabel.text(this._creditcardMethodLabelOrigText),t&&0===i&&(this._$creditMessage.addClass("full-amount"),this._$creditcardMethodLabel.text(B.jstmpl.translations("bbt_loyalty_bp_full_no_charge_ccheader"))),this.$el.find(".loyalty-program__redeem-credit__cc-may-be-charged").toggle(!a||.9<t/a),_r_()},_hidePayMethod:function(e){_i_("3bb:4076f29e"),e.addClass("payment-method--disabled"),e.addClass("accordion__item--is-disabled"),e.find(".payment-method__toggle__radio").prop("disabled",!0),_r_()},_showPayMethod:function(e){_i_("3bb:a2620272"),e.removeClass("payment-method--disabled"),e.find(".payment-method__toggle__radio").prop("disabled",!1),e.removeClass("accordion__item--is-disabled"),_r_()}}),_r_()}),B.define("component/company/bp/loyalty-program-redeem",function(e,t,i){_i_("3bb:9b64d4e7");var n=e("component"),a=e("company/utils"),r=e("ga-tracker"),_=e("event-emitter"),s=B.utils.accounting.formatMoney,o=B.utils.accounting.getOptions()?B.utils.accounting.getOptions().decimal:".",l=function(e){return _i_("3bb:612038a6"),_r_(s(e,"",{precision:2}).replace(/ /,""))};i.exports=n.extend({init:function(){_i_("3bb:57507902"),_.extend(this),this.data=a.nodeData(this.$el),this.data.remainingCredit=this._toFixed2(+this.data.remainingCredit),this.data.currenciesNotMatch=this.data.currenciesNotMatch||!1,this.data.totalCostUserCurrency=this._toFixed2(+this.data.totalCostUserCurrency),this.data.totalCostHotelCurrency=this._toFixed2(+this.data.totalCostHotelCurrency),this.data.hotelCurrency=this.data.hotelCurrency||this.data.currency,this.data.userCurrency=this.data.userCurrency||this.data.currency,this.data.currencyRate=this.data.currencyRate||1;var e=this.$el;this.$table=e.find(".loyalty-program__redeem-credit__table"),this.$applyMax=e.find(".loyalty-program__redeem-credit__apply-max"),this.$redeemValue=e.find(".loyalty-program__redeem-credit__redeem-value"),this.$redeemValueControl=e.find(".loyalty-program__redeem-credit__redeem-value--formatted"),this.$youPay=e.find(".loyalty-program__redeem-credit__you-pay"),this.data.currenciesNotMatch&&(this.$youPayHotelCurrency=e.find(".loyalty-program__redeem-credit__you-pay--hotel-currency")),this.$applyMax.on("click",function(){_i_("3bb:2dc5d8a9");var e=Math.min(this.data.totalCostUserCurrency,this.data.remainingCredit);this.$redeemValue.val(e),this._updateRedeemControlValue(),this.$redeemValueControl.trigger("blur"),r.trackEvent(r.Rewards,"BS3","Use all my balance"),this.$redeemValue.trigger("change"),_r_()}.bind(this)),this.$redeemValueControl.on("keyup change",this._updateRedeemValue.bind(this)).on("blur",this._updateRedeemControlValue.bind(this)),this.$redeemValueControl.one("keyup",r.trackEvent.bind(r,r.Rewards,"BS3","Enter amount")),this.$redeemValue.on("change",this._setFormValidness.bind(this)).on("change",this._handleRedemptionValues.bind(this)).on("change.ga-invalid-amount",this._triggerGaEventOnInValid.bind(this)),this._setFormValidness(),this._handleRedemptionValues(!0),_r_()},_setFormValidness:function(){_i_("3bb:baa0d211");var e=this._isValidValue(this.$redeemValue.val());this.$el.toggleClass("loyalty-program__redeem-credit__form--redeem-value-error",!e),_r_()},_handleRedemptionValues:function(e){_i_("3bb:c98d8d3b");var t=Number(this.$redeemValue.val())||0,i=this._isValidValue(t)?t:0,n=this._getRemainingCost(i);if(e&&i>this.data.totalCostUserCurrency)return this.$redeemValueControl.val(l(Number(this.data.totalCostUserCurrency))),this._handleRedemptionValues(),_r_(!0);this._update({redeemAmount:i,remainingCost:n,remainingCostHotelCurrency:this._getRemainingCost(i,!0),remainingCredit:this._subtract(this.data.remainingCredit,i)}),_r_()},_triggerGaEventOnInValid:function(){_i_("3bb:d48c96d8"),this._isValidValue(this.$redeemValue.val())||(r.trackEvent(r.Rewards,"BS3","Amount error"),this.$redeemValue.off("change.ga-invalid-amount")),_r_()},_updateRedeemValue:function(){_i_("3bb:c3e317d8");var e=this.$redeemValueControl.val();this.$redeemValue.val(function(e){if(_i_("3bb:ca00045e"),e=(""+e).replace(/ /,""),","===o)return _r_(Number(e.replace(/\./g,"").replace(/,/g,".")));return _r_(Number(e.replace(/,/g,"")))}(e)),this.$redeemValue.trigger("change"),_r_()},_updateRedeemControlValue:function(){_i_("3bb:cdf2258c");var e=this.$redeemValue.val();this.$redeemValueControl.val(l(e)),_r_()},_toFixed2:function(e){if(_i_("3bb:75754e83"),"number"!=typeof e)throw"value must be number";return _r_((100*e).toFixed(0)/100)},_getRemainingCost:function(e,t){_i_("3bb:e801e771");var i=this._subtract(this.data.totalCostUserCurrency,e);if(t&&i)return _r_(this._subtract(this.data.totalCostHotelCurrency,this._convertValueToHotelCurrency(e)));return _r_(i)},_convertValueToHotelCurrency:function(e){return _i_("3bb:a4e3d52f"),_r_(e/this.data.currencyRate)},_subtract:function(e,t){_i_("3bb:01962fd2");var i=(100*e-100*t).toFixed(0)/100;return i<0&&(i=0),_r_(i)},_isValidValue:function(e){if(_i_("3bb:5f8c4bf6"),isNaN(e))return _r_(!1);if(e<0)return _r_(!1);return _r_(!(e>this.data.remainingCredit))},_update:function(e){_i_("3bb:3012083a");var t=e.remainingCost,i=e.remainingCostHotelCurrency;this.$youPay.html(s(t,this.data.userCurrency,{precision:2})),this.data.currenciesNotMatch&&this.$youPayHotelCurrency.html(s(i,this.data.hotelCurrency,{precision:2})),this.trigger("change",e),_r_()}}),_r_()}),B.SpriteAnimator=function(e,t,i,n,a,r){_i_("3bb:4821f0fb"),this.elem_=e,this.propToAnimate_=n||B.SpriteAnimator.Prop.BACKGROUND_POSITION,this.frameSize_=this.normalizeSize_(t),this.spriteSize_=this.normalizeSize_(i),this.pauseFrames_=this.normalizePauseFrames_(a||[]),this.animating_=!1,this.framesInterval_=B.SpriteAnimator.DEFAULT_FRAMES_INTERVAL,this.currentFrame_=B.SpriteAnimator.DEFAULT_START_FRAME,this.framesCols_=this.calculateFramesCols_(),this.framesRows_=this.calculateFramesRows_(),this.framesCount_="number"==typeof r?r:this.framesCols_*this.framesRows_,this.lastRememberedTime_=0,this.loopTimeout_=0,this.eventsDispatcher_=$(this),_r_()},B.SpriteAnimator.DEFAULT_FRAMES_INTERVAL=33,B.SpriteAnimator.DEFAULT_START_FRAME=1,B.SpriteAnimator.EventType={PAUSE:"pause"},B.SpriteAnimator.Prop={BACKGROUND_POSITION:"background_position",POSITION:"position"},B.SpriteAnimator.prototype.isAnimating=function(){return _i_("3bb:f725b83a"),_r_(this.animating_)},B.SpriteAnimator.prototype.play=function(){return _i_("3bb:fb4514c9"),this.animating_||(this.animating_=!0,this.runLoop_()),_r_(this)},B.SpriteAnimator.prototype.pause=function(){return _i_("3bb:04ef9d7a"),this.animating_&&(this.animating_=!1,clearTimeout(this.loopTimeout_),this.eventsDispatcher_.trigger(B.SpriteAnimator.EventType.PAUSE)),_r_(this)},B.SpriteAnimator.prototype.rewind=function(){return _i_("3bb:837932be"),clearTimeout(this.loopTimeout_),this.currentFrame_=B.SpriteAnimator.DEFAULT_START_FRAME,this.drawElem_(),this.animating_&&this.runLoop_(),_r_(this)},B.SpriteAnimator.prototype.moveToFrame=function(e){return _i_("3bb:3a778ecf"),this.throwErrorIfFrameIsInvalid_(e),this.moveToFrame_(e),_r_(this)},B.SpriteAnimator.prototype.getCurrentFrame=function(){return _i_("3bb:43c7f516"),_r_(this.currentFrame_)},B.SpriteAnimator.prototype.getFramesCount=function(){return _i_("3bb:ff9a64ba"),_r_(this.framesCount_)},B.SpriteAnimator.prototype.getFramesInterval=function(){return _i_("3bb:8c3cd523"),_r_(this.framesInterval_)},B.SpriteAnimator.prototype.setFramesInterval=function(e){_i_("3bb:e716ecf7"),this.framesInterval_=e,_r_()},B.SpriteAnimator.prototype.getPauseFrames=function(){return _i_("3bb:0e5d3077"),_r_(this.pauseFrames_)},B.SpriteAnimator.prototype.setPauseFrames=function(e){_i_("3bb:ab78011c"),this.pauseFrames_=e,_r_()},B.SpriteAnimator.prototype.runLoop_=function(){_i_("3bb:81747472");var e=this;this.loopTimeout_=setTimeout(function(){_i_("3bb:fe11e6c9"),e.runLoop_(),_r_()},5);var t=(new Date).getTime();this.lastRememberedTime_<=t&&(this.moveToNextFrame_(),this.lastRememberedTime_=t+Math.abs(this.framesInterval_)),_r_()},B.SpriteAnimator.prototype.moveToNextFrame_=function(){_i_("3bb:2e880fa9");var e=0<this.framesInterval_?1:-1,t=this.currentFrame_+e;t>this.framesCount_&&(t=1),t<1&&(t=this.framesCount_),this.moveToFrame(t),_r_()},B.SpriteAnimator.prototype.moveToFrame_=function(e){_i_("3bb:108a7b48"),this.currentFrame_=e,this.drawElem_(),-1!==$.inArray(this.currentFrame_,this.pauseFrames_)&&this.pause(),_r_()},B.SpriteAnimator.prototype.drawElem_=function(){_i_("3bb:7a364b3b");var e=this.getFramePosition_(this.currentFrame_);this.propToAnimate_===B.SpriteAnimator.Prop.BACKGROUND_POSITION?this.elem_.css("background-position",-e.left+"px "+-e.top+"px"):this.propToAnimate_===B.SpriteAnimator.Prop.POSITION&&(1!==this.framesCols_&&this.elem_.css("left",-e.left),1!==this.framesRows_&&this.elem_.css("top",-e.top)),_r_()},B.SpriteAnimator.prototype.getFramePosition_=function(e){_i_("3bb:2d9dba8f"),this.throwErrorIfFrameIsInvalid_(e);var t=Math.ceil(e/this.framesCols_),i=(e-1)%this.framesCols_+1;return _r_({left:(i-1)*this.frameSize_.width,top:(t-1)*this.frameSize_.height})},B.SpriteAnimator.prototype.calculateFramesCols_=function(){return _i_("3bb:da2e767a"),0!==this.frameSize_.width&&0!==this.spriteSize_.width?_r_(Math.floor(this.spriteSize_.width/this.frameSize_.width)):_r_(1)},B.SpriteAnimator.prototype.calculateFramesRows_=function(){return _i_("3bb:375d2e61"),0!==this.frameSize_.height&&0!==this.spriteSize_.height?_r_(Math.floor(this.spriteSize_.height/this.frameSize_.height)):_r_(1)},B.SpriteAnimator.prototype.normalizeSize_=function(e){return _i_("3bb:8099e922"),_r_({width:"number"==typeof e.width?e.width:0,height:"number"==typeof e.height?e.height:0})},B.SpriteAnimator.prototype.normalizePauseFrames_=function(e){return _i_("3bb:3a5c85cf"),goog.isNumber(e)?_r_([e]):_r_(e)},B.SpriteAnimator.prototype.throwErrorIfFrameIsInvalid_=function(e){if(_i_("3bb:6ce29fb9"),e<1||e>this.framesCount_)throw Error("Frame number must be between 1 and "+this.framesCount_+". Found: "+e);_r_()},B.define("component/ugc/text-truncate",function(e,t,i){_i_("3bb:293261f6");var n=e("component");i.exports=n.extend({init:function(){if(_i_("3bb:f6b7228f"),this.$truncate=function(){return _i_("3bb:77734216"),_r_(this.$el.attr("data-truncate-content")?this.$el:this.$el.find("[data-truncate-content]"))}.call(this),"book"===B.env.b_action&&this.$truncate.show(),0===this.$truncate.length)return _r_();if(this.options={limit:parseInt(this.$el.attr("data-truncate-size")||50,10),sufix:this.$el.attr("data-truncate-sufix")||" ..."},this.fullText=this.$truncate.html(),this.truncatedText=this._getTruncatedText(this.fullText,this.options.limit),this.$truncate.attr("data-dont-truncate-to-zero")&&0===this.truncatedText.length)return _r_();if(this.options.limit>=this.fullText.length)return _r_();this.$expand=this.$el.find("[data-truncate-expand]"),this._truncateText(this.fullText,this.options.limit,this.options.sufix),0<this.$expand.length&&(this.$expand.removeClass("g-hidden"),this._attachEvents()),_r_()},_getTruncatedText:function(e,t){return _i_("3bb:2c56197b"),_r_($.trim(e).substring(0,t).split(" ").slice(0,-1).join(" "))},_truncateText:function(e,t,i){_i_("3bb:92b9e752"),this.$truncate.html(this.truncatedText+i),_r_()},_attachEvents:function(){_i_("3bb:e4cbc20e"),this.$expand.click(this._onExpandClick.bind(this)),_r_()},_onExpandClick:function(e){_i_("3bb:36280b9a"),e.preventDefault(),this.$expand.addClass("g-hidden"),this.$truncate.html(this.fullText),_r_()}}),_r_()}),booking.define("squeak",function(){"use strict";_i_("3bb:47bcbf25");var t=!1,i=[],n={};function e(){_i_("3bb:068737cb"),i.length?setTimeout(a,1e3):t=!1,_r_()}function a(){_i_("3bb:22ddbaf1"),$.ajax({url:"/squeak",type:"GET",success:e,error:e,data:{pid:booking.env.pageview_id,stid:booking.env.b_stid,sqk:"1:"+i.join(","),site_type:booking.env.b_site_type||""}}),i=[],_r_()}return _r_(function(e){if(_i_("3bb:3c0bc2e3"),n.hasOwnProperty(e)||(n[e]=0),10<++n[e])return _r_();if(i.push(e),t)return _r_();t=!0,setTimeout(a,1e3),_r_()})}),booking.squeak=booking.require("squeak"),B.define("bp/get_json_data_chunks",function(e){function i(t){var e;_i_("3bb:c8014b88");var i=function(e){_i_("3bb:a15af7ba");var t=document.getElementById(e);if(null==t||"undefined"==t)return booking.reportError(new Error("json data missing chunk:"+e),"BP json data: Page must contain json data chunk"),_r_();return _r_(t.innerHTML)}(t);if(i)try{e=JSON.parse(i)}catch(e){var n=new Error(t+": chunk parse failure - "+e.message);throw n.stack=e.stack,n}return _r_(e)}return _i_("3bb:bb3bcf2b"),_r_(function(){_i_("3bb:63a1dc53");var t={};return["bp_json_data_general_flags","bp_json_data_general_static","bp_json_data_guest_pii_fields","bp_json_data_cc_abbreviations_to_value_map","bp_json_data_bs2","bp_json_data_bs3","bp_json_data_initial_state"].forEach(function(e){_i_("3bb:88c339c0"),t[e]=i(e),_r_()}),_r_(t)})}),B.define("bp/env",function(e){_i_("3bb:514a3808");var t,i,n=e("bp/get_json_data_chunks");try{i=n()}catch(e){var a=new Error("Failed to collect chunks "+e.message);throw a.stack=e.stack,booking.reportError(a,"BP json data: Page must contain json data chunk"),a}return Object.keys(i).forEach(function(e){_i_("3bb:660f4d15"),i[e]&&(t=Object.assign({},t,i[e])),_r_()}),_r_({get:function(e){return _i_("3bb:e6839322"),_r_(e?t[e]:null)},getRaw:function(){return _i_("3bb:b627ccd9"),_r_(Object.assign({},t))}})}),B.define("bp/credit-card-abbreviations",{UNSELECTED:"__null__",MASTERCARD:"mastercard",MASTERCARD_ALT:"mc_di",VISA:"visa",VISA_ALT:"visa_di",AMEX:"americanexpress",AMEX_ALT:"amex_di",DISCOVER:"discover",DISCOVER_ALT:"discover_api",DINERS_CLUB:"dinersclub",JCB:"jcb"}),B.define("bp/credit-card-formats",["bp/credit-card-abbreviations"],function(e){_i_("3bb:823421a6");var t="xxxx xxxx xxxx xxxx";return _r_([{abbr:e.MASTERCARD,mask:t,regex:/^5[1-5]/},{abbr:e.MASTERCARD_ALT,mask:t,regex:/^5[1-5]/},{abbr:e.VISA,mask:t,regex:/^4/},{abbr:e.VISA_ALT,mask:t,regex:/^4/},{abbr:e.AMEX,mask:"xxxx xxxxxx xxxxx",regex:/^3[47]/},{abbr:e.AMEX_ALT,mask:"xxxx xxxxxx xxxxx",regex:/^3[47]/},{abbr:e.DISCOVER,mask:t,regex:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5])|64[4-9]|65)/},{abbr:e.DISCOVER_ALT,mask:t,regex:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5])|64[4-9]|65)/},{abbr:e.DINERS_CLUB,mask:"xxxx xxxxxx xxxx",regex:/^(30[0-5]|36)/},{abbr:e.JCB,mask:t,regex:/^35(2[89]|[3-8][0-9])/}])}),B.define("bp/emitter",function(e,t,i){_i_("3bb:372174fb");var n=e("event-emitter");i.exports=new n,_r_()}),B.define("bp/compset",function(e,t,i){_i_("3bb:f15864d2");var n=e("promise"),a={url:"/book_compset",template:"bp_compset",requiredParams:["hid","checkin","checkout","lang","aid","stype"],params:{no_cc:1,max:6,lang:"en",stype:"1"},onComplete:function(e){return _i_("3bb:d0f70425"),_r_(e)}},r=function(e){_i_("3bb:b0ae146f"),this.options=$.extend({},a,e),_r_()};r.prototype.fetch=function(i){return _i_("3bb:7ffd0615"),i=$.extend({},this.options.params,i),this.options.requiredParams.forEach(function(e){if(_i_("3bb:6266e354"),!i[e])throw new Error("bp/compset.fetch: `"+e+"` is required.");_r_()}),_r_(new n(function(e,t){_i_("3bb:43ef72db"),$.ajax({url:this.options.url,type:"GET",data:i,success:e,error:t}),_r_()}.bind(this)))},r.prototype.render=function(e){return _i_("3bb:f6965a85"),_r_(this.fetch(e).then(this.options.onComplete).then(function(e){if(_i_("3bb:fd85ee8c"),!e.hotels.length)return _r_(n.reject());return _r_(n.resolve(B.jstmpl(this.options.template).render(e)))}.bind(this)))},i.exports=r,_r_()}),B.define("bp/leaving-users-keeper",function(e,t,i){_i_("3bb:b581d873");var n=e("utils/debounce"),a=e("utils/scrollbar"),r=e("events"),_=e("bp/env").get("dismiss_rlu"),s=e("bp/store"),o=function(){};o.MESSAGE_DELAY=600;var l={openOnMouseLeave:!0,openOnIdleTime:!0},c=null;o.prototype.init=function(e){if(_i_("3bb:b30eded2"),l=Object.assign({},l,e),this.page_=$(document.documentElement),this.wasDetached=!1,this.$modalTemplate=$(l.modalTemplateSelector),0===this.$modalTemplate.length)return _r_();this.renderModal_({modalID:"retain-leaving-users__modal",modalTemplate:this.$modalTemplate.html()}),this.lastMouseYCoords_=[],this.lastMouseXCoords_=[],this.messageTimeoutId_=0,this.lightBox_=booking.lightbox,this.windowFocused_=!0,this.boundShowLeavingMessage=this.showLeavingMessage_.bind(this),this.attachEvents_(),_r_()},o.prototype.renderModal_=function(e){_i_("3bb:afa7d037"),(c=window.BUI.createInstance("Modal",null,{id:e.modalID,template:e.modalTemplate,onBeforeOpen:function(e){_i_("3bb:db46498f"),$(this.getModalRoot()).loadComponents(),_r_()},onAfterOpen:function(){_i_("3bb:e05cda12"),r.trigger("bp:leaving_users_keeper:open"),_r_()},onAfterClose:function(){_i_("3bb:6681567e"),r.trigger("bp:leaving_users_keeper:close"),_r_()}})).mount(),_r_()},o.prototype.attachEvents_=function(){_i_("3bb:09d623ec");var t=this;l.openOnMouseLeave&&this.page_.bind({"mousemove.LeavingUsersKeeper":function(e){_i_("3bb:4d0c22cf"),t.onPageMouseMove_(e),_r_()},"mouseleave.LeavingUsersKeeper":$.proxy(this.onPageMouseLeave_,this)}),l.openOnIdleTime&&r.on("bp:idle:10000",this.boundShowLeavingMessage),$(window).focus(function(){_i_("3bb:21994453"),t.windowFocused_=!0,_r_()}).blur(function(){_i_("3bb:bf32ab82"),t.windowFocused_=!1,_r_()}),$(window).bind("resize.LeavingUsersKeeper",n(this.onPageResize_.bind(this),100)).trigger("resize"),_r_()},o.prototype.detachEvents_=function(){_i_("3bb:1fc28762"),l.openOnMouseLeave&&(this.page_.unbind(".LeavingUsersKeeper"),$(window).off(".LeavingUsersKeeper")),l.openOnIdleTime&&r.off("bp:idle:10000",this.boundShowLeavingMessage),this.wasDetached=!0,_r_()},o.prototype.isBUIModalActive_=function(){return _i_("3bb:abee3078"),_r_(Boolean(document.querySelector(".bui-overlay")))},o.prototype.onPageMouseMove_=function(e){_i_("3bb:e847bd65"),clearTimeout(this.messageTimeoutId_),this.writeMouseCoords_(e),_r_()},o.prototype.onPageMouseLeave_=function(){if(_i_("3bb:90249adf"),this.wasMouseMoveToScrollbar_())return _r_();if(!this.wasMouseMoveUpwards_())return _r_();if(B.require("bp/change-dates-lightbox").isOpen()||this.isBUIModalActive_())return _r_();var e=this;clearTimeout(this.messageTimeoutId_),this.messageTimeoutId_=setTimeout(function(){_i_("3bb:403a7bb2"),e.showLeavingMessage_("mouseleave"),_r_()},o.MESSAGE_DELAY),_r_()},o.prototype.onPageResize_=function(){_i_("3bb:2be2c7f8"),this.hasVerticalScrollbar=a.hasVerticalScrollbar(),this.hasHorizontalScrollbar=a.hasHorizontalScrollbar(),_r_()},o.prototype.showLeavingMessage_=function(e){_i_("3bb:9ef54cab");var t=s.getState();if(t&&t.sca&&(t.sca.showChallenge||t.sca.isInProgress))return _r_();if(this.wasDetached)return _r_();if(_)return _r_();if(this.lightBox_.isVisible()||this.isBUIModalActive_())return _r_();if(this.detachEvents_(),$(".user-access-form-iframe").is(":visible"))return _r_(!1);c.open(),_r_()},o.prototype.writeMouseCoords_=function(e){_i_("3bb:60a58f53"),this.lastMouseXCoords_.push(e.pageX),this.lastMouseYCoords_.push(e.pageY),2<this.lastMouseXCoords_.length&&this.lastMouseXCoords_.shift(),2<this.lastMouseYCoords_.length&&this.lastMouseYCoords_.shift(),_r_()},o.prototype.wasMouseMoveUpwards_=function(){return _i_("3bb:923f268e"),_r_(2<=this.lastMouseYCoords_.length&&this.lastMouseYCoords_[0]>this.lastMouseYCoords_[1])},o.prototype.wasMouseMoveToScrollbar_=function(){if(_i_("3bb:6fb24242"),!this.hasVerticalScrollbar)return _r_(!1);var e=this.lastMouseXCoords_.length;if(e<2)return _r_(!1);if(this.lastMouseXCoords_[e-1]<=this.lastMouseXCoords_[e-2])return _r_(!1);if(this.lastMouseXCoords_[e-1]<$(window).width()-30)return _r_(!1);return _r_(!0)},i.exports=new o,_r_()}),B.define("bp/incomplete-booking-warning",function(){_i_("3bb:a4f0a20e");var n,e=function(){},i=$("#"+B.book.formName),a=["address1","city","zip","phone"],r=function(){_i_("3bb:7606fbec");var t={},e=i.find("#book_credit_card .new_card, fieldset#book_credit_card").filter(":visible").length?["cc_number","cc_name"]:[];return i.find(a.concat(e).map(function(e){return _i_("3bb:aa9ce6a3"),_r_("[name="+e+"]:visible")}).join(", ")).each(function(){_i_("3bb:da07dbe3");var e=$(this);t[e.attr("name")]=e.val(),_r_()}),_r_(t)},t=function(){_i_("3bb:5d176e8b");var t=void 0,i=r();return Object.keys(i).forEach(function(e){if(_i_("3bb:409f0552"),i[e]&&i[e]!=n[e])return t=B.env.translation_bp_warning_booking_incomplete,_r_(!1);_r_()}),_r_(t)};n=r(),e.prototype.watch=function(){return _i_("3bb:af7e6432"),$(window).bind("beforeunload",t),_r_(!0)},e.prototype.unwatch=function(){return _i_("3bb:edee6509"),$(window).unbind("beforeunload",t),_r_(!0)};var _=new e;return i.bind("submit",_.unwatch),B.eventEmitter.bind("modal:open",_.unwatch),B.eventEmitter.bind("modal:close",_.watch),_r_(_)}),B.define("bp/change-dates-lightbox",function(e,t,i){_i_("3bb:84e0d4d2");var n,a,r,_,s,o={wrong_checkout_date:B.jstmpl.translations("searchbox_error_msg_earlier_checkout")},l=e("lightbox"),c=!1;function d(e){_i_("3bb:ed2833f2"),e.preventDefault(),l.hide();var t={bOverflowVisible:!0,bAnimation:!1,hideCallBack:b,trapFocus:!0,modalLabeledById:"bp_change_dates_lightbox_title"};l.show(a,t),c=!0,_r_()}function b(){_i_("3bb:c048170c"),c=!1,_r_()}function p(e,t){if(_i_("3bb:5d40503d"),_i_("3bb:cc4a1b4a"),a.find(".bp_change_dates_error").remove(),_r_(),!_.isCheckinCheckoutValid())return function(e){_i_("3bb:ef49d862");var t=a.find(".bp_change_dates_error");t.length||(t=$("<p />",{class:"bp_change_dates_error"}),$(".bp_change_dates_submit").prepend(t));t.html(e),_r_()}(o.wrong_checkout_date),e.preventDefault(),_r_(!0);u("checkin",_.getCheckinSelector().getFullDate().string),u("checkout",_.getCheckoutSelector().getFullDate().string),u("interval",_.getInterval()),u("stage",parseInt(s.getStage(),10)-1),_r_()}function u(e,t){_i_("3bb:96b24113");var i=$("<input type='hidden' />");return i.attr("name",e),i.val(t),_r_(r.prepend(i))}i.exports={isOpen:function(){return _i_("3bb:08907023"),_r_(c)},getCheckinCheckoutSelector:function(){return _i_("3bb:295fdd9f"),_r_(_)},init:function(){_i_("3bb:069d3b0a"),$(".bp_change_dates_link").bind("click touchstart",function(e){_i_("3bb:4d506551"),e.preventDefault(),_r_()}),B.when({events:"click .bp_change_dates_link"}).load({js:"async_bp_change_dates_js",css:"async_bp_change_dates_css"}).run(function(){if(_i_("3bb:5b1d6ad2"),n=$(".bp_change_dates_link"),0===(a=$(".bp_change_dates_lightbox")).length)return _r_();r=a.find("form");if(n.bind("click touchstart",d),B.env.b_is_tablet)return _r_();r.bind("submit",p),_=r.component("checkin-checkout-selector"),s=B.bp.Main.getModel(),n.click(),_r_()}),_r_()}},_r_()}),function(e,t){_i_("3bb:48aa7883"),e("ga-tracker-base",function(e,t){_i_("3bb:7c495c2c"),t.trackTiming=function(e,t,i,n){if(_i_("3bb:4f31b963"),!window.ga)return _r_();if(void 0===e)return _r_();if(!t||"string"!=typeof t)return _r_();if("string"==typeof i&&i&&(i=+i),isNaN(i)||!isFinite(i))return _r_();if((!n||"string"!=typeof n)&&void 0!==n)return _r_();window.ga("send",{hitType:"timing",timingCategory:e,timingVar:t,timingValue:i,timingLabel:n}),_r_()},t.trackEvent=function(e,t,i,n,a){_i_("3bb:10645770"),void 0===a&&(a=1),void 0!==e&&("undefined"!=typeof _gaq&&_gaq.push(["_trackEvent",e,t,i,n,!0]),window.ga&&window.ga("send",{hitType:"event",eventCategory:e,eventAction:t,eventLabel:i,eventValue:n,nonInteraction:a})),_r_()},t.trackPageview=function(e,t){_i_("3bb:0b8e2536"),void 0!==t&&("undefined"!=typeof _gaq&&_gaq.push(["_trackPageview",t]),window.ga&&window.ga("send","pageview",t)),_r_()},t.ecommerceAddPromo=function(e,t,i,n){_i_("3bb:b11d6d43"),window.ga&&window.ga("ec:addPromo",{id:e,name:t,creative:i,position:n}),_r_()},t.ecommerceSetAction=function(e){_i_("3bb:cad269c2"),window.ga&&window.ga("ec:setAction",e),_r_()},_r_()}),B.define("utils/uuid4",[],function(){return _i_("3bb:8fea0e4e"),_r_(function(){_i_("3bb:ee22a2af");var i=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){_i_("3bb:8aa95324");var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),_r_(("x"==e?t:3&t|8).toString(16))});return _r_(e)})}),B.define("dp-tracker",function(e,t){_i_("3bb:5a95ce92");var i=B.require("utils/uuid4"),a=B.require("server-data"),_="/postbooking_track_data",s=i(),o=function(){_i_("3bb:cd6f024f");var n=navigator.sendBeacon&&"function"==typeof navigator.sendBeacon;return _r_(function(e,t){_i_("3bb:ae77f2b5");var i=JSON.stringify(t);n?navigator.sendBeacon(e+"?bhc_csrf_token="+a.b_csrf_token,i):function(e,t){_i_("3bb:e5afafbd");var i=new XMLHttpRequest;i.open("POST",e),i.setRequestHeader("X-Booking-CSRF",a.b_csrf_token),i.send(t),_r_(i)}(e,i),_r_()})}();t.setDimension=function(e){var t,i;_i_("3bb:69cb6b13"),t=e,i=s,_i_("3bb:38216e8c"),t.created_timestamp=Date.now(),t.page_referrer=document.referrer,t.hres_id=a.b_pb_booking_number||"",o(_,{event_name:"Dimension",event_data:t,dimension_group:[i]}),_r_(),_r_()},t.track=function(e,t,i,n,a){_i_("3bb:ce033cfd");var r={hitType:e};i&&(r.eventAction=i),t&&(r.eventCategory=t),n&&(r.eventLabel=n),a&&(r.eventValue=a),o(_,{event_name:"Hit",event_data:r,dimension_group:[s]}),_r_()},_r_()}),e("ga-tracker",function(e,t){_i_("3bb:ca42e883");var i=e("promise"),n=e("dp-tracker"),a=e("ga-tracker-base"),r=window.__ga__tracker_initialized__=new i(function(e,t){_i_("3bb:1e2182fe"),window.booking=window.booking||{},window.__ga_tracker_set_page_as_tracked__=e,_r_()});t.errorTracker="Error",t.clickTracker="Click",t.changeTracker="Change",t.hoverTracker="Hover",t.mapTracker="Map",t.pageviewTracker="Pageview",t.viewTracker="View",t.cityTracker="City",t.groupTracker="Group",t.cardTracker="Credit Card",t.comparisonTracker="Hotel Comparison",t.userProfileTracker="User profile",t.bookProcessTracker="Book process",t.bookingProcessTracker="Booking Process",t.hotelPageTracker="Hotel Page",t.reviewSearchTracker="Review search",t.BBToolTracker="Business Bookers Tool",t.SabreTracker="Sabre Red",t.TripPlannerTracker="Trip Planner",t.growlTracker="Growl",t.WebMessagingTracker="Web Messaging",t.SearchResultsTracker="Search Results",t.SearchResultsCardClickEventsTracker="Search Results Card Click Event",t.SearchResultsCardHoverEventsTracker="Search Results Card Hover Event",t.SearchResultsFilterTracker="Filter",t.SearchResultsFilterMapTracker="Filter - Map",t.articlesTracker="Articles",t.DSFTracker="DSF",t.ugcdTracker="UGC Review Page",t.ugccDestinationTracker="Destination UGC",t.ugccPropertyTracker="Property UGC",t.assistantTracker="Messaging V2",t.referralAdvocateTracker="Referral - Advocate",t.referralPartnerAdvocateTracker="Referral Partner - Advocate",t.referralFriendTracker="Referral - Friend",t.webViralityTracker="Web Virality",t.Rewards="Rewards",t.SearchBoxTracker="Searchbox",t.travelGuide="TravelGuide",t.paymentForm="Checkout Form",t.communityTracker="Communities",t.unitPageTracker="property",t.incentivesTracker="Reward",t.landingPagesTracker="Landing Pages",t.superSaverTracker="SuperSaver",t.TIMING={},t.TIMING.PERFORMANCE="Browser Performance",t.trackEvent=function(){_i_("3bb:1acf490f");var e=arguments[5];if(e&&Array.isArray(e)&&-1<e.indexOf("dp")){var t=Array.prototype.slice.call(arguments);t.splice(0,0,"event"),n.track.apply(n,t)}return _r_(a.trackEvent.apply(this,arguments))},t.ecommerceAddPromo=function(){return _i_("3bb:fb643b71"),_r_(a.ecommerceAddPromo.apply(this,arguments))},t.ecommerceSetAction=function(){return _i_("3bb:094a8cc6"),_r_(a.ecommerceSetAction.apply(this,arguments))},t.trackEventAfterPageview=function(){_i_("3bb:2405f110");var e=arguments;r.then(function(){_i_("3bb:1664453a"),a.trackEvent.apply(null,e),_r_()}),_r_()},t.trackTiming=function(){_i_("3bb:6a3bb694");var e=arguments;r.then(function(){_i_("3bb:92ec20e6"),a.trackTiming.apply(null,e),_r_()}),_r_()},t.trackPageview=a.trackPageview,t.pageviewIsTracked=function(){return _i_("3bb:1f0b3c6d"),_r_(r)},_r_()}),_r_()}(B.define,B.require),B.define("bp/ga-tracker/actions",function(e,t,i){_i_("3bb:cdf0092b"),i.exports={VALIDATION_ERRORS:"Validation Errors",INLINE_VALIDATION_ERRORS:"Inline Validation Errors",PRICE_DETAILS_BLOCK:"Price Details Block",HOTEL_DETAILS_BLOCK:"Hotel Details Block",SPECIAL_REQUESTS_BLOCK:"Special Requests Block",PERSONAL_DETAILS_BLOCK:"Personal Details Block",ETA_BLOCK:"ETA Block",ETA_BLOCK_IN:"ETA Block - In",ETA_BLOCK_OUT:"ETA Block - Out",ROOM_DETAILS_BLOCK:"Room Details Block",ADDRESS_BLOCK:"Address Block",PAYMENT_BLOCK:"Payment Block",SUBMISSION_BLOCK:"Submission Block",IDLE_TIME:"Idle Time",RLU:"Retain Leaving Users Modal",FORM_COMPLETION:"Form Completion",CONTEXTUAL_SURVEY:"Contextual survey"},_r_()}),B.define("bp/ga-tracker/events",function(e,t,i){_i_("3bb:288dc1dd");var n=e("bp/ga-tracker/actions"),a={};a[n.VALIDATION_ERRORS]=e("bp/ga-tracker/events/validation-errors"),a[n.INLINE_VALIDATION_ERRORS]=e("bp/ga-tracker/events/inline-validation-errors"),a[n.HOTEL_DETAILS_BLOCK]=e("bp/ga-tracker/events/hotel-details-block"),a[n.ROOM_DETAILS_BLOCK]=e("bp/ga-tracker/events/room-details-block"),a[n.ETA_BLOCK]=e("bp/ga-tracker/events/eta-block"),a[n.ETA_BLOCK_IN]=e("bp/ga-tracker/events/eta-block-in"),a[n.ETA_BLOCK_OUT]=e("bp/ga-tracker/events/eta-block-out"),a[n.IDLE_TIME]=e("bp/ga-tracker/events/idle-time"),a[n.RLU]=e("bp/ga-tracker/events/rlu"),a[n.SUBMISSION_BLOCK]=e("bp/ga-tracker/events/submission-block"),a[n.FORM_COMPLETION]=e("bp/ga-tracker/events/form-completion"),a[n.CONTEXTUAL_SURVEY]=e("bp/ga-tracker/events/contextual-survey"),i.exports=a,_r_()}),B.define("bp/ga-tracker/events/validation-errors",function(e,t,i){_i_("3bb:67635e2a"),i.exports=[{label:"BE - Personal Details - Title",trigger:"presence .js-bp-ga__validation-personal__title"},{label:"BE - Personal Details - Last Name",trigger:"presence .js-bp-ga__validation-personal__lastname"},{label:"BE - Personal Details - Last Name",trigger:"presence .js-bp-ga__validation-personal__firstname"},{label:"BE - Personal Details - Email",trigger:"presence .js-bp-ga__validation-personal__email"},{label:"BE - Personal Details - Email Confirm",trigger:"presence .js-bp-ga__validation-personal__email-confirm"},{label:"BE - Personal Details - Password",trigger:"presence .js-bp-ga__validation-personal__password"},{label:"BE - Personal Details - Checkin ETA",trigger:"presence .js-bp-ga__validation-personal__checkin_eta"},{label:"BE - Address Details - Address",trigger:"presence .js-bp-ga__validation-address__address"},{label:"BE - Address Details - City",trigger:"presence .js-bp-ga__validation-address__city"},{label:"BE - Address Details - ZIP",trigger:"presence .js-bp-ga__validation-address__zip"},{label:"BE - Address Details - Country",trigger:"presence .js-bp-ga__validation-address__country"},{label:"BE - Address Details - Phone",trigger:"presence .js-bp-ga__validation-address__phone"},{label:"BE - Payment Billing Address - Street",trigger:"presence .js-bp-ga__validation-billing-address__street"},{label:"BE - Payment Billing Address - House number or name",trigger:"presence .js-bp-ga__validation-billing-address__house_number_or_name"},{label:"BE - Payment Billing Address - City",trigger:"presence .js-bp-ga__validation-billing-address__city"},{label:"BE - Payment Billing Address - Postal Code",trigger:"presence .js-bp-ga__validation-billing-address__postal_code"},{label:"BE - Payment Billing Address - State/Province",trigger:"presence .js-bp-ga__validation-billing-address__state_or_province"},{label:"BE - Payment Billing Address - Country",trigger:"presence .js-bp-ga__validation-billing-address__country"},{label:"BE - Payment Details - CC Type",trigger:"presence .js-bp-ga__validation-payment__cc-type"},{label:"BE - Payment Details - CC Number",trigger:"presence .js-bp-ga__validation-payment__cc-number"},{label:"BE - Payment Details - CC Name",trigger:"presence .js-bp-ga__validation-payment__cc-name"},{label:"BE - Payment Details - CC Date",trigger:"presence .js-bp-ga__validation-payment__cc-date"},{label:"BE - Payment Details - CC Terms",trigger:"presence .js-bp-ga__validation-payment__cc-terms"},{label:"BE - Payment Details - CC CVC",trigger:"presence .js-bp-ga__validation-payment__cc-cvc"},{label:"BE - Payment Details - CC Issue Number",trigger:"presence .js-bp-ga__validation-payment__cc-issue-number"},{label:"BE - Payment Details - Installment Count",trigger:"presence .js-bp-ga__validation-payment__installment_count"},{label:"BE - Citizenship",trigger:"presence .js-bp-ga__validation-citizenship"},{label:"BE - Captcha",trigger:"presence .js-bp-ga__validation-captcha"}],_r_()}),B.define("bp/ga-tracker/events/hotel-details-block",function(e,t,i){_i_("3bb:ef3b85c1"),i.exports=[{label:"Property Photo - Hover",trigger:"hover .js-property-details__photo"},{label:"Hotel Name - Click",trigger:"click .js-property-details__name"},{label:"Hotel Address - Hover",trigger:"hover .js-property-details__address-text"},{label:"Hotel Address - Click",trigger:"click .js-property-details__address-text"},{label:"Hotel parking - Hover",trigger:"hover .js-property-details__container .fe_bp_parking_badge"}],_r_()}),B.define("bp/ga-tracker/events/room-details-block",function(e,t,i){_i_("3bb:f42bfd36"),i.exports=[{label:"Guests Number - Change",trigger:"change .js-unit__container .bp_bs2_guest_dropdown"}],_r_()}),B.define("bp/ga-tracker/events/eta-block",function(e,t,i){_i_("3bb:c822c4b7");var n=e("bp/env"),a=parseInt(n.get("checkinTimeFrom"),10),r=parseInt(n.get("checkinTimeUntil"),10),_=parseInt(n.get("checkinEtaHour"),10),s=_+parseInt(n.get("etaIntervalSize"),10);_<a&&a<s?s=a:a<_&&_<r&&r<s&&(s=r);var o=function(e){if(_i_("3bb:0ad57251"),24<=e)return _r_(o(e-24));if(e<10)return _r_("0"+e);return _r_(""+e)};i.exports=[{label:"Option change",trigger:'change [name="checkin_eta_hour"]'},{label:"I don't know",trigger:3===B.env.b_stage&&-1===_},{label:o(_)+":00 - "+o(s)+":00"+(24<=_?" (next day)":""),trigger:3===B.env.b_stage&&0<=_&&_<=25}],_r_()}),B.define("bp/ga-tracker/events/eta-block-in",function(e,t,i){_i_("3bb:887ca53c");var n=e("bp/env"),a=parseInt(n.get("checkinTimeFrom"),10),r=parseInt(n.get("checkinTimeUntil"),10),_=0==r?24:r,s=parseInt(n.get("checkinEtaHour"),10),o=s+parseInt(n.get("etaIntervalSize"),10),l=1==n.get("has24hrFrontdesk")||isNaN(r);s<a&&a<o?o=a:a<s&&s<r&&r<o&&(o=r);var c=function(e){if(_i_("3bb:ec4ac8ef"),e<10)return _r_("0"+e);return _r_(""+e)};i.exports=[{label:c(s)+"00-"+c(o)+"00|"+c(a)+"00-"+(l?"9999":c(r)+"00"),trigger:3===B.env.b_stage&&-1<s&&a<=s&&(l||o<=_)}],_r_()}),B.define("bp/ga-tracker/events/eta-block-out",function(e,t,i){_i_("3bb:c7aab76b");var n=e("bp/env"),a=parseInt(n.get("checkinTimeFrom"),10),r=parseInt(n.get("checkinTimeUntil"),10),_=0==r?24:r,s=parseInt(n.get("checkinEtaHour"),10),o=s+parseInt(n.get("etaIntervalSize"),10),l=1==n.get("has24hrFrontdesk")||isNaN(r);s<a&&a<o?o=a:a<s&&s<r&&r<o&&(o=r);var c=function(e){if(_i_("3bb:ec4ac8ef1"),e<10)return _r_("0"+e);return _r_(""+e)};i.exports=[{label:c(s)+"00-"+c(o)+"00|"+c(a)+"00-"+(l?"9999":c(r)+"00"),trigger:3===B.env.b_stage&&-1<s&&(s<a||!l&&_<o)}],_r_()}),B.define("bp/ga-tracker/events/idle-time",function(e,t,i){_i_("3bb:4878305f");var n=B.env.b_stage;if("tdot"===B.env.b_site_type)return i.exports=[],_r_([]);i.exports=[5e3,1e4,15e3,2e4,25e3,3e4,35e3,4e4,45e3,5e4,55e3,6e4,75e3,9e4,105e3,12e4,15e4,18e4,21e4,24e4,3e5,36e4,42e4,48e4,54e4,6e5].map(function(e){return _i_("3bb:772a0e34"),_r_({label:"BS"+n+": "+e+"ms",trigger:"event idle:"+e})}),_r_()}),B.define("bp/ga-tracker/events/rlu",function(e,t,i){_i_("3bb:7660404e"),i.exports=[{label:"Close",trigger:"event leaving_users_keeper:close"}],_r_()}),B.define("bp/ga-tracker/events/submission-block",function(e,t,i){_i_("3bb:b5da8808"),i.exports=[{label:"Check Your Booking - Click",trigger:"click .js-booking-overview__trigger"}],_r_()}),B.define("bp/ga-tracker/events/form-completion",function(e,t,i){_i_("3bb:24d741ed"),i.exports=[{label:"Form - submit (temp)",trigger:"submit #bookForm"},{label:"Title - change",trigger:"change .bp_form__field--title .bp_form__field__input"},{label:"First name - input",trigger:"input .bp_form__field--firstname .bp_form__field__input"},{label:"Last name - input",trigger:"input .bp_form__field--lastname .bp_form__field__input"},{label:"Email - input",trigger:"input .bp_form__field--email .bp_form__field__input"},{label:"Email confirmation - input",trigger:"input .bp_form__field--email_confirm .bp_form__field__input"},{label:"Password - input",trigger:"input #optional_password"},{label:"Guest name - input",trigger:"input .guest-name-input"},{label:"Guest email - input",trigger:"input .guest-email-input"},{label:"Addon - change",trigger:"change .uf_checkbox input"},{label:"Special requests remarks - input",trigger:"input #remarks"},{label:"ETA - change",trigger:"change .eta_holder select"},{label:"Address - input",trigger:"input .bp_form__field--address .bp_form__field__input"},{label:"City - input",trigger:"input .bp_form__field--city .bp_form__field__input"},{label:"ZIP - input",trigger:"input .bp_form__field--zip .bp_form__field__input"},{label:"Country - change",trigger:"change .bp_form__field--country .bp_form__field__input"},{label:"Phone - input",trigger:"input .bp_form__field--phone .bp_form__field__input"},{label:"CC number - input",trigger:"input #cc_number"},{label:"CC type - change",trigger:"change #cc_type"},{label:"CC month - change",trigger:"change #cc_month"},{label:"CC year - change",trigger:"change #ccYear"},{label:"CC CVC - input",trigger:"input #cc_cvc"},{label:"CC name - input",trigger:"input #cc_name"},{label:"Addons fake - click - Resort Credit",trigger:"click .resort_credit_addon"},{label:"Addons fake - click - Guides",trigger:"click .guides_addon"},{label:"Addons fake - click - My Booking",trigger:"click .my_booking_addon"},{label:"Addons fake - click - Meal plan",trigger:"click .meal_plan_addon"},{label:"Addons - remove - Bike rentals",trigger:"change .js-addon--free-bike-rental input:checked"},{label:"Addons - add - Bike rentals",trigger:"change .js-addon--free-bike-rental input:not(:checked)"},{label:"Cross sell - remove - Taxi",trigger:"change input#bbse_taxi:checked"},{label:"Cross sell - add - Taxi",trigger:"change input#bbse_taxi:not(:checked)"},{label:"Cross sell - remove - Car rental",trigger:'change input[name="interested_car_rentals"]:checked'},{label:"Cross sell - add - Car rental",trigger:'change input[name="interested_car_rentals"]:not(:checked)'},{label:"Cross sell - remove - Uber",trigger:"change input#uber_travel_pass__input:checked"},{label:"Cross sell - add - Uber",trigger:"change input#uber_travel_pass__input:not(:checked)"},{label:"Complete Booking",trigger:"click .bp-overview-buttons-submit"}],_r_()}),B.define("bp/ga-tracker/events/contextual-survey",function(e,t,i){_i_("3bb:5c1d8b8b"),i.exports=[{label:"Are you missing any information needed to make this booking? - Yes",trigger:'click .bp-feedback-loop span[data-model="missing_info"]'},{label:"Are you missing any information needed to make this booking? - No",trigger:'click .bp-feedback-loop span[data-model="not_missing_info"]'}],_r_()}),B.define("bp/ga-tracker/events/inline-validation-errors",function(e,t,i){_i_("3bb:235a6cc4"),i.exports=[{label:"FE - Personal Details - Title",trigger:"event inline_validation_error_title"},{label:"FE - Personal Details - Last Name",trigger:"event inline_validation_error_lastname"},{label:"FE - Personal Details - First Name",trigger:"event inline_validation_error_firstname"},{label:"FE - Personal Details - Email",trigger:"event inline_validation_error_email"},{label:"FE - Personal Details - Email Confirm",trigger:"event inline_validation_error_email_confirm"},{label:"FE - Personal Details - Password",trigger:"event inline_validation_error_password"},{label:"FE - Address Details - Address",trigger:"event inline_validation_error_address1"},{label:"FE - Address Details - City",trigger:"event inline_validation_error_city"},{label:"FE - Address Details - ZIP",trigger:"event inline_validation_error_zip"},{label:"FE - Address Details - Country",trigger:"event inline_validation_error_cc1"},{label:"FE - Address Details - Phone",trigger:"event inline_validation_error_phone"},{label:"FE - Payment Details - CC Type",trigger:"event inline_validation_error_cc_type"},{label:"FE - Payment Details - CC Number",trigger:"event inline_validation_error_cc_number"},{label:"FE - Payment Details - CC Name",trigger:"event inline_validation_error_cc_name"},{label:"FE - Payment Details - CC Month",trigger:"event inline_validation_error_cc_month"},{label:"FE - Payment Details - CC Year",trigger:"event inline_validation_error_cc_year"},{label:"FE - Payment Details - CC CVC",trigger:"event inline_validation_error_cc_cvc"}],_r_()}),B.define("bp/dispatcher",function(e,t,i){_i_("3bb:1ad97704");var n=e("flux/dispatcher");i.exports=new n,_r_()}),B.define("bp/dom-setup",function(e,t,i){_i_("3bb:4447f5ea"),$(document.documentElement).removeClass("no-js").addClass("hasJS"),_r_()}),B.define("bp/store",function(e,t,i){_i_("3bb:e1569095");var n=new(e("reducer-store"))(function(e,t){switch(_i_("3bb:f768442c"),e=e||{},t.type){case"INIT":return _r_(t.payload);default:return _r_({main_form:function(e,t){switch(_i_("3bb:dcf670c1"),e=e||{},t.type){case"UPDATE_MAIN_FORM":var i=Object.assign({},e);return i[t.payload.key]=t.payload.value,_r_(i);default:return _r_(e)}_r_()}(e.main_form,t),validation:(i=e.validation,n=t,_i_("3bb:809c8d40"),_r_({fields:function(e,t){switch(_i_("3bb:cfd35dbe"),e=e||[],t.type){case"UPDATE_VALIDATION_FIELDS":return _r_(Object.assign({},e,t.payload.fields));default:return _r_(e)}_r_()}((i=i||{fields:[],valid:!1}).fields,n),valid:i.valid})),business_address:function(e,t){switch(_i_("3bb:8ed4417f"),e=e||{},t.type){case"UPDATE_BUSINESS_ADDRESS":return _r_(Object.assign({},e,t.payload));default:return _r_(e)}_r_()}(e.business_address,t),personal_address:function(e,t){switch(_i_("3bb:7a22bdc6"),e=e||{},t.type){case"UPDATE_PERSONAL_ADDRESS":return _r_(Object.assign({},e,t.payload));default:return _r_(e)}_r_()}(e.personal_address,t),billing_address:function(e,t){switch(_i_("3bb:6a4aa8a0"),e=e||{},t.type){case"UPDATE_BILLING_ADDRESS":return _r_(Object.assign({},e,t.payload));default:return _r_(e)}_r_()}(e.billing_address,t),selected_bbtool_billing_address:function(e,t){switch(_i_("3bb:f4cd30ce"),e=e||"",t.type){case"CHANGE_BBTOOL_BILLING_ADDRESS":return _r_(t.payload);default:return _r_(e)}_r_()}(e.selected_bbtool_billing_address,t),rooms:function(e,t){switch(_i_("3bb:1569d76b"),e=e||[],t.type){case"UPDATE_ROOM_GUESTS_QUANTITY":return _r_(e.map(function(e){if(_i_("3bb:5afee532"),parseInt(e.sequencial_id,10)===parseInt(t.payload.sequencialId,10))return _r_(Object.assign({},e,{selected_persons:t.payload.value}));return _r_(e)}));default:return _r_(e)}_r_()}(e.rooms,t),rooms_guests_total:function(e,n){_i_("3bb:daa2bcee");var t=e&&e.rooms&&e.rooms_guests_total||0;switch(n.type){case"UPDATE_ROOM_GUESTS_QUANTITY":return Array.isArray(e.rooms)?_r_(e.rooms.reduce(function(e,t){_i_("3bb:e6f1e8ba");var i=parseInt(t.sequencial_id,10)===parseInt(n.payload.sequencialId,10)?n.payload.value:t.selected_persons;return _r_(e+parseInt(i,10))},0)):_r_([]);default:return _r_(t)}_r_()}(e,t),bb_loyalty_redeem_credit_amount_formatted:function(e,t){switch(_i_("3bb:c0388d22"),e=e||"",t.type){case"UPDATE_REDEMPTION_AMOUNT":return _r_(t.payload.value);default:return _r_(e)}_r_()}(e.bb_loyalty_redeem_credit_amount_formatted,t),payment_cc_details:function(e,t){switch(_i_("3bb:7658bfe1"),e=e||{},t.type){case"UPDATE_PAYMENT_CC_DETAILS":var i=Object.assign({},e);return i[t.payload.key]=t.payload.value,i.cc_cvc_hint=null,_r_(i);case"UPDATE_STORED_CC_DETAILS":return _r_(Object.assign({},e,t.payload));case"UPDATE_CVC_HINT":var i=Object.assign({},e,{cc_cvc_hint:t.payload?t.payload.type:""});return _r_(i);default:return _r_(e)}_r_()}(e.payment_cc_details,t),payment_timing:function(e,t){switch(_i_("3bb:cff4197b"),e=e||{},t.type){case"UPDATE_PAYMENT_TIMING":return _r_(Object.assign({},e,{type:t.payload.type}));default:return _r_(e)}_r_()}(e.payment_timing,t),payment_method:function(e,t){switch(_i_("3bb:7af8c92d"),e=e||{},t.type){case"UPDATE_PAYMENT_METHOD":return _r_(Object.assign({},e,{name:t.payload.name,details:t.payload.details}));default:return _r_(e)}_r_()}(e.payment_method,t),wallet_details:function(e,t){switch(_i_("3bb:b6906107"),e=e||{},t.type){case"UPDATE_WALLET_USED":return _r_(Object.assign({},e,{walletUsed:t.payload.walletUsed}));case"UPDATE_WALLET_CREDITS_USED":return _r_(Object.assign({},e,{creditsUsed:t.payload.creditsUsed}));default:return _r_(e)}_r_()}(e.wallet_details,t),sca:function(e,t){switch(_i_("3bb:403e5879"),e=e||{},t.type){case"UPDATE_IS_SCA":case"UPDATE_SCA_CHALLENGE":case"UPDATE_SCA_RESULT":case"UPDATE_IS_IN_PROGRESS":return _r_(Object.assign({},e,t.payload));default:return _r_(e)}_r_()}(e.sca,t)})}var i,n;_r_()});i.exports=n,_r_()}),B.define("booking-process/validation/validators",function(e,t,i){_i_("3bb:cce99e34");var n=e("data-validator"),a=e("server-data"),r=!!a.b_site_type&&"mdot"==a.b_site_type,_={empty:function(e){return _i_("3bb:46de2d30"),_r_(n.validate("required",e))},clientside_invalid_email:function(e){return _i_("3bb:8aadb4c7"),_r_(""!==e.trim()&&n.validate("email",e))},positive_number:function(e){return _i_("3bb:20b6a07e"),_r_(n.validate("positive_number",e))},phone:function(e){_i_("3bb:6a7da422");var t=e.match(/[\d]/gi);if(!t.length||t.length<7)return _r_(!1);return _r_(n.validate("regex",e,{regex:/^\+?[\d-\s\(\)]$/gi}))},intlphone:function(e){if(_i_("3bb:89eb227b"),r)return _r_(n.validate("intlphone",e));return _r_(n.validate("intlphone_relaxed",e))}};i.exports=_,_r_()}),B.define("booking-process/validation/errors",function(e,t,i){_i_("3bb:2cf479ce");var n=e("server-data"),a=!!n.b_site_type&&"mdot"==n.b_site_type,r=!!n.isThailandPassEnabled,_={firstname:{empty:"validate_tpv_firstname",invalid:"validate_tpv_name_invalid",invalid_numeric:"validate_tpv_name_invalid"},lastname:{empty:"validate_tpv_lastname",invalid:"validate_tpv_lastname_invalid",invalid_numeric:"validate_tpv_name_invalid"},email:{empty:"validate_tpv_email",invalid:"validate_tpv_email",clientside_invalid_email:"validate_tpv_email",invalid_chars:"validate_tpv_email_translated",invalid_compliant:"validate_tpv_email_correct",invalid_email_blocked_by_partner:"bh_pps_bp_blocked_unable_to_process",invalid_nbs:"validate_tpv_contact_cs",starts_with_www:"validate_tpv_email_start_www",might_be_wrong:a?"m_bs2_incorrect_email_domain_bottom":"validate_tpv_email_might_be_wrong",host_require_past_stay:"mdot_bh_pps_bp_blocked_requirements_previous_stay",vip_login_required:"bp_bs2_vip_email_validation_error"},email_confirm:{empty:"validate_tpv_email",clientside_invalid_email:"validate_tpv_email",different:"validate_tpv_email_confirm"},phone:{empty:"validate_tpv_phone_empty",invalid:"validate_tpv_phone_invalid",invalid_chars:"validate_tpv_phone_invalid",intlphone:"validate_tpv_phone_invalid"},address1:{empty:"validate_tpv_address",invalid:"validate_tpv_address_invalid"},city:{empty:"validate_tpv_city",invalid:"validate_tpv_city_invalid"},zip:{empty:"validate_tpv_zip",invalid:"validate_tpv_zip_invalid"},cc1:{empty:"zh-cn"==(!!n.b_lang_for_url&&n.b_lang_for_url)?"validate_tpv_cc1_empty":"china_legal_fix_country_region_error_header",unavailable:"validate_tpv_cc1_cant_book_from_your_country",invalid_country:"validate_tpv_cc1_invalid_country"},cc_number:{empty:"pay_bs3_validate_cc_number_empty",invalid:"pay_bs3_validate_cc_number_empty",invalid_testcc:"validate_tpv_cc_number",invalid_blacklisted:"validate_tpv_contact_cs",invalid_visa:"validate_tpv_cc_number_invalid_visa"},cc_type:{empty:n.b_alt_payment_available||n.b_alt_payments?"validate_tpv_cc_type_payment":"pay_bs3_validate_cc_type_empty",invalid:n.b_alt_payment_available||n.b_alt_payments?"validate_tpv_cc_type_payment":"pay_bs3_validate_cc_type_empty"},cc_name:{empty:"validate_tpv_cc_name_empty",invalid_not_latin:"validate_tpv_cc_name_invalid_latin"},cc_month:{empty:"validate_tpv_cc_month_dates_of_booking",invalid_during_stay:"validate_tpv_cc_month_dates_of_booking",invalid_at_booking:"validate_tpv_cc_month_dates_of_booking",invalid_expired:"validate_tpv_cc_month_expired"},cc_cvc:{empty:"pay_bs3_validate_tpv_cvc",invalid:"pay_bs3_validate_tpv_cvc",invalid_cvc_amex:"payin_cc_cvc_error_4_digits",invalid_cvc_non_amex:"payin_cc_cvc_error_3_digits"},dc_issue_number:{empty:"validate_tpv_dc_issue_number_maestro",invalid_maestro:"validate_tpv_dc_issue_number_maestro",invalid_start:"validate_tpv_dc_issue_number_start"},bb_loyalty_redeem_credit_amount_formatted:{positive_number:"bbt_loyalty_bp_error_no_amount"},bp_bdate:{empty:"bp_ofac_place_error",invalid:"bp_ofac_place_error"},bday:{empty:"bp_ofac_place_error"},bmonth:{empty:"bp_ofac_place_error"},byear:{empty:"bp_ofac_place_error"},reason_to_visit:{invalid:"validate_tpv_reason_to_visit"},guest_pii_name:{empty:r?"bp_thai_pass_guest_name_form_error":"loc_bp_cuba_guest_name_error",invalid:r?"bp_thai_pass_guest_name_form_error":"loc_bp_cuba_guest_name_error"},guest_pii_address:{empty:"loc_bp_cuba_guest_address_error",invalid:"loc_bp_cuba_guest_address_error"}};1==n.b_require_billing_address&&(_.billing_address_street={empty:"validate_tpv_billing_address_street",invalid:"validate_tpv_billing_address_street"},_.billing_address_house_number_or_name={empty:"validate_tpv_billing_address_house_number",invalid:"validate_tpv_billing_address_house_number"},_.billing_address_city={empty:"validate_tpv_billing_address_city",invalid:"validate_tpv_billing_address_city"},_.billing_address_state_or_province={empty:"validate_tpv_billing_address_state_or_province",invalid:"validate_tpv_billing_address_state_or_province"},_.billing_address_postal_code={empty:"validate_tpv_billing_address_postal_code",invalid:"validate_tpv_billing_address_postal_code"},_.billing_address_country={empty:"validate_tpv_billing_address_country",invalid:"validate_tpv_billing_address_country"}),i.exports=_,_r_()}),B.define("booking-process/validation/fields",function(e,t,i){_i_("3bb:9ed89baf");var n,a=e("server-data"),r=e("booking-process/validation/errors"),_=(!!a.b_site_type&&a.b_site_type,"guest_pii_name"),s="guest_pii_address",o={firstname:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.firstname)},lastname:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.lastname)},email:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["clientside_invalid_email"],messages:Object.assign({},r.email),conditionalFields:{email_confirm:"empty"}},email_confirm:{defaultOnServer:!0,isSimpleValidation:!1,isInvalidIfOtherFieldsInvalid:!0,fallbackToClient:!0,clientValidators:["clientside_invalid_email"],messages:Object.assign({},r.email_confirm),otherFields:["email"]},phone:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty","intlphone"],messages:Object.assign({},r.phone)},phone_number:{defaultOnServer:!0,fallbackToClient:!0,alternateField:"phone",clientValidators:["empty","intlphone"],messages:Object.assign({},r.phone)},address1:{defaultOnServer:!0,isSimpleValidation:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.address1)},city:{defaultOnServer:!0,isSimpleValidation:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.city)},zip:{defaultOnServer:!1,isSimpleValidation:!0,clientValidators:["empty"]},cc1:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.cc1)},cc_number:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.cc_number),conditionalFields:{cc_type:"empty"}},cc_type:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.cc_type),conditionalFields:{cc_number:"empty",cc_cvc:"empty"}},cc_name:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.cc_name)},cc_expiry_date:{defaultOnServer:!0,fallbackToClient:!1,alternateField:"cc_month",otherFields:["cc_year"],messages:Object.assign({},r.cc_month)},cc_month:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],otherFields:["cc_year"],messages:Object.assign({},r.cc_month)},cc_year:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],otherFields:["cc_month"],messages:Object.assign({},r.cc_month)},cc_cvc:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.cc_cvc),otherFields:["cc_type"]},bp_bday:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,alternateField:"birthday",clientValidators:["empty"],isRequired:!0,messages:Object.assign({},r.bday)},birthday:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],isRequired:!0,messages:Object.assign({},r.bday)},bday:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],isRequired:!0,messages:Object.assign({},r.bday),conditionalFields:{bmonth:"empty",byear:"empty"}},bmonth:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],isRequired:!0,messages:Object.assign({},r.bmonth),conditionalFields:{bday:"empty",byear:"empty"}},byear:{defaultOnServer:!0,isSimpleValidation:!1,fallbackToClient:!0,clientValidators:["empty"],isRequired:!0,messages:Object.assign({},r.byear),conditionalFields:{bday:"empty",bmonth:"empty"}}};if(a.isZipCodeRequired&&(o.zip=Object.assign({},o.zip,{defaultOnServer:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.zip)})),1==a.b_require_billing_address&&(o.billing_address_street={defaultOnServer:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.billing_address_street)},o.billing_address_house_number_or_name={defaultOnServer:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.billing_address_house_number_or_name)},o.billing_address_city={defaultOnServer:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.billing_address_city)},o.billing_address_postal_code={defaultOnServer:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.billing_address_postal_code)},o.billing_address_country={defaultOnServer:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.billing_address_country)},o.billing_address_state_or_province={defaultOnServer:!0,fallbackToClient:!0,clientValidators:["empty"],messages:Object.assign({},r.billing_address_state_or_province)}),a.requiredFields&&"object"==typeof a.requiredFields&&Object.keys(a.requiredFields).forEach(function(e,t,i){_i_("3bb:3725cf10"),1===a.requiredFields[e]&&o.hasOwnProperty(e)?("email"===e&&(o.email_confirm.isRequired=!0),o[e].isRequired=!0):"address"===e&&1===a.requiredFields[e]&&(o.address1.isRequired=!0),_r_()}),a.isGuestPIIRequired&&a.guestPIICount&&!isNaN(parseInt(a.guestPIICount)))for(var l=1;l<=a.guestPIICount;l++)n=s+"_"+l,o[_+"_"+l]=c(_,l),a.isGuestPIIAddressRequired&&(o[n]=c(s,l));function c(e,t){if(_i_("3bb:ee3683a9"),!e||"string"!=typeof e||"number"!=typeof t)return _r_();return _r_({defaultOnServer:!1,fallbackToClient:!0,clientValidators:["empty"],isRequired:!0,messages:Object.assign({},r[e])})}i.exports=o,_r_()}),B.define("booking-process/validation/validate",function(e,t,i){_i_("3bb:2530234e");var l=e("promise"),c=e("jquery"),n=e("et"),a=e("events"),d=e("server-data"),b=e("booking-process/validation/fields"),_=e("booking-process/validation/validators"),p="/book/validate",u=1e3,r={VALIDATE_FIELD:"VALIDATE_FIELD"};function s(_,i){_i_("3bb:0a0c2d7b");var s=_.fields;if(!s)throw new Error("[booking-process/validation/core]::validateOnServer: missing property `fields` in `validationData`");i=!!_.isInterstitialCheck||!1;var e,t,n=function(i){_i_("3bb:8c359cca");var n=[];if("object"==typeof i.results&&0===Object.keys(i.results.fields).length||"string"==typeof i.results&&"server_error"===i.results)return _r_(n);return Object.keys(i.results.fields).forEach(function(e){_i_("3bb:4efd08d8");var t=i.results.fields[e];"error"!==t.status&&"warning"!==t.status||!t.type||n.push(e),_r_()}),_r_(n)}(_),a=!!_.alwaysValidateOnServer||!1,o=s;return a||(e=s,t=n,_i_("3bb:c4e7507c"),o=_r_(e.filter(function(e){return _i_("3bb:f3d41d8b"),_r_(!!b[e.name]&&!b[e.name].isSimpleValidation&&-1===t.indexOf(e.name))}))),_r_(new l(function(r,e){if(_i_("3bb:7ea0204b"),!a&&(0===o.length||_.results&&!_.results.valid))return r(_),_r_();var t={fields:JSON.stringify(o),prevent_events:i};t.hotel_id=d.b_hotel_id,c.ajax({url:p,timeout:u,type:"POST",data:t,dataType:"json",success:function(e,t,i){_i_("3bb:9e2a4728");var n,a=(n=e.fields,_i_("3bb:5ddc1c50"),_r_(n.reduce(function(e,t){_i_("3bb:f69f741b");var i=t.name;return e[i]=Object.assign({},t),delete e[i].name,_r_(e)},{})));a.hasOwnProperty("email_confirm")&&a.hasOwnProperty("email")&&"valid"===a.email_confirm.status&&"warning"===a.email.status&&(a.email_confirm.status="warning"),r(Object.assign({},_,{results:{fields:Object.assign({},_.results.fields,a),valid:e.valid},fields:s})),_r_()},error:function(e,t,i){_i_("3bb:fa72c69d"),r(Object.assign({},_,{isServerError:!0})),_r_()}}),_r_()}))}function o(e){_i_("3bb:1e726364");var t=e.fields;if(!t)throw new Error("[booking-process/validation/core]::validateOnClient: missing property `fields` in `validationData`");var i,n,a=(i=t,_i_("3bb:67d465d2"),_r_(i.filter(function(e){return _i_("3bb:ac39d8a8"),_r_(!!b[e.name]&&(b[e.name].defaultOnServer&&b[e.name].fallbackToClient||!b[e.name].defaultOnServer))})));if(0===a.length)return _r_(e);return n=a.reduce(function(e,t){_i_("3bb:43a1d566");for(var i,n=b[t.name].clientValidators,a=Object.assign({},t,{status:"valid"}),r=0;r<n.length;r++){if("function"!=typeof(i=_[n[r]]))throw new Error("[booking-process/validation/core]::validateOnClient: validator "+n[r]+" is not a valid function");if(!i(t.value)){a.status="error",a.type=n[r],e.valid=!1;break}}return e.fields[t.name]=a,_r_(e)},{fields:{},valid:!0}),_r_(Object.assign({},e,{results:{fields:Object.assign({},e.results.fields,n.fields),valid:n.valid},fields:t}))}function h(i){if(_i_("3bb:41b67c5b"),"object"==typeof i.results&&0===Object.keys(i.results.fields).length||"string"==typeof i.results&&"server_error"===i.results)return _r_(i);return Object.keys(i.results.fields).forEach(function(e){_i_("3bb:236c20e0");var t=i.results.fields[e];return("error"===t.status||"warning"===t.status)&&t.type&&t.isRequired&&(d.b_stage&&2===Number(d.b_stage)?n.goal("bp_bs2_inline_validation_errors"):d.b_stage&&3===Number(d.b_stage)&&n.goal("bp_bs3_inline_validation_errors")),_r_(t)}),_r_(i)}function f(i){if(_i_("3bb:0eeba5ab"),"object"==typeof i.results&&0===Object.keys(i.results.fields).length||"string"==typeof i.results&&"server_error"===i.results)return _r_(i);return Object.keys(i.results.fields).forEach(function(e){_i_("3bb:5a438594");var t=i.results.fields[e];"error"!==t.status&&"warning"!==t.status||!t.type?"valid"===t.status&&a.trigger(r.VALIDATE_FIELD,{field:e,valid:!0,message:""}):a.trigger(r.VALIDATE_FIELD,{field:e,valid:!1,message:t.message}),_r_()}),_r_(i)}function m(i){if(_i_("3bb:82670ff6"),"object"==typeof i.results&&0===Object.keys(i.results.fields).length||"string"==typeof i.results&&"server_error"===i.results)return _r_(i);return Object.keys(i.results.fields).forEach(function(e){_i_("3bb:1b7b843c");var t=i.results.fields[e];return"error"!==t.status&&"warning"!==t.status||!t.type||(b[e].messages&&b[e].messages[t.type]?t.message=b[e].messages[t.type]:t.message=""),_r_(t)}),_r_(i)}i.exports={EVENTS:r,validate:function(e,n,a){_i_("3bb:b51613e1"),void 0===e&&console.warn("[booking-process/validation/core]::validateFields: Missing mandatory `fields` parameter");var r=function(e){_i_("3bb:2e97a8fd");var a=[];if(void 0===e)return _r_(a);return e.forEach(function(e,t,i){if(_i_("3bb:b6b30a7f"),!b[e.name])return console.warn("[booking-process/validation/core]: Validating field `"+e.name+"` with no validation data"),_r_();var n=Object.assign({},e,{isRequired:!!b[e.name].isRequired});a.push(n),_r_()}),_r_(a)}(e);return _r_(new l(function(e,t){var i;_i_("3bb:4103fcc5"),(i={results:{fields:{},valid:!0},fields:r,isInterstitialCheck:n||!1,alwaysValidateOnServer:a||!1},_i_("3bb:1b1a8820"),_r_(new l(function(e,t){_i_("3bb:2f13b697"),i&&"object"==typeof i||t({results:{fields:{},valid:!1}}),e(i),_r_()}))).then(o).then(s).then(m).then(h).then(f).then(e),_r_()}))},isConditionalFieldValid:function(e,t){_i_("3bb:9ecc54c6");var i,n=[],a=!0;n=Array.isArray(t)?t:[t.toString()];for(var r=0;r<n.length;r++){if("function"!=typeof(i=_[n[r]]))throw new Error("[booking-process/validation/core]::isConditionalFieldValid: validator "+n[r]+" is not a valid function");if(!i(e.value)){a=!1;break}}return _r_(a)}},_r_()}),B.define("bp/validatable-field",function(e,t,i){_i_("3bb:eba78bfe");var _="bui-has-error",s="bui-has-success",o="bui-form__helper",l="bui-form__error",n={},c=e("jstmpl").translations;n.shouldUpdateValidation=function(e,t){if(_i_("3bb:2b2d1974"),this.props&&this.props.name||console.warn("bp/validatable-field: component should have a `name` props"),!e||!e.validation||!e.validation.fields)return _r_();var i=e.validation.fields[this.props.name],n=t&&t.validation?t.validation.fields[this.props.name]:null;if(!i&&!n)return _r_(!1);if(i&&!n)return _r_(!0);if(i&&n&&i.value!==n.value)return _r_(!0);if(i&&n&&(i.status!==n.status||i.type!==n.type))return _r_(!0);return _r_(!1)},n.renderValidation=function(e,t){if(_i_("3bb:2a70cf54"),!this.shouldUpdateValidation(e,t))return _r_();var i=e.validation.fields[this.props.name],n="#form-field__helper--"+this.props.name,a=this.$el,r=this.$el.find(n);"error"!==i.status&&"warning"!==i.status||!i.isRequired?(i.isRequired||!i.isRequired&&""!==i.value)&&(this.$el.addClass("bp_form__field--no-msg").addClass("bp_form__field--valid").removeClass("bp_form__field--warning").removeClass("bp_form__field--error"),a.removeClass(_).addClass(s),this.$el.find("[data-bp-form-field-msg]").html(""),r.hasClass(l)&&r.html(""),r.addClass(o).removeClass(l)):(this.$el.removeClass("bp_form__field--no-msg").removeClass("bp_form__field--valid"),a.removeClass(s),"error"===i.status?this.$el.addClass("bp_form__field--error"):this.$el.addClass("bp_form__field--warning"),a.addClass(_),i.message&&""!==i.message&&(this.$el.find("[data-bp-form-field-msg]").html(c(i.message)),r.addClass(l).removeClass(o),r.html(c(i.message)))),_r_()},i.exports=n,_r_()}),B.define("bp/idleness-tracker",function(e,t,i){_i_("3bb:446e10cf");var n,a=e("events"),r=e("utils/throttled"),_=0;function s(){_i_("3bb:e67839d2");var t=new Date;clearInterval(n),n=setInterval(function(){_i_("3bb:015fa7b9");try{var e=new Date-t;_+5e3<e&&(_+=5e3,a.trigger("bp:idle:"+_)),6e5<=e&&o()}catch(e){booking.reportError(e,"Idleness tracker")}_r_()},150),_r_()}function o(){_i_("3bb:46dafbe1"),$(document.documentElement).off(".rlutimed"),$(window).off(".rlutimed"),clearInterval(n),_r_()}i.exports={init:function(){_i_("3bb:61645618"),$(document.documentElement).on("keydown.rlutimed",r(s,100)).on("mousemove.rlutimed",r(s,100)).on("click.rlutimed",r(s,100)),$(window).on("scroll.rlutimed",r(s,100)),s(),_r_()},stop:o},_r_()}),B.define("bp/circular-loader",function(e,t,i){_i_("3bb:a76fe341");var n=e("jstmpl"),a=!("undefined"==typeof SVGRect),r=!(!B||!B.env||"msie"!==B.env.b_browser),_=function(e){if(_i_("3bb:7db94e46"),!e.parentNode)throw Error("circular-loader: You should specify a parentNode");var t=e.baseClass||"circular_loader",i=e.totalClassSuffix||"__total",n=e.currentClassSuffix||"__current",a=e.noSvgClassSuffix||"--no_svg";this.baseClass=t,this.totalClass=t+i,this.currentClass=t+n,this.noSvgClass=t+a,this.isProgressAnimated="boolean"!=typeof e.isProgressAnimated||e.isProgressAnimated,this.isCircleAnimated="boolean"==typeof e.isCircleAnimated&&e.isCircleAnimated,this.progressAnimationDuration=e.progressAnimationDuration||1e3,this.parentNode=$(e.parentNode),this.currentPercentage=0,_r_()};_.prototype.render=function(){_i_("3bb:d60f8c88"),this.$baseElement=$(n("circular_loader").render({base_class:this.baseClass,total_class:this.totalClass,current_class:this.currentClass,no_svg_class:this.noSvgClass,is_circle_animated:this.isCircleAnimated,supports_svg:a})),this.$currentElement=this.$baseElement.find("."+this.currentClass),this.parentNode.append(this.$baseElement),a&&(this.path=this.$currentElement.find("path")[0],this.totalPathLength=this.path.getTotalLength(),this.path.style.strokeDashoffset=this.totalPathLength,this.path.style.strokeDasharray=[this.totalPathLength,this.totalPathLength].join(" ")),_r_()},_.prototype.destroy=function(){_i_("3bb:e613f8d0"),this.$baseElement&&(this.$baseElement.remove(),this.currentPercentage=0,this.$baseElement=this.path=this.totalPathLength=null),_r_()},_.prototype.setPercentage=function(e){_i_("3bb:927f7c70"),e=Math.min(parseInt(e,10),100),this.currentPercentage=e,a?this.isProgressAnimated?this._animateToPercentage(e):this._renderPercentageOnSvg(e):this._renderPercentageOnSprite(e),_r_()},_.prototype._animateToPercentage=function(e){_i_("3bb:c52833af"),$(this.path).animate({"stroke-dashoffset":this.totalPathLength-this.totalPathLength*(e/100)},{duration:this.progressAnimationDuration,easing:"easeOutQuint",step:r&&a?function(){_i_("3bb:1e1f88dc");var e=this.$currentElement[0];e.parentNode.insertBefore(e,e),_r_()}.bind(this):$.noop}),_r_()},_.prototype._renderPercentageOnSvg=function(e){_i_("3bb:3313f89c"),this.path.style.strokeDashoffset=this.totalPathLength-this.totalPathLength*(e/100),_r_()},_.prototype._renderPercentageOnSprite=function(e){_i_("3bb:0a22127b");var t=10*Math.round(e/10);this.$currentElement.removeClass().addClass(this.currentClass).addClass(this.currentClass+"--"+t),_r_()};var s={create:function(e){return _i_("3bb:8c32572a"),_r_(new _(e))}};i.exports=s,_r_()}),B.define("bp/inline-validation-errors-tracking",function(e,t,i){_i_("3bb:d903fda8");var n=e("bp/store"),a=e("bp/emitter");i.exports=n.subscribe(function(e,t,i){_i_("3bb:167b9ea2"),i&&i.type&&"UPDATE_VALIDATION_FIELDS"===i.type&&i.payload&&i.payload.fields&&(!1===i.payload.valid||"false"===i.payload.valid)&&Object.keys(i.payload.fields).forEach(function(e){_i_("3bb:569009b3"),a.trigger("inline_validation_error_"+e,i.payload.fields[e].type),_r_()}),_r_()}),_r_()}),B.define("component/bp/personal-details-form",function(e,t,i){_i_("3bb:24e0edf1");var n=e("component"),a={init:function(){_i_("3bb:a0bc2d0c"),new B.bp.bs2.TravelPurposeController,_r_()}};i.exports=n.extend(a),_r_()}),B.define("component/bp/personal-details-form/firstname",function(e,t,i){_i_("3bb:468d63fc");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:f56212ba"),this.props={},this.props.name="firstname",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed908"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/personal-details-form/lastname",function(e,t,i){_i_("3bb:3081cf4f");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:d641cde6"),this.props={},this.props.name="lastname",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed9081"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/personal-details-form/email",function(e,t,i){_i_("3bb:0e70d849");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=e("promise"),s=e("jquery"),o=e("events"),l=e("utils/sanitize");function c(e){if(_i_("3bb:f7808885"),e.key&&"Space"==e.key)return _r_(!1);if((e.which||e.keyCode)&&32==(e.which||e.keyCode))return _r_(!1);_r_()}var d=Object.assign({},a);d.init=function(){_i_("3bb:77524c0e"),this.props={},this.props.name="email",this.props.suggestionAccepted=!1,this.emailSuggestionEl=this.$el.find("[data-email-suggestion]"),this.$el.on("click",".bp_form__email_suggestion_accept",this.onEmailSuggestionClick.bind(this)),this.$emailConfirmation=s("#bookForm #email_confirm"),this.$el.find('input[name="email"]').on({keydown:c}),r.subscribe(this.render.bind(this)),_r_()},d.shouldUpdate=function(e,t){if(_i_("3bb:859e95b3"),!e||!e.main_form||void 0===e.main_form.email)return _r_(!1);if(!t)return _r_(!0);if(e.main_form.email!==t.main_form.email)return _r_(!0);return _r_(!1)},d.render=function(e,t){_i_("3bb:a320c0c8"),this.renderValidation(e,t),this.shouldUpdate(e,t)&&!this.props.suggestionAccepted&&this.fetchDomainSuggestion(e.main_form.email).then(this.renderDomainSuggestion.bind(this)),_r_()},d.fetchDomainSuggestion=function(e){_i_("3bb:6ef9f5d0");var t=e.split("@"),a=t.shift(),r=t.pop();return _r_(new _(function(i,e){if(_i_("3bb:47e33885"),!a||0===a.trim().length)return i(),_r_();if(!r||r.trim().length<2)return i(),_r_();var t={domain:r.trim()},n=s.ajax({url:"/domain_suggestion",type:"POST",data:t}).done(function(e){_i_("3bb:528c1cd2");var t=e.suggestions&&e.suggestions.length&&e.suggestions.shift().trim();t&&t!==r.trim()?i({user:a,domain:t}):i(),_r_()}).fail(function(){_i_("3bb:50c1cad7"),i(),_r_()});o.on("geniusEmailConfirmed",function(){_i_("3bb:2368f4e3"),n.abort(),i(),_r_()}),_r_()}))},d.renderDomainSuggestion=function(e){_i_("3bb:123ee32c");var t=[];e&&0!==e.user.length&&0!==e.domain.length?(t.push('<span class="bp_form__email_suggestion_accept">'),t.push([l(e.user).replace("@",""),e.domain].join("@")),t.push("</span>"),this.emailSuggestionEl.css("display","block").html(B.jstmpl.translations("bp_mailcheck_error",null,{bp_mailcheck_domain:t.join("")}))):this.emailSuggestionEl.html("").css("display","none"),_r_()},d.onEmailSuggestionClick=function(e){_i_("3bb:8a5212ce");var t=s(e.target).text();this.props.suggestionAccepted=!0,this.$el.find(".bp_form__field__input").val(t).trigger("change").trigger("blur"),this.emailSuggestionEl.css("display","none"),_r_()},i.exports=n.extend(d),_r_()}),B.define("component/bp/personal-details-form/email-confirm",function(e,t,i){_i_("3bb:e8e52527");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store");function _(e){if(_i_("3bb:f78088851"),e.key&&"Space"==e.key)return _r_(!1);if((e.which||e.keyCode)&&32==(e.which||e.keyCode))return _r_(!1);_r_()}var s=Object.assign({},a);s.init=function(){_i_("3bb:0de780ad"),this.props={},this.props.name="email_confirm",r.subscribe(this.render.bind(this)),this.$el.find('input[name="email_confirm"]').on({keydown:_}),_r_()},s.render=function(e,t){_i_("3bb:e43ed9082"),this.renderValidation(e,t),_r_()},i.exports=n.extend(s),_r_()}),B.define("component/bp/personal-details-form/phone",function(e,t,i){_i_("3bb:f39d4e63");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:41de14a9"),this.props={},this.props.name="phone",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed9083"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/personal-details-form/birthdate",function(e,t,i){_i_("3bb:720c9303");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:9535cdcc"),this.props={},this.props.name="bday",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed9084"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/guest-name-email-handler",function(e,t,i){"use strict";_i_("3bb:f45f18c1");var n=e("component"),a=e("server-data"),r=e("utils/debounce"),_="",s="",o="",l=!1,c=Boolean(a.isSurnameFirst),d=!0,b="bui-u-hidden";function p(e,t,i){_i_("3bb:54b5855b");return _r_((i?t+" "+e:e+" "+t).trim())}i.exports=n.extend({init:function(){_i_("3bb:f95e7e75"),this.getName=this.getName.bind(this),this.setGuestName=this.setGuestName.bind(this),this.getInputFields=this.getInputFields.bind(this),this.prefillGuestName=this.prefillGuestName.bind(this),this.addEventListeners=this.addEventListeners.bind(this),this.getPrefilledValues=this.getPrefilledValues.bind(this),this.handleGuestTypeChange=this.handleGuestTypeChange.bind(this),this.handleGuestDetailsBlur=this.handleGuestDetailsBlur.bind(this),this.handleGuestDetailsKeyUp=this.handleGuestDetailsKeyUp.bind(this),this.handleUserDetailsChange=this.handleUserDetailsChange.bind(this),this.getInputFields(),this.getPrefilledValues(),this.prefillGuestName(),this.addEventListeners(),_r_()},getInputFields:function(){_i_("3bb:5a1f25a9");var e=document.querySelector("#bookForm");if(!e)return _r_();this.firstNameEl=e.querySelector('input[name="firstname"]'),this.lastNameEl=e.querySelector('input[name="lastname"]'),this.guestFieldTypeEls=Array.from(e.querySelectorAll('input[name="notstayer"]')),this.guestNameEl=e.querySelector('input[name^="guest_name"]'),this.guestDetailsEls=Array.from(e.querySelectorAll(".js-unit__container:first-of-type .js-guest-details__email")),_r_()},getPrefilledValues:function(){if(_i_("3bb:faa3e69f"),!this.firstNameEl||!this.lastNameEl||!this.guestNameEl)return _r_();if(s=this.getName(this.firstNameEl.value),o=this.getName(this.lastNameEl.value),_=p(s,o,c),!this.guestFieldTypeEls||!this.guestFieldTypeEls.length)return _r_();this.guestFieldTypeEls.forEach(function(e){_i_("3bb:39068c5b"),1===Number(e.value)&&e.checked&&(d=!1),_r_()}),_r_()},prefillGuestName:function(){_i_("3bb:b7086a29");var e=d?_:this.getName(this.guestNameEl.value);this.setGuestName(e),_r_()},addEventListeners:function(){if(_i_("3bb:61c7c7bd"),!this.firstNameEl||!this.lastNameEl||!this.guestNameEl)return _r_();if(this.firstNameEl.addEventListener("change",this.handleUserDetailsChange),this.lastNameEl.addEventListener("change",this.handleUserDetailsChange),this.guestNameEl.addEventListener("blur",this.handleGuestDetailsBlur),this.guestNameEl.addEventListener("keyup",r(this.handleGuestDetailsKeyUp,250)),!this.guestFieldTypeEls||!this.guestFieldTypeEls.length)return _r_();this.guestFieldTypeEls.forEach(function(e){_i_("3bb:66cb2fcd"),e.addEventListener("change",this.handleGuestTypeChange),_r_()}.bind(this)),_r_()},handleUserDetailsChange:function(e){_i_("3bb:e48420a3"),e.target&&"firstname"===e.target.name?s=e.target.value.trim():o=e.target.value.trim(),_=p(s,o,c),!l&&d&&this.setGuestName(_),_r_()},handleGuestDetailsKeyUp:function(e){_i_("3bb:9c84f86f");var t=this.getName(e.target.value);t!==_&&""!==t?(l=!0,this.setBookerAsMainGuest(!1)):""===t&&(l=!1,this.setBookerAsMainGuest(!0)),_r_()},handleGuestDetailsBlur:function(e){_i_("3bb:9cbd50bb");var t=this.getName(e.target.value)||p(s,o,c);e.target.value=t,_r_()},handleGuestTypeChange:function(e){_i_("3bb:46e38b97"),e.target&&0===Number(e.target.value)&&e.target.checked?(d=!0,this.setGuestName(_)):e.target&&1===Number(e.target.value)&&e.target.checked&&(d=!1,this.setGuestName("")),this.toggleGuestDetails(d),_r_()},getName:function(e){return _i_("3bb:03b1928a"),_r_("string"==typeof e?e.trim():"")},setGuestName:function(e){_i_("3bb:52359e26"),this.guestNameEl.value=e,_r_()},setBookerAsMainGuest:function(e){_i_("3bb:32e1d073");var t=e?0:1;if(!this.guestFieldTypeEls||!this.guestFieldTypeEls.length)return _r_();this.guestFieldTypeEls.forEach(function(e){_i_("3bb:97cc24da"),Number(e.value)===t&&(e.checked=!0),_r_()}),this.toggleGuestDetails(e),_r_()},toggleGuestDetails:function(t){if(_i_("3bb:f98401eb"),!this.guestDetailsEls||!this.guestDetailsEls.length)return _r_();this.guestDetailsEls.forEach(function(e){_i_("3bb:4503d856"),t&&e.classList?e.classList.add(b):e.classList.remove(b),_r_()}),_r_()}}),_r_()}),B.define("component/bp/billing-details-form/address-details",function(e,t,i){_i_("3bb:4314a435");var n=e("component"),r=e("bp/store"),a=e("utils/throttled"),_={init:function(){_i_("3bb:48fbe65d"),this.$el.on({keyup:a(this._onFieldChange.bind(this),300),change:this._onFieldChange.bind(this)}),r.subscribe(this.render.bind(this)),_r_()},shouldUpdate:function(e,t){if(_i_("3bb:28a5302f"),!t)return _r_(!0);return _r_(e.main_form.bp_address_type!==t.main_form.bp_address_type)},render:function(e,t){if(_i_("3bb:c02e960e"),!this.shouldUpdate(e,t))return _r_();var i={};e.main_form.bp_address_type&&""!==e.main_form.bp_address_type&&"personal"!==e.main_form.bp_address_type?"business"===e.main_form.bp_address_type&&($("#label_company_name, #label_vat_number").show(),i=e.business_address):($("#label_company_name, #label_vat_number").hide(),i=e.personal_address),this.$el.find('[name="address1"]').val(i.address1),this.$el.find('[name="city"]').val(i.city),this.$el.find('[name="zip"]').val(i.zip),this.$el.find('[name="cc1"]').val(i.cc1),_r_()},_onFieldChange:function(e){_i_("3bb:7beb328a");var t=e.target.getAttribute("name"),i=e.target.value,n=r.getState(),a={};a[t]=i,n.main_form.bp_address_type&&"personal"!==n.main_form.bp_address_type?"business"===n.main_form.bp_address_type&&r.dispatch({type:"UPDATE_BUSINESS_ADDRESS",payload:a}):r.dispatch({type:"UPDATE_PERSONAL_ADDRESS",payload:a}),_r_()}};i.exports=n.extend(_),_r_()}),B.define("component/bp/billing-details-form/address-details-bbtool",function(e,t,i){_i_("3bb:2bf39ec3");var n=e("component"),a=e("bp/store"),r=e("bp/env"),_=e("jstmpl").translations;function s(e){if(_i_("3bb:04105184"),!e)return _r_(e);return _r_([["&","&amp;"],["<","&lt;"],[">","&gt;"],["&","&amp;"],["'","&#39;"],['"',"&quot;"]].reduce(function(e,t){_i_("3bb:cea42b3c");var i=new RegExp(t[1],"g"),n=t[0];return _r_(e.replace(i,n))},e))}var o={init:function(){_i_("3bb:607988f9"),this.$el.on("change","[name=billing_address_id]",this._onBillinAddressChange.bind(this)),this.$updateProfileCheckboxLabelEl=this.$el.find(".js-bp-booker-details__update-profile .bui-checkbox__label"),a.subscribe(this.render.bind(this)),_r_()},shouldUpdate:function(e,t){if(_i_("3bb:a714ea1d"),!t)return _r_(!0);return _r_(e.selected_bbtool_billing_address!==t.selected_bbtool_billing_address)},render:function(t,e){if(_i_("3bb:f069cf15"),!this.shouldUpdate(t,e))return _r_();if(!t.selected_bbtool_billing_address)return _r_();var i;"other"===t.selected_bbtool_billing_address?i={}:i=r.get("bbtool_billing_addresses").filter(function(e){return _i_("3bb:9d357a51"),_r_(e.b_id==t.selected_bbtool_billing_address)})[0];$("#label_vat_number").show(),$("#label_company_name").toggle("other"===t.selected_bbtool_billing_address),$(".bp_form__field--billing_address_id--disclaimer").toggle("other"!==t.selected_bbtool_billing_address),this.$updateProfileCheckboxLabelEl&&0<this.$updateProfileCheckboxLabelEl.length&&("other"!==t.selected_bbtool_billing_address?this.$updateProfileCheckboxLabelEl.html(_("bbt_billing_address_save_checkbox")):this.$updateProfileCheckboxLabelEl.html(_("bbt_billing_address_legal_entity_add"))),this.$el.find('[name="address1"]').val(s(i.b_address)),this.$el.find('[name="city"]').val(s(i.b_city)),this.$el.find('[name="zip"]').val(s(i.b_zip)),this.$el.find('[name="cc1"]').val(s(i.b_cc1)),this.$el.find('[name="vat_number"]').val(s(i.b_vat_number)),this.$el.find('[name="company_name"]').val(s(i.b_name)),_r_()},_onBillinAddressChange:function(e){_i_("3bb:42ef3364");var t=e.target.value;a.dispatch({type:"CHANGE_BBTOOL_BILLING_ADDRESS",payload:t}),_r_()}};i.exports=n.extend(o),_r_()}),B.define("component/bp/billing-details-form/address",function(e,t,i){_i_("3bb:28573958");var n=e("component"),a=e("server-data"),r=e("bp/validatable-field"),_=e("bp/store"),s=Object.assign({},r);s.init=function(){_i_("3bb:9c5e14ce"),this.props={},this.props.name="address1",1==a.b_require_billing_address&&this.$el.find("input").attr("name")&&(this.props.name=this.$el.find("input").attr("name")),_.subscribe(this.render.bind(this)),_r_()},s.render=function(e,t){_i_("3bb:e43ed9085"),this.renderValidation(e,t),_r_()},i.exports=n.extend(s),_r_()}),B.define("component/bp/billing-details-form/city",function(e,t,i){_i_("3bb:5531ad42");var n=e("component"),a=e("server-data"),r=e("bp/validatable-field"),_=e("bp/store"),s=Object.assign({},r);s.init=function(){_i_("3bb:3d5dd5c7"),this.props={},this.props.name="city",1==a.b_require_billing_address&&this.$el.find("input").attr("name")&&(this.props.name=this.$el.find("input").attr("name")),_.subscribe(this.render.bind(this)),_r_()},s.render=function(e,t){_i_("3bb:e43ed9086"),this.renderValidation(e,t),_r_()},i.exports=n.extend(s),_r_()}),B.define("component/bp/billing-details-form/zip",function(e,t,i){_i_("3bb:0b61458a");var n=e("component"),a=e("server-data"),r=e("bp/validatable-field"),_=e("bp/store"),s=Object.assign({},r);s.init=function(){_i_("3bb:7cd374a1"),this.props={},this.props.name="zip",1==a.b_require_billing_address&&this.$el.find("input").attr("name")&&(this.props.name=this.$el.find("input").attr("name")),_.subscribe(this.render.bind(this)),_r_()},s.render=function(e,t){_i_("3bb:e43ed9087"),this.renderValidation(e,t),_r_()},i.exports=n.extend(s),_r_()}),B.define("component/bp/billing-details-form/country",function(e,t,i){_i_("3bb:e19757e9");var n=e("component"),a=e("server-data"),r=e("bp/validatable-field"),_=e("bp/store"),s=Object.assign({},r);s.init=function(){_i_("3bb:da8c5b1c"),this.props={},this.props.name="cc1",1==a.b_require_billing_address&&this.$el.find("select").attr("name")&&(this.props.name=this.$el.find("select").attr("name")),_.subscribe(this.render.bind(this)),_r_()},s.render=function(e,t){_i_("3bb:e43ed9088"),this.renderValidation(e,t),_r_()},i.exports=n.extend(s),_r_()}),B.define("component/bp/billing-details-form/house-number-or-name",function(e,t,i){_i_("3bb:46576873");var n=e("component"),a=e("server-data"),r=e("bp/validatable-field"),_=e("bp/store"),s=Object.assign({},r);s.init=function(){_i_("3bb:0511520c"),this.props={},this.props.name="billing_address_house_number_or_name",1==a.b_require_billing_address&&this.$el.find("input").attr("name")&&(this.props.name=this.$el.find("input").attr("name")),_.subscribe(this.render.bind(this)),_r_()},s.render=function(e,t){_i_("3bb:e43ed9089"),this.renderValidation(e,t),_r_()},i.exports=n.extend(s),_r_()}),B.define("component/bp/billing-details-form/state-or-province",function(e,t,i){_i_("3bb:e2296523");var n=e("component"),a=e("server-data"),r=e("bp/validatable-field"),_=e("bp/store"),s=Object.assign({},r);s.init=function(){_i_("3bb:60903433"),this.props={},this.props.name="billing_address_state_or_province",1==a.b_require_billing_address&&this.$el.find("input").attr("name")&&(this.props.name=this.$el.find("input").attr("name")),_.subscribe(this.render.bind(this)),_r_()},s.render=function(e,t){_i_("3bb:e43ed90810"),this.renderValidation(e,t),_r_()},i.exports=n.extend(s),_r_()}),B.define("component/bp/payment-details-form",function(e,t,i){_i_("3bb:37d63858");var n=e("component"),d=e("bp/store"),a=e("utils/throttled"),b=["cc_number","cc_type","cc_name","cc_month","cc_year","cc_cvc"],r={init:function(){_i_("3bb:6bb8523f"),b.push("cc_card_id");var e=this.$el.find(".bp-bs3--add-new-cc-button a");e&&e.on("click",this._onNewCreditCardChange.bind(this)),this.$el.on({keyup:a(this._onFieldChange.bind(this),300),change:this._onFieldChange.bind(this)}),_r_()},_onFieldChange:function(e){_i_("3bb:d1f1716c");var t=e.target.getAttribute("name"),i=e.target.value;if(t&&/^cc_cvc_/i.test(t)&&(t="cc_cvc"),-1===b.indexOf(t))return _r_(!0);if("cc_card_id"===t){var n=i,a=$(e.target).data("ccTypeId"),r=$(e.target).data("ccType"),_=$(e.target).data("ccName"),s=$(e.target).data("ccMonth"),o=$(e.target).data("ccYear"),l=this.$el.find("input[name^=cc_cvc_"+i+"]").val()||"";this.updateStoredCCDetails(n,_,"",l,s,o,a,r)}else if(d.dispatch({type:"UPDATE_PAYMENT_CC_DETAILS",payload:{key:t,value:i}}),"cc_type"===t){var c=this.$el.find("[name=cc_type] option:selected");a=c?$(c).data("typeId"):"";d.dispatch({type:"UPDATE_PAYMENT_CC_DETAILS",payload:{key:"cc_type_id",value:a}})}_r_()},_onNewCreditCardChange:function(e){_i_("3bb:51d5329f");var t=this.$el.find("input[name=cc_name]").val()||"",i=this.$el.find("input[name=cc_cvc]").val()||"",n=this.$el.find("input[name=cc_number]").val()||"",a=this.$el.find("[name=cc_month] option:selected").val()||"",r=this.$el.find("[name=cc_year] option:selected").val()||"",_=this.$el.find("[name=cc_type] option:selected"),s=_?$(_).data("typeId"):"",o=_.val()||"";this.updateStoredCCDetails("",t,n,i,a,r,s,o),_r_()},updateStoredCCDetails:function(e,t,i,n,a,r,_,s){_i_("3bb:9883c01a"),d.dispatch({type:"UPDATE_STORED_CC_DETAILS",payload:{cc_card_id:e,cc_type_id:_,cc_type:s,cc_name:t,cc_number:i,cc_cvc:n,cc_month:a,cc_year:r}}),_r_()}};i.exports=n.extend(r),_r_()}),B.define("component/bp/payment-details-form/cc-number",function(e,t,i){_i_("3bb:149568e3");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=(e("et"),Object.assign({},a));_.init=function(){_i_("3bb:3b389d04"),this.props={},this.props.name="cc_number",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed90811"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/payment-details-form/cc-type",function(e,t,i){_i_("3bb:3b1d0343");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:dc6a3982"),this.props={},this.props.name="cc_type",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed90812"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/payment-details-form/cc-name",function(e,t,i){_i_("3bb:665009f7");var n=e("component"),a=e("bp/store"),r=e("bp/env"),_=r.get("ccAbbreviationsToValueMap"),s=e("bp/validatable-field"),o=Object.assign({},s);o.init=function(){_i_("3bb:abba5eab"),this.props={},this.props.name="cc_name",this.props.isCcNamePrefilled=r.get("isPrefillCcName"),a.subscribe(this.render.bind(this)),_r_()},o.shouldComponentUpdate=function(e,t){return _i_("3bb:225c2408"),_r_(!t||e.payment_cc_details.cc_type!==t.payment_cc_details.cc_type||e.payment_cc_details.cc_name!==t.payment_cc_details.cc_name)},o.shouldBeHiddenBasedOnType=function(e){return _i_("3bb:48083564"),_r_(this.props.isCcNamePrefilled&&e!==(_.americanexpress||_.amex_di||"American Express"))},o.render=function(e,t){return _i_("3bb:b6c18847"),this.renderValidation(e,t),_r_()},i.exports=n.extend(o),_r_()}),B.define("component/bp/payment-details-form/cc-cvc",function(e,t,i){_i_("3bb:afcdaea9");var n=e("component"),a=e("bp/store"),r=e("bp/env"),_=e("server-data"),s=r.get("ccAbbreviationsToValueMap"),o=e("bp/validatable-field"),l=Object.assign({},o);l.init=function(){_i_("3bb:01fd3c2f"),this.props={},this.props.name="cc_cvc",a.subscribe(this.render.bind(this)),this.$el.find('input[name="cc_cvc"]').payment("formatCardCVC"),_r_()},l.shouldComponentUpdate=function(e,t){return _i_("3bb:76b46bc4"),_r_(!t||e.payment_cc_details.cc_type!==t.payment_cc_details.cc_type||e.payment_cc_details.cc_cvc!==t.payment_cc_details.cc_cvc)},l.shouldBeHiddenBasedOnType=function(e){if(_i_("3bb:27fbe865"),1==_.fe_require_cvc)return _r_(!1);switch(e.cc_type){case s.americanexpress:return e.is_amex_cvc_required?_r_(!1):_r_(!0);case s.dinersclub:case s.jcb:return _r_(!0);default:return _r_(!1)}_r_()},l.shouldShowHintTrigger=function(e){switch(_i_("3bb:f95d1b52"),e.cc_type){case s.visa:case s.mastercard:case s.mc_di:case s.visa_di:case s.discover:case s.discover_api:case s.diners:case s.diners_api:return _r_(!0);default:return _r_(!1)}_r_()},l.render=function(e,t){if(_i_("3bb:d2c6bf7c"),this.renderValidation(e,t),!this.shouldComponentUpdate(e,t))return _r_();this.shouldBeHiddenBasedOnType(e.payment_cc_details)?this.$el.addClass("bp_form__field--hidden"):(this.$el.removeClass("bp_form__field--hidden"),this.$helpTrigger&&(this.shouldShowHintTrigger(e.payment_cc_details)?this.$helpTrigger.removeClass("-hidden"):this.$helpTrigger.addClass("-hidden"))),_r_()},i.exports=n.extend(l),_r_()}),B.define("component/bp/payment-details-form/cc-cvc-hint",function(e,t,i){_i_("3bb:4e1b1fa8");var n=e("component"),a=e("bp/store"),r=e("bp/env").get("ccAbbreviationsToValueMap"),_={init:function(){_i_("3bb:fbf9da2a"),this.props={},this.$hints=this.$el.find("[data-cc-hint-type]"),this.$hints.addClass("bp_form__cc_hint_type--hidden"),a.subscribe(this.render.bind(this)),_r_()},shouldComponentUpdate:function(e,t){return _i_("3bb:d8fd5dac"),_r_(!t||e.payment_cc_details.cc_type!==t.payment_cc_details.cc_type)},render:function(e,t){if(_i_("3bb:7341b451"),!this.shouldComponentUpdate(e,t))return _r_();switch(e.payment_cc_details.cc_type){case r.visa:case r.mastercard:case r.mc_di:case r.visa_di:this.show("visa");break;case r.amex_di:case r.americanexpress:this.show("amex");break;case r.__null__:default:this.hide()}_r_()},hide:function(){_i_("3bb:e8ec0a19"),this.$el.addClass("bp_form__cc_hint--hidden"),_r_()},show:function(e){_i_("3bb:db57f731"),0===this.$hints.filter('[data-cc-hint-type="'+e+'"]').length?this.hide():(this.$el.removeClass("bp_form__cc_hint--hidden"),this.$hints.addClass("bp_form__cc_hint_type--hidden").filter('[data-cc-hint-type="'+e+'"]').removeClass("bp_form__cc_hint_type--hidden")),_r_()}};i.exports=n.extend(_),_r_()}),B.define("component/bp/payment-details-form/cc-expiry",function(e,t,i){_i_("3bb:58cb3f8e");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:af4773ff"),this.props={},this.props.name="cc_month",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed90813"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/payment-details-form/cc-expiry-combo",function(e,t,i){_i_("3bb:6a5ec317");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:39d06c62"),this.props={},this.props.name="cc_month",r.subscribe(this.render.bind(this)),this.$cc_month=this.$el.find('[name="cc_month"]'),this.$cc_year=this.$el.find('[name="cc_year"]'),this.$cc_month.data("blockValidation",!0),this.$cc_year.data("blockValidation",!0),this.$el.on("focusout change","select",this._handleManipulation.bind(this)),_r_()},_._handleManipulation=function(e){if(_i_("3bb:2b0f62d4"),$(e.currentTarget).data("hadFocus",!0),"change"===e.type)return this._maybeRenderValidation(),_r_();var t=$(e.relatedTarget).attr("name");"focusout"===e.type&&"cc_month"!==t&&"cc_year"!==t&&this._maybeRenderValidation(!0),_r_()},_._maybeRenderValidation=function(e){_i_("3bb:fb455fdd");var t=!1;this.$cc_month.data("hadFocus")&&this.$cc_year.data("hadFocus")&&(t=!0,this.$cc_month.data("blockValidation",!1),this.$cc_year.data("blockValidation",!1)),(t||e)&&this.renderValidation(this.state,this.prevState),_r_()},_.render=function(e,t){_i_("3bb:e72b8291"),this.state=e,this.prevState=t,this._maybeRenderValidation(),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/installment-options",function(e,t,i){_i_("3bb:6a830b71");var n=e("component"),_=e("bp/store"),s=e("server-data"),a={init:function(){_i_("3bb:5b844f96");var t=this,n=t.$el.data("accept-installments-from").split(" ");n.push("__null__");var a=t.$el.find("#installment_count"),r=$("option",a);a.on("change.installments",function(){if(_i_("3bb:8c2aec40"),s.installmentCountFailedValidation){var e=a.val();t.$el.toggleClass("bp_form__field--error","1"!==e)}_r_()}),_.subscribe(function(e,t){_i_("3bb:55abcfd4");var i=e&&e.payment_cc_details&&e.payment_cc_details.cc_type;i&&n.includes(i)?r.prop("disabled",!1):(r.slice(1).prop("disabled",!0),"1"!==a.val()&&(r.first().prop("selected",!0),a.change()));_r_()}),_r_()}};i.exports=n.extend(a),_r_()}),B.define("component/bp/billing-address/actions",function(e,t,i){_i_("3bb:90277168");var n={types:{UPDATE_BILLING_ADDRESS:"UPDATE_BILLING_ADDRESS"}},a={doUpdateBillingAddress:function(e){return _i_("3bb:25ec5469"),_r_({type:n.types.UPDATE_BILLING_ADDRESS,payload:e})}};i.exports=a,_r_()}),B.define("component/bp/payment-timing/actions",function(e,t,i){_i_("3bb:6052e278");var n={types:{UPDATE_PAYMENT_TIMING:"UPDATE_PAYMENT_TIMING"}},a={doUpdatePaymentTiming:function(e){return _i_("3bb:6e2ccaf9"),_r_({type:n.types.UPDATE_PAYMENT_TIMING,payload:e})}};i.exports=a,_r_()}),B.define("component/bp/payment-method/actions",function(e,t,i){_i_("3bb:0dd9405f");var n={types:{UPDATE_PAYMENT_METHOD:"UPDATE_PAYMENT_METHOD"}},a={doUpdatePaymentMethod:function(e){return _i_("3bb:4faf42ac"),_r_({type:n.types.UPDATE_PAYMENT_METHOD,payload:e})}};i.exports=a,_r_()}),B.define("component/bp/wallet-details/actions",function(e,t,i){_i_("3bb:23c09bf7");var n={types:{UPDATE_WALLET_USED:"UPDATE_WALLET_USED",UPDATE_WALLET_CREDITS_USED:"UPDATE_WALLET_CREDITS_USED"}},a={doUpdateWalletUsed:function(e){return _i_("3bb:59e13a89"),_r_({type:n.types.UPDATE_WALLET_USED,payload:e})},doUpdateWalletCreditsUsed:function(e){return _i_("3bb:7e825b66"),_r_({type:n.types.UPDATE_WALLET_CREDITS_USED,payload:e})}};i.exports=a,_r_()}),B.define("component/bp/sca/actions",function(e,t,i){_i_("3bb:6cf07ee0");var n={types:{UPDATE_IS_SCA:"UPDATE_IS_SCA",UPDATE_SCA_CHALLENGE:"UPDATE_SCA_CHALLENGE",UPDATE_SCA_RESULT:"UPDATE_SCA_RESULT",UPDATE_IS_IN_PROGRESS:"UPDATE_IS_IN_PROGRESS"}},a={doUpdateIsInProgress:function(e){return _i_("3bb:3cdfd8ce"),_r_({type:n.types.UPDATE_IS_IN_PROGRESS,payload:e})},doUpdateIsSCA:function(e){return _i_("3bb:8276cae3"),_r_({type:n.types.UPDATE_IS_SCA,payload:e})},doUpdateChallenge:function(e){return _i_("3bb:4f04762a"),_r_({type:n.types.UPDATE_SCA_CHALLENGE,payload:e})},doUpdateSCAResult:function(e){return _i_("3bb:d450a8dd"),_r_({type:n.types.UPDATE_SCA_RESULT,payload:e})}};i.exports=a,_r_()}),B.define("component/bp/price-details",function(e,t,i){_i_("3bb:fd501fba");var n,_,s,a=e("component"),r=e("bp/emitter"),o=B.utils.accounting,l="mdot"===e("server-data").b_site_type?e("component/booking-process/core/store"):e("bp/store"),c=e("announce-to-screen-reader"),d={},b=!0;function p(e){_i_("3bb:a34c845e"),function(e){_i_("3bb:16c1808b");var t=0;if(0===e.length)return d.addonsSum.closest(".js-price-details__charge-line--addons").hide(),_r_(!0);e.forEach(function(e){_i_("3bb:cef3ac10"),t+=e.userPrice,_r_()}),t=o.formatMoney(t,_),d.addonsSum.closest(".js-price-details__charge-line--addons").show(),d.addonsSum.html(t),_r_()}(e.addons.reverse()),function(e){_i_("3bb:23716623");var t=e.userCurrencyTotalCost,i=e.hotelCurrencyTotalCost,n=o.formatMoney(t,_),a=o.formatMoney(i,s);d.totalHotelCurrencyComponent?d.totalHotelCurrencyComponent.setValue(i):d.totalHotelCurrencyComponentElement.length?d.totalHotelCurrencyComponentElement.html(a):d.totalHotelCurrency.html(a);d.totalUserCurrencyComponent?d.totalUserCurrencyComponent.setValue(t):d.totalUserCurrencyComponentElement.length?d.totalUserCurrencyComponentElement.html(n):d.totalUserCurrency.html(n);d.todayYouPay.html(n),d.payAtStay.html(n),d.clarificationHotelCurrency.html(a),d.clarificationUserCurrency.html(n),_r_()}(e);var t=o.formatMoney(e.userCurrencyTotalCost,_),i=B.jstmpl.translations("a11y_booking_price_updated",null,{price_with_currency:t});c.announce(i),_r_()}var u={};u.init=function(){_i_("3bb:0ab9e1a2"),n=this.$el,d.addonsSum=n.find("[data-pd-addons-sum='']"),d.todayYouPay=n.find("[data-pd-paytoday-withaddons='']"),d.payAtStay=n.find("[data-pd-payatstay-withaddons='']"),d.totalHotelCurrency=n.find("[data-pd-total-hotelcurrency='']"),d.totalUserCurrency=n.find("[data-pd-total-usercurrency='']"),d.clarificationHotelCurrency=n.find("[data-pd-clarification-hotelcurrency='']"),d.clarificationUserCurrency=n.find("[data-pd-clarification-usercurrency='']"),d.totalHotelCurrencyComponentElement=d.totalHotelCurrency.find('[data-component="core/animate-price"]'),d.totalUserCurrencyComponentElement=d.totalUserCurrency.find('[data-component="core/animate-price"]');try{d.totalHotelCurrencyComponent=d.totalHotelCurrencyComponentElement.component("core/animate-price")}catch(e){d.totalHotelCurrencyComponent=null}try{d.totalUserCurrencyComponent=d.totalUserCurrencyComponentElement.component("core/animate-price")}catch(e){d.totalUserCurrencyComponent=null}_=n.data("user-currency-code"),s=n.data("hotel-currency-code"),function(){_i_("3bb:28e1d9ab"),r.on("ADDONS:change",p),l.subscribe(this.render.bind(this)),r.trigger("ADDONS:init"),_r_()}.call(this),_r_()},u.shouldUpdate=function(e,t){if(_i_("3bb:76dc19a0"),!e||!e.rooms_guests_total)return _r_(!1);if(!t)return _r_(!0);return _r_(e.rooms_guests_total!==t.rooms_guests_total)},u.render=function(e,t){if(_i_("3bb:fca33067"),!this.shouldUpdate(e,t))return _r_();var i=this.$el.find(".js-price-details__price-clarification--no-guests");if(0===i.length)return _r_();var n=i.data("copy"),a=parseInt(e.rooms_guests_total,10);i.text(B.jstmpl.translations(n,a,{num_guests:a})),function(r){_i_("3bb:54207771"),b&&(b=!1);var e=$(".bs_left_excluded_charges_block");if(!e.length)return _r_();e.find("ul>li").each(function(){_i_("3bb:34dd562a");var e=$(this);if(!e.data("charge-depends-on-persons")&&!e.data("charge-depends-on-nights"))return _r_();var t=!!parseInt(e.data("charge-depends-on-persons"));if(!t)return _r_();var i=!!parseInt(e.data("charge-depends-on-nights")),n=e.data("charge-base-value")||"";n=(n=(n+="").replace(/,/gim,".")).replace(/\s/gim,"");var a=parseFloat(n);t&&(a*=r),i&&(a*=parseInt(e.data("charge-nights-number"))),s!==_?e.find(".excluded_fees_price, .js-price-details__charge-value--excluded").html(o.formatMoney(a,_)):e.find(".excluded_fees_price, .js-price-details__charge-value--excluded").html(o.formatMoney(a,s)),e.find(".charge_number_of_guests, .js-price-details__no-guests").text(B.jstmpl.translations("bh_bp_wysiwyp_math_cur_guests_x",r,{num_guests:r})),_r_()}),_r_()}(a),_r_()},i.exports=a.extend(u),_r_()}),B.define("component/bp/top-validation-errors",function(a,e,t){_i_("3bb:528fb953");var i=a("component"),r=a("jquery"),n={init:function(){_i_("3bb:20ebf2b9"),this.$el.find("a").on("click",function(e){_i_("3bb:28929726");var t,i=r(this).attr("href"),n=r(i);if(!n)return _r_(!0);if(0===(t=0<(t=n).length?t:r('[name="'+i.replace("#","")+'"]')).length)return a("squeak")("We showed error for a filled ["+n+"] that is not in DOM on BS"+(B.env.b_stage||"x")),_r_();r(window).scrollTo(n,350,{easing:"easeOutCubic",offset:{top:-30},onAfter:function(){_i_("3bb:6d2008b7"),n.focus(),_r_()}}),e.preventDefault(),_r_()}),this.$el.find('[role="alert"]').focus(),_r_()}};t.exports=i.extend(n),_r_()}),B.define("component/bp/main-form",function(e,t,i){_i_("3bb:bb867c91");var n=e("component"),a=e("utils/throttled"),_=e("bp/env"),d=e("bp/store"),b=e("server-data"),r=e("et"),s=e("booking-process/validation/fields"),o=e("booking-process/validation/validate").validate,l=e("booking-process/validation/validate").isConditionalFieldValid,c=e("events"),p=e("jquery"),u=e("jstmpl").translations,h=e("payment/sca"),f=e("report-error"),m=e("payments/reservation-manager"),g=["firstname","lastname","email","email_confirm","phone","bp_address_type"],M=["address1","cc1","city","zip"];3===B.env.b_stage&&_.get("showBDate")&&(g=g.concat(["bday","bmonth","byear"])),B.env&&B.env.b_is_bbtool_user&&(g=g.concat(M)),1==b.b_require_billing_address&&(g=g.concat(["billing_address_street","billing_address_house_number_or_name","billing_address_city","billing_address_postal_code","billing_address_country","billing_address_state_or_province"]));var v=3===b.b_stage&&(1==b.fe_enable_sca_flow||1==b.fe_payplatform),y="bp_form__field--error",C="bp_form__field--valid",w="bp_form__field--no-msg",k="bui-form__error",E="bui-form__helper",N="bui-u-hidden",x="book:submit:loading-indicator-stop",S="book:submit:loading-indicator",T={};function D(e){_i_("3bb:31e1667c");var t=d.getState();return _r_(t&&t.main_form&&"business"===t.main_form.bp_address_type&&0<=M.indexOf(e))}function A(e,t){if(_i_("3bb:9f120b8c"),-1===g.indexOf(e))return _r_(!0);if(D(e)){var i={};return i[e]="string"==typeof t?t.trim():t,n=i,_i_("3bb:f8118005"),d.dispatch({type:"UPDATE_BUSINESS_ADDRESS",payload:n}),_r_(),_r_()}var n;if(1==b.b_require_billing_address&&e&&/^billing_address_/i.test(e))return _r_();d.dispatch({type:"UPDATE_MAIN_FORM",payload:{key:e,value:"string"==typeof t?t.trim():t}}),_r_()}function j(e,t,i){if(_i_("3bb:695da14d"),!t)return _r_(e||i);for(var n=0;n<t.length;n++){if(!e)return _r_(i);e=e[t[n]]}return _r_(e||i)}function I(e,t){if(_i_("3bb:f5cdad50"),-1!==["address1","cc1","city","zip"].indexOf(e)){if(D(e))return _r_(j(t,["business_address",e],"").toString().trim());return _r_(j(t,["personal_address",e],"").toString().trim())}if(-1!==["cc_number","cc_type","cc_name","cc_cvc","cc_month","cc_year","cc_card_id"].indexOf(e))return _r_(j(t,["payment_cc_details",e],"").toString().trim());if(-1!==["billing_address_street","billing_address_city","billing_address_house_number_or_name","billing_address_postal_code","billing_address_country","billing_address_state_or_province"].indexOf(e))return _r_(j(t,["billing_address",e],"").toString().trim());if("bb_loyalty_redeem_credit_amount_formatted"===e)return _r_(j(t,["bb_loyalty_redeem_credit_amount_formatted"],"").toString().trim());return _r_(j(t,["main_form",e],"").toString().trim())}function F(i){_i_("3bb:2f210860");var e=i,n=[];if(!s[e])return _r_(!0);s[i]&&s[i].alternateField&&(e=s[i].alternateField);var a=d.getState(),t={name:e,value:I(e,a)};e!==i&&(t=Object.assign({},t,{alternateField:i})),n.push(t),s[i]&&s[i].otherFields&&Array.isArray(s[i].otherFields)&&s[i].otherFields.length&&s[i].otherFields.forEach(function(e){_i_("3bb:f602a921");var t={name:e,value:I(e,a)};n.push(t),_r_()}),s[i]&&s[i].conditionalFields&&"object"==typeof s[i].conditionalFields&&Object.keys(s[i].conditionalFields).forEach(function(e){_i_("3bb:45ebf2f6");var t={name:e,value:I(e,a)};l(t,s[i].conditionalFields[e])&&n.push(t),_r_()}),o(n).then(function(e){_i_("3bb:fd70e6de"),d.dispatch({type:"UPDATE_VALIDATION_FIELDS",payload:e.results}),_r_()}),_r_()}function P(l){if(_i_("3bb:e16cf3b4"),"object"==typeof l.results&&0===Object.keys(l.results.fields).length)return _r_(l);var c=this;return Object.keys(l.results.fields).forEach(function(e){_i_("3bb:f75a07cc");var t,i=l.results.fields[e];if("cc_cvc"==e&&1==b.fe_enable_sca_flow){var n=I("cc_card_id",d.getState());n&&(e="cc_cvc_"+n)}t=i.alternateField&&"string"==typeof i.alternateField?'[name="'+i.alternateField+'"]':'[name="'+e+'"]';var a="form-field__helper--"+e,r=c.$el.find(t);if(r.length){var _="cc_year"==e||"cc_month"==e?"cc_expiry":e,s=r.closest(".bp_form__field.bp_form__field--"+_),o=s.find(".bp_form__field__msg");o.length&&(a=o[0].getAttribute("id")),"error"!==i.status&&"warning"!==i.status||!0!==i.isRequired?i.value?(s.addClass(C).removeClass(y),s.addClass(w),o.addClass(E).removeClass(k).html("")):s.removeClass(C):(s.addClass(y),s.removeClass(C),r.attr("aria-describedby",a),i.message&&""!==i.message&&(o.addClass(k).removeClass(E),o.html(u(i.message)),s.removeClass(w)))}return _r_(i)}),_r_(l)}function $(e){_i_("3bb:b1ca2130");var t=e.results&&"true"===(e.results.valid||"").toString(),i=function(i){_i_("3bb:f4b5cbe5");var e=Object.keys(i).reduce(function(e,t){return _i_("3bb:4cc267ad"),/^cc_/i.test(t)||/^billing_address_/i.test(t)||"error"!==i[t].status||(e[t]=i[t]),_r_(e)},{});return _r_(e)}(e.results.fields),n=0<Object.keys(i).length;if(p("#top-validation-error").addClass(N),p(".bp-alert--container .bui-alert").addClass(N),!t){var a=p(n?"#payment-top-error .bui-alert":"#payment-error .bui-alert");a.length&&(a.removeClass(N),O(a))}return _r_(e)}function O(e){_i_("3bb:4dacb4e6"),p([document.documentElement,document.body]).animate({scrollTop:e.offset().top-10},1e3),_r_()}function L(e){_i_("3bb:6888a6e2");var t=e.results&&"true"===(e.results.valid||"").toString();if(t&&1==b.fe_payplatform)return _r_(m.processPayment({saveBookState:!0},J).then(function(e){return _i_("3bb:fd21beea"),e||O(p(".payment-section")),_r_(e)}));if(!t||1!=b.fe_enable_sca_flow)return _r_(t);return _r_(h.startSCA().then(function(e){if(_i_("3bb:944b9ee6"),!e||e&&e.isSCA!==h.constants.IS_SCA.YES)return _r_(!0);return _r_(e&&e.result&&!e.result.ignore_result&&e.result!==h.constants.SCA_RESULTS.REFUSED)}).catch(function(e){return _i_("3bb:c37dec54"),f(e,"Start SCA flow failed on desktop/tdot"),_r_(!0)}))}function J(e){_i_("3bb:6b3984a7"),e?c.trigger(S):c.trigger(x),_r_()}function R(){(_i_("3bb:eb3a8b64"),r.track("BHDTJdReQLOLOLOOTdZBSeFdBfUPcC"))&&p(".js-bp-submit-button--next-step, .js-bp-submit-button--complete-booking").prop("disabled",!0).addClass("bui-is-loading");_r_()}function U(e,t){if(_i_("3bb:358119e7"),e)return c.trigger(S),setTimeout(function(){_i_("3bb:eda69be0"),t.target.submit(),R(),_r_()},3!==b.b_stage||b.fe_run_wechat_payment?0:4e3),_r_();var i=p("body").data("booking-overview__modal");i&&i.close(),c.trigger(x),_r_()}T.init=function(){_i_("3bb:b08a0be0"),this.$el.on({keyup:a(this._onFieldInput.bind(this),300),change:this._onFieldChange.bind(this)}),this.$el.on("submit",this._onFormSubmit.bind(this)),this.isPaymentTimingValid=!0,d.subscribe(this._handlePaymentTimingChange.bind(this)),this.$el.find("input").not('[type="submit"]').on("blur",this._onFieldBlur.bind(this)),this.$el.find("select").on("change",this._onFieldBlur.bind(this)),setTimeout(function(){_i_("3bb:7ac79b0e"),d.dispatch({type:"INIT",payload:_.get("storeInitialState")}),A("email",this.$el.find('[name="email"]').val()),A("email_confirm",this.$el.find('[name="email_confirm"]').val()),_r_()}.bind(this),4),_.get("guestPIIFields")&&(g=g.concat(_.get("guestPIIFields"))),this.$el.find(".bp_form__field__msg").attr("role","alert"),P=P.bind(this),_r_()},T._handlePaymentTimingChange=function(e){_i_("3bb:75e46ad2");var t=e&&e.payment_timing?e.payment_timing.type:void 0;if(!(void 0!==t&&"none"!==t))return _r_();this._setIsPaymentTimingValid(!0),this.$el.find(".payments_block_container_title").removeClass(N),this.$el.find("#paymentBlock").removeClass(N),_r_()},T._setIsPaymentTimingValid=function(e){_i_("3bb:ddc6747e"),this.isPaymentTimingValid=e,_r_()},T._onFieldInput=function(e){_i_("3bb:e0d43570"),A(e.target.getAttribute("name"),e.target.value),_r_()},T._onFieldChange=function(e){_i_("3bb:31c1ed23");var t=e.target.getAttribute("name"),i=e.target.value;if(p(e.target).data("blockValidation"))return _r_();A(t,i),_r_()},T._onFormSubmit=function(t){if(_i_("3bb:49f67b02"),c.trigger("bp:form_submit"),!this.isPaymentTimingValid)return t.preventDefault(),_r_(!1);if(!v)return R(),_r_(!0);var e=d.getState(),i=e&&e.payment_method&&"creditcard"==e.payment_method.name,n=e&&e.payment_timing?e.payment_timing.type:void 0,a=1==p('[name="wallet_payment_method"]').val();if(!i||"skip-and-pay-later"===n||a)return U(!0,t),_r_();t.preventDefault();var r=function(n){_i_("3bb:162574f8");var a=d.getState(),e=[];1!==b.fe_personal_info_on_bs2&&(e=["address1","city","cc1","phone"],_.get("showBDate")&&(e=e.concat(["bday","bmonth","byear"])));var t=I("cc_card_id",a);return t?1==b.fe_require_cvc&&(e=e.concat(["cc_type","cc_cvc_"+t])):(e=e.concat(["cc_name","cc_type","cc_number","cc_month","cc_year"]),1==b.fe_require_cvc&&e.push("cc_cvc")),1==b.b_require_billing_address&&(e=e.concat(["billing_address_street","billing_address_city","billing_address_postal_code","billing_address_country"]),1==b.b_require_billing_address_house_number&&e.push("billing_address_house_number_or_name")),_r_(e.reduce(function(e,t){if(_i_("3bb:cfe02d38"),p("[name="+t+"]:visible",n).length){var i=/^cc_cvc_/i.test(t)?"cc_cvc":t;e.push({name:i,value:I(i,a)})}return _r_(e)},[]))}(this.$el);o(r,!1,!0).then(P).then($).then(L).then(function(e){_i_("3bb:f68090f6"),U(e,t),_r_()}).catch(function(e){_i_("3bb:5347fa0d"),f(e,"Error on bpValidate desktop/tdot. Submitting the form anyway!"),U(!1,t),_r_()}),_r_()},T._onFieldBlur=function(i){_i_("3bb:5119ba0f"),setTimeout(function(){_i_("3bb:5ea108ca");var e=i.target.getAttribute("name"),t=i.target.value;if(p(i.target).data("blockValidation"))return _r_();A(e,t),F(e),_r_()}.bind(this),4),_r_()},i.exports=n.extend(T),_r_()}),B.define("component/bp/compset",function(e,t,i){_i_("3bb:cc88ef7d");var n=e("component"),a=e("events"),r=e("event-emitter"),_=e("read-data-options"),s=e("bp/env"),o=e("bp/compset"),l=r.extend({});l.init=function(){_i_("3bb:21bf1172"),this.options=_(this.$el,{extraClasses:{name:"compset-extra-classes",type:String},header:{name:"compset-header",type:String},headerExtraClasses:{name:"compset-header-extra-classes",type:String},rowWrap:{name:"compset-row-wrap",type:Boolean},hotelsPerRow:{name:"compset-hotels-per-row",type:Number},src:{name:"compset-src",type:String}}),this.compset=new o({params:{no_cc:0},onComplete:function(e){return _i_("3bb:0626c485"),e.compset_list_class="bp-compset-list "+(this.options.extraClasses||""),e.compset_header_class=this.options.headerExtraClasses||"",e.row_wrap=this.options.rowWrap,e.hotels_per_row=this.options.hotelsPerRow,e.compset_header=this.options.header||"",e.compset_src=this.options.src||"",e.b_lang=B.env.b_lang,e.b_domain_for_app=B.env.b_nonsecure_hostname,e.b_stage=B.env.b_stage,_r_(e)}.bind(this)}),this.trigger("compset:before_fetch"),this.options.src&&a.trigger("compset:before_fetch:"+this.options.src),this.compset.render({hid:B.env.b_hotel_id,aid:B.env.aid,label:B.env.b_label,lang:B.env.b_lang,stype:B.env.b_site_type_id,checkin:s.get("checkin"),checkout:s.get("checkout")}).then(function(e){_i_("3bb:15ce6a7d"),this.$el.html(e).addClass("bp-compset--loaded"),this.trigger("compset:fetched"),this.trigger("compset:loaded"),this.options.src&&(a.trigger("compset:fetched:"+this.options.src),a.trigger("compset:loaded:"+this.options.src)),_r_()}.bind(this)).catch(function(){_i_("3bb:82e4683a"),this.trigger("compset:fetched"),this.trigger("compset:empty"),this.options.src&&(a.trigger("compset:fetched:"+this.options.src),a.trigger("compset:empty:"+this.options.src)),_r_()}.bind(this)),_r_()},i.exports=n.extend(l),_r_()}),B.define("component/bp/room",function(e,t,i){_i_("3bb:b5f15637");var n=e("component"),a=e("bp/store"),r={init:function(){_i_("3bb:0c65a1e2"),this.props={roomId:this.$el.data("room-id"),sequencialId:this.$el.data("room-sequencial-id")},this.$guestsQuantitySelects=this.$el.find("[data-room-guests-select]"),this.$el.on("change","[data-room-guests-select]",this._onGuestsQuantityChange.bind(this)),_r_()},_onGuestsQuantityChange:function(e){_i_("3bb:4d86faca"),a.dispatch({type:"UPDATE_ROOM_GUESTS_QUANTITY",payload:{roomId:this.props.roomId,sequencialId:this.props.sequencialId,value:e.target.value}}),_r_()}};i.exports=n.extend(r),_r_()}),B.define("component/bp/stored_cc_details_for_raf",function(e,t,i){"use strict";_i_("3bb:2ff4c03d");var n=e("component");i.exports=n.extend({check:function(){_i_("3bb:81ca0b71");var e=$("input[name=cc_card_id]:checked");if(e){var t=e.closest("tr");$("#raf_cc_checkbox").prop("disabled",t.find(".cc_name").hasClass("amex")),$("#raf_cc_checkbox").prop("checked",e.hasClass("is_used_for_raf"))}else $("#raf_cc_checkbox").prop("checked",!1);_r_()},init:function(){_i_("3bb:eba2ea45"),this.check(),$("input[name=cc_card_id]").on("change",this.check),$(".bp-bs3--add-new-cc-button a").on("click",this.check),_r_()}}),_r_()}),B.define("component/bp/loyalty-redemption-form/amount",function(e,t,i){_i_("3bb:bbb4cd67");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:e5604973"),this.props={},this.props.name="bb_loyalty_redeem_credit_amount_formatted",r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed90814"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/bp/jackpot-message",function(e,t,i){_i_("3bb:dcb479b2");var r=e("jquery"),n=e("component"),_=B.require("search-config");i.exports=n.extend({init:function(){_i_("3bb:2a513aa5"),function(t,e,i){if(_i_("3bb:a2b0ba80"),_.isGroupSearch)return _r_();var n=[B.env.b_ufi,e,i,+_.adults].join("_"),a={method:"GET",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},url:B.env.b_nonsecure_hostname+"/is_cheapest",data:{hotel_id:B.env.b_hotel_id,search_key:n}};r.ajax(a).done(function(e){_i_("3bb:b4dcd7ba"),e.is_the_cheapest?t.find(".bp_jackpot_message").show():t.find(".bp_jackpot_message").hide(),_r_()}),_r_()}(this.$el,this.$el.data("checkin-date"),this.$el.data("checkout-date")),_r_()}}),_r_()}),function(r){function _(e,t){if(_i_("3bb:cfbd17e3"),!(this instanceof _))return _r_(new _(e,t));t=t||"localStorage",this.ns=e,this._storage=this.getStorage(t),this.loadData(),_r_()}_i_("3bb:da8ddea9"),r.define("component/feedback-base",function(a,e,t){_i_("3bb:cbca5fdd");var i=a("component"),c=a("jquery"),n=a("events"),d={StorageService:_,submitModel:function(e,t){_i_("3bb:9acf2ef8");var i=c.ajax({url:e,method:"POST",data:t});return _r_(i)},setObjectPath:function(e,t,i){_i_("3bb:74753e22");var n=t.split("."),a=e,r=n.length-1;n.forEach(function(e,t){if(_i_("3bb:92f47154"),t===r)return a[e]=i,_r_();a[e]=a[e]||{},a=a[e],_r_()}),_r_()}};t.exports=i.extend({_utils:d,config:{url:"/receive_feedback",defaultView:"index",defaultErrorView:"error",defaultActionEvent:"click",defaultPoll:"general",defaultStorage:"floops",defaultTimeout:168,defaultAutoclose:!1,stopPropagation:!1,neverExpire:!0},init:function(){if(_i_("3bb:4f181444"),this.setupComponent(),!this.config.neverExpire&&(this.setupStorage(),!this.storage))return _r_();if((this.setupModel(),!this.config.neverExpire)&&!this.storage.isExpired(this.model.poll)){var e=c(".feedback-loop");return e.length&&e.hide(),_r_()}this.setupViews(),this.setupActions(),this.initActions(),this.render(),_r_()},setupComponent:function(){_i_("3bb:de6ead02"),this.config=c.extend({},this.config,this.$el.data()),_r_()},setupStorage:function(){_i_("3bb:3b117858");var e=this.config.storage||this.config.defaultStorage;this.storage=new _(e),this.storage.removeExpired(),_r_()},setupViews:function(){_i_("3bb:1b40aebe");var r=this.views={};this.$el.children("[data-view]").each(function(e,t){_i_("3bb:5514ca10");var i=c(t),n=i.data(),a=n.view;r[a]={config:n,view:t,$view:i},_r_()}),this.setupGroups(),_r_()},setupGroups:function(){_i_("3bb:82719688");var r=this;this.$el.off(".feedbackGroups").on("click.feedbackGroups",".feedback-loop__group-header :checkbox",function(){_i_("3bb:937bcb86"),function(e){_i_("3bb:f6a33c25");var t=e.find(".feedback-loop__group-body"),i=e.find(".feedback-loop__group-header :checkbox"),n=t.is(":visible"),a=i.is(":checked");n!=a&&t.slideToggle({duration:200,complete:function(){_i_("3bb:6cf7902e"),r.triggerResize(),_r_()}});_r_()}(c(this).closest(".feedback-loop__group")),_r_()}),_r_()},triggerResize:function(){_i_("3bb:92bff38c"),this.$el.trigger("feedbackBase_resize"),_r_()},setupModel:function(){_i_("3bb:50a8bb1b"),this.model={poll:this.config.poll||this.config.defaultPoll},c.extend(this.model,{url:window.location.href,action:window.booking&&window.booking.env&&window.booking.env.b_action}),_r_()},setupActions:function(){_i_("3bb:12426c42");var e=this.actions={};e.showView=function(e){_i_("3bb:4011e8fa"),this.render(e.view),_r_()},e.submit=function(e){_i_("3bb:9206980d");var t=this;d.submitModel(this.config.url,this.model).done(function(){_i_("3bb:4ee30ade");var e=t.config.timeout;e&&!t.config.neverExpire&&t.storage.set(t.model.poll,!0,1e3*e*3600),_r_()}).fail(function(){_i_("3bb:9beecf9b");var e=t.config.defaultErrorView;if(t.views[e])return _r_(t.render(e));throw n.emit("FLOOPS.request.error"),Error("[FLOOPS] Error submitting feedback")}),_r_()},e.beforeSubmit=function(e){_i_("3bb:79db7a77"),this.$el.trigger("feedback_beforeSubmit"),this.updateModel(this.currentView),_r_()},e.autoClose=function(){_i_("3bb:c5dba1d8"),setTimeout(function(){_i_("3bb:1c41d85f"),$el.fadeOut(200),_r_()},3e3),_r_()},e.reset=function(){_i_("3bb:9a0521b6"),this.updateModel(this.currentView,!0),_r_()},e.close=function(){_i_("3bb:e7199284"),this.$el.hide(),_r_()},e.trackGaEvent=function(e){_i_("3bb:ae1fba28");var t,i=(e.feedbackGaEvent||"").split("|"),n={nonInteraction:!0};"www"===r.env.b_site_type?t=a("ga-tracker"):"mdot"===r.env.b_site_type&&(t=a("ga-tracker")),2<=i.length&&(n.type=i[0],n.action=i[1]||"",n.label=i[2]||"",void 0!==i[3]&&(n.value=i[3])),t&&t.trackEvent&&n.type&&n.action&&n.label&&("www"===r.env.b_site_type?t.trackEvent(n.type,n.action,n.label,n.value):"mdot"===r.env.b_site_type&&t.trackEvent(n.type,n.action,n.label,n.value)),_r_()},_r_()},updateModel:function(e,_){_i_("3bb:8c5f6d43");var s=this,t=this.views[e],o=t?t.$view:this.$el,l={};o.find("[data-model]").each(function(e,t){_i_("3bb:c8bca89d");var i,n=c(t),a=n.data();if(a.model&&(i=String(a.model).match(/^([^\[\]]+)\[\]$/)))return function(a){if(_i_("3bb:89662d3e"),l[a])return _r_();l[a]=[],o.find('[data-model="'+a+'[]"]').each(function(e,t){_i_("3bb:f9d9f114");var i=c(t),n=_?"":i.val();i.is(":checkbox,:radio")&&!i.prop("checked")&&(n=""),n&&l[a].push(n),_r_()}),d.setObjectPath(s.model,a,l[a].join(",")),_r_()}(i[1]),_r_();if(a.hasOwnProperty("modelValue"))return _r_();var r=_?"":n.val();n.is(":checkbox,:radio")&&!n.prop("checked")&&(r=""),d.setObjectPath(s.model,a.model,r),_r_()}),_r_()},initActions:function(){_i_("3bb:259473b1");var r=this;this.$el.find(":not([data-component]) [data-action]").each(function(e,t){_i_("3bb:36b8259b");var i=c(t),n=c.extend({action:r.config.defaultAction,on:r.config.defaultActionEvent,autoclose:i.data("autoclose")||!1,stopPropagation:i.data("stopPropagation")||r.config.stopPropagation},i.data()),a=n.action.split(/\s+/);i.on(n.on,function(e){_i_("3bb:83d6d4ab"),n.model&&n.modelValue&&d.setObjectPath(r.model,n.model,n.modelValue),r.updateModel(r.currentView),n.stopPropagation&&e.stopPropagation(),a.forEach(function(e){_i_("3bb:756f323f"),r.actions[e].call(r,n),_r_()}),_r_()}),_r_()}),r.config.stopPropagation&&this.$el.on("click",function(e){_i_("3bb:72b5d735"),e.stopPropagation(),_r_()}),_r_()},render:function(i){_i_("3bb:477c817d");var n=this;if(!this.views)return _r_();if(this.$el.removeClass("feedback-loop--hidden"),(i=i||this.config.defaultView)===this.currentView)return _r_();Object.keys(this.views).forEach(function(e){_i_("3bb:964d4dbb");var t=this.views[e].$view;if(e===i){this.currentView=e,t.data("viewAnimated")?t.slideDown(300):t.show();t.data("autoclose")&&!/off|0|disabled|none/g.test(t.data("autoclose"))&&setTimeout(function(){_i_("3bb:4d1f0d35"),n.$el.fadeOut(300),_r_()},2e3)}else t.hide();_r_()}.bind(this)),this.triggerResize(),_r_()}}),_r_()}),_.prototype.getStorage=function(e){_i_("3bb:461c66cd");try{var t=window[e],i="__storage_test__";return t.setItem(i,i),t.removeItem(i),_r_(t)}catch(e){return _r_()}_r_()},_.prototype.saveData=function(){if(_i_("3bb:c040d6c7"),!this._storage)return _r_();return _r_(this._storage.setItem(this.ns,JSON.stringify(this.data)))},_.prototype.loadData=function(){_i_("3bb:55940a9d");var t=this._storage.getItem(this.ns);try{t=t&&JSON.parse(t)||{}}catch(e){t={}}this.data=t,_r_()},_.prototype.removeExpired=function(){_i_("3bb:c16e0b02");var e=Object.keys(this.data),t=this.data;e.filter(this.isExpired.bind(this)).forEach(function(e){_i_("3bb:ba16d4d4"),delete t[e],_r_()}),this.saveData(),_r_()},_.prototype.isExpired=function(e,t){_i_("3bb:52fac0b6"),t=t||(new Date).getTime();var i=this.data[e];if(!i||!i.expires)return _r_(!0);return _r_(t>i.expires)},_.prototype.remove=function(e){_i_("3bb:29b0b53c"),delete this.data[e],this.saveData(),_r_()},_.prototype.set=function(e,t,i){if(_i_("3bb:5b7dfa47"),i&&i.constructor!==Date){var n=(new Date).getTime();i=new Date(n+i).getTime()}this.data[e]={value:t,expires:i},this.saveData(),_r_()},_.prototype.get=function(e){_i_("3bb:4f04d384");var t,i=this.data,n=i[e];return i[e]&&(this.isExpired(e)?this.remove(e):t=n.value),_r_(t)},_r_()}(window.booking),function(l){_i_("3bb:35e237d1"),l.define("component/feedback-inline",function(s,e,t){_i_("3bb:e4529988");var i=s("component"),n=s("events"),o=s("jquery");t.exports=i.extend({init:function(){_i_("3bb:b98f0641");var i=this;this.config={url:"/receive_content_feedback",modalExtraClass:"feedback-modal-wrapper",modalMaskExtraClass:"",hideClass:"",modalPosition:"fixed",modalTopMargin:0,autoFocus:!0},this.setupComponent(),this.$el.on("click","[data-action]",function(e){_i_("3bb:20084900");var t=o(this);e.preventDefault(),t.data("stopPropagation")&&e.stopPropagation(),i.runElementActions(t),_r_()}),_r_()},runElementActions:function(n,e){_i_("3bb:271c4ea2");var a=this,t=(e||n.data("action")||"").split(/\s+/);o.each(t,function(e,t){_i_("3bb:0434bc19");var i=a["action_"+t];"function"==typeof i&&i.call(a,n),a.triggerActionEvents(t),_r_()}),_r_()},action_submit:function(e){_i_("3bb:4e6dfb26");var t=e.data("model"),i=e.data("modelValue"),n=this.getModel();return t&&(n[t]=i),this.$el.trigger("feedbackInline_submit",n),_r_(o.ajax({url:this.config.url,method:"POST",data:n}))},action_external:function(e){_i_("3bb:0d5779b7");var t=l.env&&l.env.b_is_tdot_traffic?l.lightbox:s("lightbox"),i=e.data("url"),n=e.data("iframe_height_percentage")||90,a={iframe:!0,iframeHeight:Math.max(Math.floor(n*o(window).height()/100),550),hideCallBack:function(){_i_("3bb:ed8d9f5d"),o(document.body).css("overflow",""),_r_()}};i&&(t.show(i,a),o(document.body).css("overflow","hidden")),_r_()},action_modal:function(e){_i_("3bb:35848d4f");var t,i=this,n=l.env&&l.env.b_is_tdot_traffic?l.lightbox:s("lightbox"),a=e.data("showForm"),r=e.data("modalView"),_=a?o(a):o(".feedback-loop-lightbox").filter('[data-poll="'+this.config.poll+'"]').eq(0);if(!_.length)return _r_();r&&(t=_.data("componentInstanceFeedbackBase"))&&t.render&&t.render(r),n.show(_,{customWrapperClassName:this.config.modalExtraClass+(" "+this.config.modalExtraClassCustom||""),topMargin:this.config.modalTopMargin,customMaskClassName:this.config.modalMaskExtraClass,hideCallBack:function(){_i_("3bb:d70cc8f4"),i.$el.trigger("feedbackInline_hideModal",{$feedbackForm:_}),i.triggerActionEvents("hideModal"),_r_()},hideBeforeCallBack:function(){_i_("3bb:bc2c01f7"),i.$el.trigger("feedbackInline_beforeHideModal",{$feedbackForm:_}),_r_()},bCanScroll:this.config.modalCanScroll,preventBodyScroll:this.config.modalPreventBodyScroll}),_.off(".feedbackInline").on("click.feedbackInline","[data-close]",function(){_i_("3bb:70046991"),n.hide(),_r_()}).on("click.feedbackInline",'[data-action~="submit"]',function(){_i_("3bb:52ad58e5"),i.$el.trigger("feedbackInline_submitModal"),i.triggerActionEvents("submitModal",{$modal:_}),e.data("hideOnModalSubmit")&&i.action_hide(),_r_()}).on("feedbackBase_resize",function(){_i_("3bb:78825520"),n.rePosition({preserveAbsolute:!0}),_r_()}),i.config.autoFocus&&_.find("input:visible, textarea:visible").first().focus(),i.$el.trigger("feedbackInline_showModal"),i.triggerActionEvents("showModal",{$modal:_}),_r_()},action_extraForm:function(e){_i_("3bb:b91183ca");var t,i=this,n=e.data("showForm"),a=o(n||'.feedback-loop-extra[data-poll="'+this.config.poll+'"]');if(!a.length)return _r_();a.data("tmplName")&&(a=this.replaceWithJsTmpl(a)).addClass("feedback-loop-extra").attr("data-poll",this.config.poll),e.data("extraFormAnimated")?a.slideDown(300):a.show(),this.config.autoFocus&&setTimeout(function(){_i_("3bb:3d81a8ff"),a.find("input:text:visible,textarea:visible").focus(),_r_()},50),this.$el.trigger("feedbackInline_showExtra"),a.find('[data-action~="close"],[data-close]').off(".feedbackInline").on("click.feedbackInline",function(){_i_("3bb:fcdcf62d"),i.$el.trigger("feedbackInline_hideExtra"),e.data("showOnCancel")&&!t?i.$el.show():e.data("hideOnExtraClose")&&i.action_hide(),_r_()}).end().find('[data-action~="submit"]').off(".feedbackInline").on("click.feedbackInline",function(){_i_("3bb:c886f54b"),t=!0,e.data("hideOnExtraSubmit")&&i.action_hide(),i.$el.trigger("feedbackInline_submitExtra"),i.triggerActionEvents("submitExtra",{$extraForm:a}),_r_()}),_r_()},action_hide:function(e){_i_("3bb:199b9109");var t=this,i=e?e.data("hideDelay"):null,n=e?e.data("hideAnimated"):null,a=function(){_i_("3bb:9052449d"),n?t.$el.slideUp(200):t.$el.hide(),t.config.hideClass&&t.$el.addClass(t.config.hideClass),_r_()};i?setTimeout(a,i):a(),_r_()},action_hideOther:function(e){_i_("3bb:22f931fe"),o('[data-component*="feedback-inline"][data-poll="'+this.config.poll+'"]').not(this.$el).hide(),_r_()},action_hideForeign:function(e){_i_("3bb:8bfe7520");var t=(e.data("hideForeign")||"").split(/\s+/);t.length&&o.each(t,function(e,t){_i_("3bb:5f346003"),t&&o('[data-component*="feedback-inline"][data-poll="'+t+'"]').hide(),_r_()}),_r_()},action_showView:function(e){_i_("3bb:682b0ccb");var n=this,a=e.data("showView"),t=this.$el.find("[data-view]"),r=t.filter('[data-view="'+a+'"]').data("viewAnimated");t.each(function(){_i_("3bb:129d638c");var e=o(this),t=e.data("view"),i=e.is(":visible");t!==a||i?t!==a&&i&&(r?e.slideUp(200):e.hide()):r?(n.$el.css({overflow:"hidden",height:n.$el.height()}),e.slideDown(300,function(){_i_("3bb:13b8c923"),n.$el.css({overflow:"",height:""}),_r_()}),o(".inline-feedback__hidden").focus()):e.show(),_r_()}),_r_()},action_trackGaEvent:function(e){_i_("3bb:5b4052cd");var t,i=(e.data("feedbackGaEvent")||"").split("|"),n={nonInteraction:!0};"www"!==l.env.b_site_type&&"mdot"!==l.env.b_site_type||(t=s("ga-tracker")),2<=i.length&&(n.type=i[0],n.action=i[1]||"",n.label=i[2]||"",void 0!==i[3]&&(n.value=i[3])),t&&t.trackEvent&&n.type&&n.action&&n.label&&t.trackEvent(n.type,n.action,n.label,n.value),_r_()},replaceWithJsTmpl:function(e){_i_("3bb:e07a2005");var t=e.data(),n={poll_id:this.config.poll},i="",a=e;return l.jstmpl&&t.tmplName&&(o.each(t,function(e,t){_i_("3bb:188ac3e4");var i=e.match(/^tmplData(.+)$/);i&&i[1]&&(n[String(i[1]).toLowerCase()]=t),_r_()}),o.isPlainObject(t.tmplData)&&o.extend(n,t.tmplData),i=l.jstmpl(t.tmplName).render(n)),i&&(a=o(i),e.replaceWith(a),a.loadComponents()),_r_(a)},setupComponent:function(){_i_("3bb:4feb1c29"),o.extend(this.config,this.$el.data()),_r_()},getModel:function(){_i_("3bb:50979ab4");var e=this.$el.find("[data-view]:visible"),i={url:window.location.href,action:window.booking&&window.booking.env&&window.booking.env.b_action,poll:this.config.poll};return e.length||(e=this.$el),e.find("[data-model]").each(function(){_i_("3bb:cae24094");var e=o(this),t=e.data();!t.hasOwnProperty("modelValue")&&t.model&&(i[t.model]=e.val()),_r_()}),_r_(i)},triggerActionEvents:function(e,t){_i_("3bb:b886f9dc");var i=o.extend({feedbackInline:this},t||{});n&&e&&(n.emit("feedbackInline:"+e,i),this.config.poll&&n.emit("feedbackInline:"+e+":"+this.config.poll,i)),_r_()}}),_r_()}),_r_()}(window.booking),B.define("component/bp/guest-details-form/guest_pii",function(e,t,i){_i_("3bb:cf1fd5d1");var n=e("component"),a=e("bp/validatable-field"),r=e("bp/store"),_=Object.assign({},a);_.init=function(){_i_("3bb:ffdadaa3");var i=this.$el.find("input");this.props={},this.props.name=i.attr("name"),this.$el.find(":checkbox").on("change",function(e){var t;_i_("3bb:f2b92ccc"),t=$(e.target).prop("checked")?["address1","city","zip","cc1"].map(function(e,t){_i_("3bb:6b0c5bbe");var i=$("#"+e),n=i.is("select")?i.find(":selected").text():i.val();return _r_(n?(t?", ":"")+n:"")}).join(""):"",i.val(t).trigger("blur"),r.dispatch({type:"UPDATE_MAIN_FORM",payload:{key:this.props.name,value:t}}),_r_()}.bind(this)),r.subscribe(this.render.bind(this)),_r_()},_.render=function(e,t){_i_("3bb:e43ed90815"),this.renderValidation(e,t),_r_()},i.exports=n.extend(_),_r_()}),B.bp={},B.bp.bs2={},B.bp.bs3={},B.bp.emitter=B.require("bp/emitter"),B.define("component/booking-process/property-details/address",function(e,t,i){"use strict";_i_("3bb:114628f1");var n=e("component"),a=e("events"),r=e("jstmpl").translations,_={};function s(e){_i_("3bb:5896993d");var t=window.BUI.createInstance("Toast");t.mount(),t.show({text:r("bp_property_address_copied_tooltip")}),_r_()}_.init=function(e){if(_i_("3bb:29161668"),_i_("3bb:b87451d5"),!_r_(Boolean(document.queryCommandSupported)&&Boolean(document.queryCommandSupported("copy"))))return _r_();this.bindEvents(),_r_()},_.bindEvents=function(){_i_("3bb:6b8d16ba"),a.on("CLIPBOARD.copy_success",s),_r_()},i.exports=n.extend(_),_r_()}),B.define("component/booking-process/special-requests",function(e,t,i){"use strict";_i_("3bb:e5a759b1");var n=e("component"),a={},r=function(e){_i_("3bb:cda84473"),this.isDirty=!0,_r_()},_=function(e){_i_("3bb:05697199");this.$textarea.animate({height:136},250),_r_()},s=function(e){if(_i_("3bb:fafc4e30"),this.isDirty)return _r_();this.$textarea.animate({height:this.initialHeight},250),_r_()};a.init=function(e){if(_i_("3bb:89b5a2a2"),this.$textarea=this.$el.find(".js-special-requests__requests"),!this.$textarea.length)return _r_();this.isDirty=!1,this.initialHeight=this.$textarea.outerHeight(),r=r.bind(this),_=_.bind(this),s=s.bind(this),this.bindEvents(),_r_()},a.bindEvents=function(){_i_("3bb:e472e2ac"),this.$textarea.on("focus",_),this.$textarea.on("blur",s),this.$textarea.one("change",r),_r_()},i.exports=n.extend(a),_r_()}),B.bp.Main=function(){_i_("3bb:5d6f2c8f"),this.model_=B.bp.Main.getModel(),this.initMainController_(),this.attachEvents_(),_r_()},B.bp.Main.getModel=function(){_i_("3bb:6aede1be");var e=B.env.b_stage;if(2===e)return _r_(B.bp.bs2.Model.getInstance());if(3===e)return _r_(B.bp.bs3.Model.getInstance());throw Error("BP. Unknown bookprocess stage: "+e)},B.bp.Main.prototype.initMainController_=function(){_i_("3bb:0eb37dfd"),2===this.model_.getStage()?new B.bp.bs2.MainController:3===this.model_.getStage()&&new B.bp.bs3.MainController,_r_()},B.bp.Main.prototype.attachEvents_=function(){_i_("3bb:affd7d2a"),$(window).bind({unload:$.noop}),_r_()},$(document).ready(function(){_i_("3bb:7bc28956"),new B.bp.Main,_r_()}),B.bp.AbstractModel=function(){_i_("3bb:c36818d1"),this.rawData=this.initRawData_(),this.dataParser_=new B.bp.AbstractModel.Parser(this.rawData),this.wasFormPrefilledByBrowser_=this.dataParser_.parseIfFormWasPrefilledByBrowser(),this.fieldViews_={},this.setFormWasRendered_(),_r_()},B.bp.AbstractModel.Url={VALIDATE:"/validate",EMAIL_DOMAINS_SPELLING:"/email_domains_spelling",DELETE_STORED_CC:"/delete_cc_card"},B.bp.AbstractModel.EventType={MAIN_FORM_SUBMIT:"main_form_submit",FIELD_VALIDATION:"field_validation"},B.bp.AbstractModel.FieldValidationEvent=function(e,t,i,n){_i_("3bb:56156e8a"),this.type=B.bp.AbstractModel.EventType.FIELD_VALIDATION,this.valid=e,this.fieldName=t,this.fullValidationData=i,this.uiFieldName=n||null,_r_()},B.bp.AbstractModel.FieldName={CUSTOMER_TITLE:"customer_title",FIRST_NAME:"firstname",LAST_NAME:"lastname",EMAIL:"email",EMAIL_CONFIRM:"email_confirm",STREET:"address1",CITY:"city",ZIP:"zip",COUNTRY:"cc1",PHONE:"phone",VAT_NUMBER:"vat_number",COMPANY_NAME:"company_name",CC_TYPE:"cc_type",CC_NUMBER:"cc_number",CC_NAME:"cc_name",CC_EXPIRATION_DATE:"cc_expiry_date",CC_CVC:"cc_cvc",VISIT_REASON:"reason_to_visit"},B.bp.AbstractModel.Hotel,B.bp.AbstractModel.prototype.getRawData=function(){return _i_("3bb:b0b0a8aa"),_r_(this.rawData)},B.bp.AbstractModel.prototype.getStage=function(){return _i_("3bb:339cb9d9"),_r_(B.tools.object.getByName("stage",this.rawData))},B.bp.AbstractModel.prototype.getInterval=function(){return _i_("3bb:cd5a2309"),_r_(B.tools.object.getByName("interval",this.rawData))},B.bp.AbstractModel.prototype.wasFormPrefilledByBrowser=function(){return _i_("3bb:c0b6ba3b"),_r_(this.wasFormPrefilledByBrowser_)},B.bp.AbstractModel.prototype.isAltPaymentEnabled=function(){return _i_("3bb:580b58ef"),_r_(!0===this.rawData.altPaymentEnabled)},B.bp.AbstractModel.prototype.isAuthLevelHigh=function(){return _i_("3bb:94e5d542"),_r_(1===B.env.b_user_auth_level_is_high)},B.bp.AbstractModel.prototype.isAuthLevelLow=function(){return _i_("3bb:0c0b0a8d"),_r_(1===B.env.b_user_auth_level_is_low)},B.bp.AbstractModel.prototype.isAuthLevelNone=function(){return _i_("3bb:f52e5143"),_r_(!this.isAuthLevelHigh()&&!this.isAuthLevelLow())},B.bp.AbstractModel.prototype.isTdotTraffic=function(){return _i_("3bb:ec19d82f"),_r_(1===B.env.b_is_tdot_traffic)},B.bp.AbstractModel.prototype.haveServerValidationErrors=function(){return _i_("3bb:b73ad996"),_r_(!0===this.rawData.serverValidationErrors)},B.bp.AbstractModel.prototype.registerFieldView=function(e,t){if(_i_("3bb:f6cf830d"),this.fieldViews_[e])throw Error("Field view with name="+e+" already exists");this.fieldViews_[e]=t,_r_()},B.bp.AbstractModel.prototype.doesFieldViewExist=function(e){_i_("3bb:e2c1c519");var t=this.fieldViews_[e];return _r_(Boolean(t))},B.bp.AbstractModel.prototype.getFieldViewByName=function(e){_i_("3bb:ea521eab");var t=this.fieldViews_[e];if(!t)throw Error("Field view with name="+e+" doesn't exist");return _r_(t)},B.bp.AbstractModel.prototype.shouldWeHideCvcOnValidation=function(e){return _i_("3bb:80f5c6ed"),_r_(e.fieldName===B.bp.AbstractModel.FieldName.CC_TYPE&&e.fullValidationData.cc_type_amex&&1===e.fullValidationData.hamexc)},B.bp.AbstractModel.prototype.initRawData_=getRawDataProvider(),B.bp.AbstractModel.prototype.setFormWasRendered_=function(){_i_("3bb:d0be1692"),this.dataParser_.formWasRenderedHiddenInput_.val("1"),_r_()},B.bp.AbstractModel.Parser=function(e){_i_("3bb:778af038"),this.rawData_=e,this.formWasRenderedHiddenInput_=$("#bookForm").find("input:hidden[name=form_was_rendered]"),_r_()},B.bp.AbstractModel.Parser.parseSimpleStringField=function(e,t,i){_i_("3bb:9f0b2b39");var n=B.require("jquery"),a=B.tools.object.getByName(t,e);return goog.isString(a)?_r_(n.trim(a)):_r_(void 0!==i?i:null)},B.bp.AbstractModel.Parser.prototype.parseIfFormWasPrefilledByBrowser=function(){return _i_("3bb:134dcbcd"),_r_("1"===this.formWasRenderedHiddenInput_.val())},B.bp.AbstractMainController=function(){_i_("3bb:30b04146"),this.root=$("form#bookForm").eq(0),this.pageRoot=$(".js-booking-process__container"),this.model=B.bp.Main.getModel(),this.initAbstractControllers_(),this.attachAbstractEvents_(),_r_()},B.bp.AbstractMainController.prototype.initAbstractControllers_=function(){_i_("3bb:d96ad9ae"),new B.bp.FormDoubleSubmitPreventer(this.root),new B.bp.DoubleBookingWarning,_r_()},B.bp.AbstractMainController.prototype.attachAbstractEvents_=function(){},B.bp.AbstractField=function(e,t,i,n){_i_("3bb:568f7b57"),this.name=e,this.label=t,this.input=i,this.errorTextHolder=n,this.status=this.getInitialStatus_(),this.lastValidationXhr=null,this.registerItselfInModel_(),_r_()},B.bp.AbstractField.Status={NEUTRAL:1,VALID:2,INVALID:3},B.bp.AbstractField.prototype.getName=function(){return _i_("3bb:8b1def91"),_r_(this.name)},B.bp.AbstractField.prototype.getValue=goog.abstractMethod,B.bp.AbstractField.prototype.getLabel=function(){return _i_("3bb:60b26d02"),_r_(this.label)},B.bp.AbstractField.prototype.getInput=function(){return _i_("3bb:203f5106"),_r_(this.input)},B.bp.AbstractField.prototype.getStatus=function(){return _i_("3bb:bcb760d6"),_r_(this.status)},B.bp.AbstractField.prototype.makeNeutral=function(){if(_i_("3bb:6f46f665"),this.status===B.bp.AbstractField.Status.NEUTRAL)return _r_();this.status=B.bp.AbstractField.Status.NEUTRAL,this.label.removeClass("val-yes").removeClass("val-no"),this.errorTextHolder.removeClass("pay-error--visible").html(""),_r_()},B.bp.AbstractField.prototype.makeValid=function(){if(_i_("3bb:0d763241"),this.status===B.bp.AbstractField.Status.VALID)return _r_();this.status=B.bp.AbstractField.Status.VALID,this.label.removeClass("val-no").addClass("val-yes"),this.errorTextHolder.removeClass("pay-error--visible").html(""),_r_()},B.bp.AbstractField.prototype.makeInvalid=function(e){_i_("3bb:279addef"),this.status=B.bp.AbstractField.Status.INVALID,this.label.removeClass("val-yes").addClass("val-no"),void 0!==e&&this.errorTextHolder.html(e).addClass("errorSimpleMsg").addClass("pay-error--visible"),_r_()},B.bp.AbstractField.prototype.show=function(){_i_("3bb:bd4aa593"),this.label.show(),this.errorTextHolder.show(),_r_()},B.bp.AbstractField.prototype.hide=function(){_i_("3bb:a44ef78f"),this.label.hide(),this.errorTextHolder.hide(),_r_()},B.bp.AbstractField.prototype.validate=B.tools.abstractMethod,B.bp.AbstractField.prototype.validateLocally=function(e){_i_("3bb:50cdfcc1");var t=""!==this.getValue();this.onValidationSuccess_(t,this.name,void 0,e),_r_()},B.bp.AbstractField.prototype.validateOnServer=function(_){_i_("3bb:dada0a6e");var s=this;this.lastValidationXhr=$.ajax({type:"post",url:B.bp.AbstractModel.Url.VALIDATE,data:this.getDataForServerValidation_(),cache:!1,success:function(e,t,i){if(_i_("3bb:02928e8c"),i===s.lastValidationXhr){var n=$.parseJSON(e),a=n.error,r=!a;s.onValidationSuccess_(r,n.field,a,_,n)}_r_()}}),_r_()},B.bp.AbstractField.prototype.getNameForServerValidation=function(){return _i_("3bb:8b1def911"),_r_(this.name)},B.bp.AbstractField.prototype.getValueForServerValidation=function(){return _i_("3bb:b73138ec"),_r_(escape(this.getValue()))},B.bp.AbstractField.prototype.getExtraDataForServerValidation=function(){return _i_("3bb:b5954b79"),_r_(null)},B.bp.AbstractField.prototype.registerItselfInModel_=function(){_i_("3bb:bccfd1d6"),B.bp.Main.getModel().registerFieldView(this.name,this),_r_()},B.bp.AbstractField.prototype.getInitialStatus_=function(){return _i_("3bb:f549890a"),this.label.hasClass("val-yes")?_r_(B.bp.AbstractField.Status.VALID):this.label.hasClass("val-no")?_r_(B.bp.AbstractField.Status.INVALID):_r_(B.bp.AbstractField.Status.NEUTRAL)},B.bp.AbstractField.prototype.getDataForServerValidation_=function(){_i_("3bb:f1b266ce");var e=$(this.input).data("espev")?$(this.input).data("espev"):"",t=$(this.input).data("espev")?booking.jstmpl.translations("loc_instalments_card_check"):"",i={field:this.getNameForServerValidation(),value:this.getValueForServerValidation(),lang:B.env.b_lang_for_url,sid:B.env.b_sid,pvid:B.env.pageview_id,aid:B.env.b_aid,hcc:B.env.b_countrycode,espev:e,espevt:t};return $.extend(i,this.getExtraDataForServerValidation()),_r_(i)},B.bp.AbstractField.prototype.onValidationSuccess_=function(e,t,i,n,a){_i_("3bb:26f6fdf8");var r=i||"";e?this.makeValid():this.makeInvalid(r);var _=a||{},s=new B.bp.AbstractModel.FieldValidationEvent(e,t,_,this.name);setTimeout(function(){_i_("3bb:ba26f913"),$(B.bp.Main.getModel()).trigger(s),B.require("bp/emitter").trigger("field_validation:"+t,{fieldName:t,valid:e,fullValidationData:_}),goog.isFunction(n)&&n(s),_r_()},0),_r_()},B.bp.UserValidatingField=function(e,t){if(_i_("3bb:9b78ede7"),!B.bp.UserValidatingField.canInitialize(e))throw Error("B.bp.UserValidatingField instance can't be created for field name=`"+e+"`. This field doesn't exist in DOM.");goog.base(this,e,$("#label_"+e),$("#"+e),$("#error_"+e)),this.simpleLocalValidation_=t||!1,this.validationTimeout_=0,this.attachEvents0_(),_r_()},goog.inherits(B.bp.UserValidatingField,B.bp.AbstractField),B.bp.UserValidatingField.canInitialize=function(e){return _i_("3bb:b34c0299"),_r_(0!==$("#"+e).length)},B.bp.UserValidatingField.prototype.getValue=function(){return _i_("3bb:adb35f03"),_r_(this.input.val())},B.bp.UserValidatingField.prototype.validate=function(){_i_("3bb:813d51ae"),clearTimeout(this.validationTimeout_),this.validationTimeout_=setTimeout($.proxy(this.doValidation,this),50),_r_()},B.bp.UserValidatingField.prototype.doValidation=function(){_i_("3bb:7f954a80"),this.simpleLocalValidation_?this.validateLocally():this.validateOnServer(),_r_()},B.bp.UserValidatingField.prototype.attachEvents0_=function(){var e;if(_i_("3bb:67206157"),e=this.input.is("select")?"change":"change blur",this.input.is(".no-validation"))return _r_(!0);this.input.bind(e,$.proxy(this.validate,this)),_r_()},window.popup_ccfaq=function(e){return _i_("3bb:f7f29f9d"),window.open(e,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=500,height=300,left=200,top=200"),_r_(!1)},window.popup_cancel_big=function(e){return _i_("3bb:2259ce81"),window.open(e,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=800,height=500,left=200,top=200"),_r_(!1)},window.popup_cancel_bigish=function(e){return _i_("3bb:1663f3c5"),window.open(e,"","toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=yes,resizable=1,width=600,height=580,left=200,top=200"),_r_(!1)},window.popup=function(e,t,i){_i_("3bb:d3c2a3d3");var n=window.open(e,"popupWindow","width="+t+",height="+i+",menubar=yes,toolbar=yes,location=no,bookmarks=no,status=yes,scrollbars=yes,resizable=yes");window.focus&&n.focus(),_r_()},B.bp.DoubleBookingWarning=function(){_i_("3bb:7762d88d"),this.root_=$(".top-warning__m-type-double-booking"),this.hideLink_=this.root_.find(".top-warning-double-booking-warning-hide-link"),this.attachEvents_(),_r_()},B.bp.DoubleBookingWarning.prototype.attachEvents_=function(){_i_("3bb:0483ed80"),this.hideLink_.click($.proxy(this.hideBlock_,this)),_r_()},B.bp.DoubleBookingWarning.prototype.hideBlock_=function(){_i_("3bb:0657b0ed"),this.root_.slideUp(),_r_()},B.bp.FormDoubleSubmitPreventer=function(e){_i_("3bb:4f3287c9"),this.root_=e,this.model=B.bp.Main.getModel(),this.submitted_=!1,this.attachEvents_(),_r_()},B.bp.FormDoubleSubmitPreventer.SUBMITTED_CLASS="form_is_submitted",B.bp.FormDoubleSubmitPreventer.prototype.attachEvents_=function(){_i_("3bb:dee7fa90"),this.root_.submit($.proxy(this.rememberOrPreventDoubleSubmit_,this)),_r_()},B.bp.FormDoubleSubmitPreventer.prototype.rememberOrPreventDoubleSubmit_=function(e){_i_("3bb:334851da"),this.submitted_&&!B.bp.utils.isFormSubmittedProgramatically(e)||this.root_.attr("data-disabled")?e.preventDefault():(this.submitted_=!0,this.root_.addClass(B.bp.FormDoubleSubmitPreventer.SUBMITTED_CLASS),$(this.model).trigger(B.bp.AbstractModel.EventType.MAIN_FORM_SUBMIT)),_r_()},B.bp.HotelAddress=function(e){if(_i_("3bb:e1639397"),this.root_=e,0===this.root_.length)return _r_();this.model_=B.bp.Main.getModel(),this.headerText_=this.root_.find(".hotel-address-text"),this.mapHtml_,this.mapUrl_,this.tooltipAdditionalClasses_=this.root_.data("tooltip-additional-classes")||"",this.initMapHtmlAndUrl_(),this.mapHtml_&&this.mapUrl_&&(this.initTooltip_(),this.preloadMap_()),_r_()},B.bp.HotelAddress.prototype.initMapHtmlAndUrl_=function(){_i_("3bb:c608f83c");var e=$("<div />");e.html(this.root_.data("map-html"));var t=e.find("#b_google_map_thumbnail"),i=t.data("map");i&&(i=this.preprocessUrl_(i),t.css("background-image","url("+i+")"),this.mapHtml_=e.html(),this.mapUrl_=i),_r_()},B.bp.HotelAddress.prototype.initTooltip_=function(){_i_("3bb:17ada92d"),this.headerText_[0].tooltipText=this.mapHtml_,this.headerText_.tooltip({track:!0,fade:250,extraClass:"hotel-address-map-tooltip "+this.tooltipAdditionalClasses_}),_r_()},B.bp.HotelAddress.prototype.preloadMap_=function(){_i_("3bb:e7043c64"),B.bp.utils.preloadImage(this.preprocessUrl_(this.mapUrl_)),_r_()},B.bp.HotelAddress.prototype.preprocessUrl_=function(e){return _i_("3bb:5af05769"),_r_(e.replace("http://","//"))},B.bp.utils={},B.bp.utils.throwError=function(e,t){throw _i_("3bb:3f83e4a0"),t||B.bp.utils.logError(e),Error(e)},B.bp.utils.logError=function(e){_i_("3bb:9555f0b2"),"function"==typeof window.onerror&&window.onerror(e,"",0),_r_()},B.bp.utils.preloadImage=function(e){_i_("3bb:8aed3c58");var t=new Image;t.onload=$.noop,t.src=e,_r_()},B.bp.utils.FormSubmitEvent=function(e){_i_("3bb:5ce91e8a"),this.type="submit",this.programmatical=e,_r_()},B.bp.utils.submitFormProgrammatically=function(n,a){_i_("3bb:41c5615b"),a&&Object.keys(a).forEach(function(e){_i_("3bb:0a028f03");var t=a[e],i=$('<input type="hidden" />');i.attr({name:e,value:t}),n.append(i),_r_()}),n.trigger(new B.bp.utils.FormSubmitEvent(!0)),_r_()},B.bp.utils.isFormSubmittedProgramatically=function(e){return _i_("3bb:236a53c3"),_r_("submit"===e.type&&e.programmatical)},B.bp.RLUController=function(){_i_("3bb:321e111c"),this.initRLUController_(),_r_()},B.bp.RLUController.prototype.initRLUController_=function(){_i_("3bb:0b188f66");var e=B.require("server-data"),t=B.require("bp/leaving-users-keeper");e.isRLUEnabled&&t.init({modalTemplateSelector:"#bp_leaving_users"}),_r_()},B.bp.bs2.Model=function(){_i_("3bb:94521305"),goog.base(this),this.parser_=new B.bp.bs2.Model.Parser(this.getRawData()),this.customerFirstName_=this.parser_.parseCustomerFirstName(),this.companyAttached_=this.parser_.parseCompanyAttached(),this.travelPurpose_=this.parser_.parseTravelPurpose(),this.rooms_=this.parser_.parseRooms(),_r_()},goog.inherits(B.bp.bs2.Model,B.bp.AbstractModel),goog.addSingletonGetter(B.bp.bs2.Model),B.bp.bs2.Model.EventType={CUSTOMER_FIRST_NAME_CHANGE:"customer_first_name_change",CUSTOMER_LAST_NAME_CHANGE:"customer_last_name_change",TRAVEL_PURPOSE_CHANGE:"travel_purpose_change",VISIT_REASON_CHANGE:"visit_reason_change",EMAIL_CHANGE:"email_change",EMAIL_CONFIRM_CHANGE:"email_confirm_change",TOTAL_RECALCULATION_FORCE:"total_recalculation_force"},B.bp.bs2.Model.TravelPurpose={LEISURE:"leisure",BUSINESS:"business"},B.bp.bs2.Model.Room,B.bp.bs2.Model.prototype.getCustomerFirstName=function(){return _i_("3bb:137b10e1"),_r_(this.customerFirstName_)},B.bp.bs2.Model.prototype.setCustomerFirstName=function(e){_i_("3bb:97a04910"),e!==this.customerFirstName_&&(this.customerFirstName_=e,$(this).trigger(B.bp.bs2.Model.EventType.CUSTOMER_FIRST_NAME_CHANGE)),_r_()},B.bp.bs2.Model.prototype.getCompanyAttached=function(){return _i_("3bb:25931ce5"),_r_(this.companyAttached_)},B.bp.bs2.Model.prototype.getTravelPurpose=function(){return _i_("3bb:a711b1db"),_r_(this.travelPurpose_)},B.bp.bs2.Model.prototype.getVisitReason=function(){return _i_("3bb:1e44e8e5"),_r_(this.visitReason_)},B.bp.bs2.Model.prototype.setVisitReason=function(e){_i_("3bb:bf95310d");var t=e;if(""===t&&(t=null),t===this.visitReason_)return _r_();this.visitReason_=t,$(this).trigger(B.bp.bs2.Model.EventType.VISIT_REASON_CHANGE),_r_()},B.bp.bs2.Model.prototype.setTravelPurpose=function(e){_i_("3bb:799b9083"),e!==this.travelPurpose_&&(this.travelPurpose_=e,$(this).trigger(B.bp.bs2.Model.EventType.TRAVEL_PURPOSE_CHANGE)),_r_()},B.bp.bs2.Model.prototype.getRoomById=function(e){_i_("3bb:2f0e1470");for(var t=null,i=0,n=this.rooms_.length;i<n;i++)if(this.rooms_[i].id===e){t=B.tools.object.clone(this.rooms_[i]);break}return _r_(t)},B.bp.bs2.Model.prototype.getRooms=function(){return _i_("3bb:b7c9d606"),_r_(this.rooms_)},B.bp.bs2.Model.prototype.forceTotalRecalculation=function(){_i_("3bb:a10f90bb"),$(this).trigger(B.bp.bs2.Model.EventType.TOTAL_RECALCULATION_FORCE),_r_()},B.bp.bs2.Model.prototype.isRetainLeavingUsersAvailable=function(){return _i_("3bb:d1958480"),_r_(!0===this.rawData.retainLeavingUsersAvailable)},B.bp.bs2.Model.Parser=function(e){_i_("3bb:f249fe14"),this.rawData_=e,_r_()},B.bp.bs2.Model.Parser.prototype.parseRooms=function(){_i_("3bb:3f69ac94");var e=this.rawData_.rooms;if("array"!==$.type(e))throw Error("Raw data must contain array member `rooms`. Found: "+e);for(var t=[],i=0,n=e.length;i<n;i++)t.push(this.parseOneRoom(e[i]));return _r_(t)},B.bp.bs2.Model.Parser.prototype.parseOneRoom=function(e){_i_("3bb:5cc00270");var t=e.id;if("number"!==$.type(t))throw Error("Room must contain number member `id`. Found: "+t);var i=null;e.removeRoomConfirmMessage&&(i=e.removeRoomConfirmMessage.replace(/\\n/g,"\n"));var n=[];if(e.size150)for(var a=0,r=e.size150.length;a<r;a++){var _=e.size150[a];if("string"!==$.type(_))throw Error("Room must contain `size150` Array.<string> member. Found: "+e.size150);n.push(_)}var s=[];if(e.size300)for(var o=0,l=e.size300.length;o<l;o++){var c=e.size300[o];if("string"!==$.type(c))throw Error("Room must contain `size300` Array.<string> member. Found: "+e.size300);s.push(c)}var d=[];if(e.size600)for(o=0,r=e.size600.length;o<r;o++){var b=e.size600[o];if("string"!==$.type(b))throw Error("Room must contain `size600` Array.<string> member. Found: "+e.size600);d.push(b)}var p=[];if(e.size1280)for(o=0,r=e.size1280.length;o<r;o++){var u=e.size1280[o];if("string"!==$.type(u))throw Error("Room must contain `size1280` Array.<string> member. Found: "+e.size1280);p.push(u)}var h=null;return e.detailsHtml&&(h=e.detailsHtml),_r_({id:t,removeConfirmMessage:i,photos:{size150:n,size300:s,size600:d,size1280:p},detailsHtml:h,bRoomId:e.bRoomId,roomNr:e.roomNr,maxPersons:e.maxPersons})},B.bp.bs2.Model.Parser.prototype.parseCustomerFirstName=function(){return _i_("3bb:92f7e8b6"),_r_(this.parseFieldWithDomFallback_("customerFirstName","#firstname"))},B.bp.bs2.Model.Parser.prototype.parseCompanyAttached=function(){_i_("3bb:a0c387d4");var e=B.tools.object.getByName("companyAttached",this.rawData_);return goog.isBoolean(e)?_r_(e):_r_(!1)},B.bp.bs2.Model.Parser.prototype.parseTravelPurpose=function(){_i_("3bb:4f2e3690");var e=this.parseFieldWithDomFallback_("travelPurpose",".js-purpose :radio:checked");return _r_("leisure"===e?B.bp.bs2.Model.TravelPurpose.LEISURE:"business"===e?B.bp.bs2.Model.TravelPurpose.BUSINESS:null)},B.bp.bs2.Model.Parser.prototype.parseFieldWithDomFallback_=function(e,t){_i_("3bb:0a733776");var i=B.bp.AbstractModel.Parser.parseSimpleStringField(this.rawData_,e);if(null===i||""===i){var n=$(t).val();i=n||""}return _r_(B.tools.string.htmlDecode(i))},B.bp.bs2.MainController=function(){_i_("3bb:e806b3ce"),goog.base(this),this.model,this.initControllers_(),_r_()},goog.inherits(B.bp.bs2.MainController,B.bp.AbstractMainController),B.bp.bs2.MainController.prototype.initControllers_=function(){_i_("3bb:632b53ec"),this.model.isAuthLevelHigh()||this.model.isTdotTraffic()||new B.bp.RLUController,new B.bp.bs2.LoginFormPositioner,B.bp.bs2.gtaSendAppCheckbox.init(),B.env.b_action_name_is_tpi_book||new B.bp.bs2.RoomsController,B.require("bp/env").get("reloadOnTravelPurposeChange")&&B.require("company/bp/reload-on-travel-purpose-change").init(),B.require("bp/env").get("hideOnTravelPurposeChange")&&B.require("company/bp/hide-budgets-on-travel-purpose-change").init(),_r_()},B.bp.bs2.AddonsController=function(e){if(_i_("3bb:967ac565"),B.events.Emitter.extend(this),this.root_=e,0===this.root_.length)return _r_();this.addons_=[],this.initAddons_(),_r_()},B.bp.bs2.AddonsController.prototype.initAddons_=function(){_i_("3bb:7d19ed6b");for(var e=this.root_.find(".uf_addon,.uf_addon_free"),t=0,i=e.length;t<i;t++){var n=new B.bp.bs2.AddonsController.Addon(e.eq(t));n.on("change",$.proxy(this.onAddonChange_,this)),this.addons_.push(n)}_r_()},B.bp.bs2.AddonsController.prototype.onAddonChange_=function(e){_i_("3bb:e44dd790"),this.trigger("ADDON:change",e),_r_()},B.bp.bs2.AddonsController.Addon=function(e){_i_("3bb:a51c6dcc"),B.events.Emitter.extend(this),this.root_=e,this.systemCheckbox_=this.root_.find(".uf_checkbox input:checkbox"),this.guestsSelector_=this.root_.find(".uf_guests .guests_addon"),this.nightsSelector_=this.root_.find(".uf_nights .nights_addon"),this.attachEvents_(),_r_()},B.bp.bs2.AddonsController.Addon.prototype.attachEvents_=function(){_i_("3bb:dc4e6493"),this.systemCheckbox_.bind("click",$.proxy(this.onCheckboxClick_,this)),this.guestsSelector_.bind("change",$.proxy(this.onSelectChange_,this)),this.nightsSelector_.bind("change",$.proxy(this.onSelectChange_,this)),_r_()},B.bp.bs2.AddonsController.Addon.prototype.broadcastAddonChange_=function(e,t){_i_("3bb:61456c6f");var i=e.find(".addon_price"),n=$.extend({changedByUser:!0},t);setTimeout($.proxy(function(){_i_("3bb:11377bc6"),this.trigger("change",{dom:e,instance:this,type:e.data("addon-type"),name:$.trim(e.find(".uf_addon_title").text()),hotelPrice:1*i.attr("price_hotel"),userPrice:1*i.attr("price"),roomId:e.closest(".bp-room").data("room-id"),isSelected:this.systemCheckbox_.is(":checked"),changedByUser:n.changedByUser}),_r_()},this),0),_r_()},B.bp.bs2.AddonsController.Addon.prototype.onCheckboxClick_=function(e){_i_("3bb:c5cef8d4"),this.broadcastAddonChange_(this.root_),_r_()},B.bp.bs2.AddonsController.Addon.prototype.onSelectChange_=function(e){_i_("3bb:c5cef8d41"),this.broadcastAddonChange_(this.root_),_r_()},B.bp.bs2.AddonsController.Addon.prototype.isExtraBed=function(){_i_("3bb:7c128e4f");var e=this.root_.data("addon-type");return _r_("extrabed"===e||"babycot"===e)},B.bp.bs2.GuestEmployeeList=function(e){_i_("3bb:18bfc1b1"),this.model_=B.bp.Main.getModel(),this.root_=e,this.employeeList_=this.root_.find(".js-guest-employee-list"),this.employeeLabelList_=this.root_.find(".guest-employee-label"),this.guestDetails_=this.root_.find(".guest-details"),this.employeeSelect_=this.employeeList_.find(".js-guest-employee-list-select"),this.employeeList_.length&&(this.attachEvents_(),this.travelPurposeChanged_()),_r_()},B.bp.bs2.GuestEmployeeList.prototype.attachEvents_=function(){_i_("3bb:49a774ed"),$(this.model_).bind(B.bp.bs2.Model.EventType.TRAVEL_PURPOSE_CHANGE,$.proxy(this,"travelPurposeChanged_")),_r_()},B.bp.bs2.GuestEmployeeList.prototype.travelPurposeChanged_=function(){_i_("3bb:277710c9"),this.model_.getTravelPurpose()==B.bp.bs2.Model.TravelPurpose.BUSINESS?(this.showList_(!1),this.employeeLabelList_.show()):(this.hideList_(!1),this.employeeLabelList_.hide()),_r_()},B.bp.bs2.GuestEmployeeList.prototype.showList_=function(e){_i_("3bb:49a4ef4d"),e&&e.preventDefault(),this.employeeList_.show(),this.employeeSelect_.removeAttr("disabled"),this.guestDetails_.hide(),_r_()},B.bp.bs2.GuestEmployeeList.prototype.hideList_=function(e){_i_("3bb:7492a74b"),e&&e.preventDefault(),this.employeeList_.hide(),this.employeeSelect_.attr("disabled",!0),this.guestDetails_.show(),_r_()},B.bp.bs2.LoginFormPositioner=function(){if(_i_("3bb:6816d2c1"),this.form_=$(".bp_login_form_auth_none"),0===this.form_.length)return _r_();this.formVisible_=this.isFormVisible_(),this.formOffsetParent_=this.form_.offsetParent(),this.formPlaceKeeper_=$(".bp_login_form_place_keeper"),this.formVisible_&&this.matchSizesAndPosition_(),this.attachEvents_(),_r_()},B.bp.bs2.LoginFormPositioner.prototype.attachEvents_=function(){_i_("3bb:310ea433");var e=this;B.eventEmitter.bind("user-access-menu:toggle",function(){_i_("3bb:21a7b723"),e.isFormVisible_()?e.onFormOpen_():e.onFormClose_(),_r_()}),$(window).resize($.proxy(this.matchSizesAndPosition_,this)),_r_()},B.bp.bs2.LoginFormPositioner.prototype.onFormOpen_=function(){if(_i_("3bb:2a23df66"),this.formVisible_)return _r_();this.formVisible_=!0,this.matchSizesAndPosition_(),this.startFormResizeMonitoring_(),_r_()},B.bp.bs2.LoginFormPositioner.prototype.onFormClose_=function(){if(_i_("3bb:555b5dcf"),!this.formVisible_)return _r_();this.formVisible_=!1,this.hideFormAndPlaceKeeper_(),this.stopFormResizeMonitoring_(),_r_()},B.bp.bs2.LoginFormPositioner.prototype.matchSizesAndPosition_=function(){_i_("3bb:d9a0e243"),this.matchSizes_(),this.matchPosition_(),_r_()},B.bp.bs2.LoginFormPositioner.prototype.matchSizes_=function(){if(_i_("3bb:09937263"),!this.formVisible_)return _r_();this.form_.width(this.formPlaceKeeper_.width()),this.formPlaceKeeper_.height(this.form_.height()),_r_()},B.bp.bs2.LoginFormPositioner.prototype.matchPosition_=function(){if(_i_("3bb:b6d5c514"),!this.formVisible_)return _r_();var e=B.tools.dom.getBlockOffset(this.formPlaceKeeper_,this.formOffsetParent_);this.form_.css({left:e.left,top:e.top}),_r_()},B.bp.bs2.LoginFormPositioner.prototype.hideFormAndPlaceKeeper_=function(){_i_("3bb:b174a45c"),this.form_.css({left:"",top:""}),this.formPlaceKeeper_.height(0),_r_()},B.bp.bs2.LoginFormPositioner.prototype.isFormVisible_=function(){return _i_("3bb:d3b2479b"),_r_(20<this.form_.height())},B.bp.bs2.LoginFormPositioner.prototype.startFormResizeMonitoring_=function(){_i_("3bb:cf5c5c31"),this.monitorTimer_=setInterval($.proxy(function(){_i_("3bb:dd3bd904"),this.matchSizesAndPosition_(),_r_()},this),50),_r_()},B.bp.bs2.LoginFormPositioner.prototype.stopFormResizeMonitoring_=function(){_i_("3bb:edab7c43"),clearInterval(this.monitorTimer_),_r_()},B.bp.bs2.RoomsController=function(){_i_("3bb:2685c75a"),this.root_=$(".js-card--unit-details-container"),this.rooms_=[],this.initRooms_(),_r_()},B.bp.bs2.RoomsController.prototype.initRooms_=function(){_i_("3bb:8bfcf1fd");for(var e=this.root_.find(".js-unit__container"),t=0,i=e.length;t<i;t++)this.rooms_.push(new B.bp.bs2.RoomsController.Room(e.eq(t)));_r_()},B.bp.bs2.RoomsController.Room=function(e){_i_("3bb:fdb7afcd"),B.events.Emitter.extend(this),this.root_=e,this.model_=B.bp.Main.getModel(),this.data_=this.getDataFromModel_(),this.removeButton_=this.root_.find(".bp_room_remove_link"),this.lightBox_=booking.lightbox,this.guestEmployeeList_=new B.bp.bs2.GuestEmployeeList(this.root_),this.addonsController_=this.initAddons_(),this.attachEvents_(),_r_()},B.bp.bs2.RoomsController.Room.prototype.getDataFromModel_=function(){_i_("3bb:c8769207");var e=B.tools.parseInt(this.root_.data("room-sequencial-id")),t=this.model_.getRoomById(e);if(null===t)throw Error(B.tools.string.substitute("Room with id=%s is not found",e));return _r_(t)},B.bp.bs2.RoomsController.Room.prototype.initAddons_=function(){_i_("3bb:1b845998");var e=this.root_.find(".uf_addons_container");if(0!==e.length)return _r_(new B.bp.bs2.AddonsController(e));_r_()},B.bp.bs2.RoomsController.Room.prototype.attachEvents_=function(){_i_("3bb:9d8c3797"),this.removeButton_.click($.proxy(this.askAndRemoveIfNeeded_,this)),_r_()},B.bp.bs2.RoomsController.Room.prototype.askAndRemoveIfNeeded_=function(e){_i_("3bb:5810d964"),!1===window.confirm(this.data_.removeConfirmMessage)&&e.preventDefault(),_r_()},booking.jstmpl("insurance_funnel_error",function(){_i_("3bb:ce18bfe7");var n,a=['\n    <div\n        class="bui-alert bui-alert--error bui-alert--large bui-u-bleed@small ',"bui-spacer--large",'"\n        data-component="bp/top-validation-errors"\n        role="alert"\n        id="insuranceFunnelError"\n    >\n        <span class="icon--hint bui-alert__icon" role="presentation">\n            ',"iconset/warning","24",'\n        </span>\n        <span class="invisible_spoken">',"/private/a11y_reader_error/name",'</span>\n        <div class="bui-alert__description">\n            <span class="bui-alert__title">\n                ',"/private/book_error_intro_message/name","\n            </span>\n            ",'\n                <a href="#firstname" class="bui-link bui-link--primary js-bp-ga__validation-personal__firstname">',"/private/bp_get_first_name/name","</a>\n            ","\n            ",'\n                <a href="#lastname" class="bui-link bui-link--primary js-bp-ga__validation-personal__lastname">',"/private/bp_get_last_name/name",'\n                <a href="#email" class="bui-link bui-link--primary js-bp-ga__validation-personal__email">',"/private/bp_get_email_address/name",'\n                <a href="#email_confirm" class="bui-link bui-link--primary js-bp-ga__validation-personal__email-confirm">',"/private/bp_get_confirm_email/name",'\n                <a href="#cc1" class="bui-link bui-link--primary js-bp-ga__validation-address__country">',"/private/bp_get_country/name","\n        </div>\n    </div>\n"],r=["fe_is_mdot","fe_error_firstname","fe_error_lastname","fe_error_email","fe_error_email_confirm","fe_error_country"];return _r_(function(e){_i_("3bb:af7cf279");var t="",i=this.fn;return t+=a[0],i.MJ(i.MB(r[0]))&&(t+=a[1]),t+=[a[2],(e.unshift({name:a[3],width:a[4]}),n=i.HELPER("icon",e[0]),e.shift(),n),a[5],i.ME(a[6],i.MB,i.MN,null),a[7],i.ME(a[8],i.MB,i.MN,null),a[9]].join(""),i.MD(r[1])&&(t+=[a[10],i.ME(a[11],i.MB,i.MN,null),a[12]].join("")),t+=a[13],i.MD(r[2])&&(t+=[a[14],i.ME(a[15],i.MB,i.MN,null),a[12]].join("")),t+=a[13],i.MD(r[3])&&(t+=[a[16],i.ME(a[17],i.MB,i.MN,null),a[12]].join("")),t+=a[13],i.MD(r[4])&&(t+=[a[18],i.ME(a[19],i.MB,i.MN,null),a[12]].join("")),t+=a[13],i.MJ(i.MB(r[0]))&&i.MJ(i.MB(r[5]))&&(t+=[a[20],i.ME(a[21],i.MB,i.MN,null),a[12]].join("")),t+=a[22],_r_(t)})}()),B.define("component/insurance-component",function(e,t,i){_i_("3bb:303d8369");var u,h,n=e("component"),a=e("server-data"),f=e("with-capla"),m=e("promise"),g=e("jquery"),M=e("jstmpl"),r=e("et"),v=null,y=null,C="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_MFE_RCI_READY",w="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_MFE_INSURANCE_FUNNEL_ENTERED",k="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_MFE_INSURANCE_ADDED",E="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_MFE_INSURANCE_OTHER_GUESTS_UPDATED",N="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_MFE_INSURANCE_REMOVED",x="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_MFE_SQUEAK_QUOTE_RECEIVED",S="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_MFE_SQUEAK_INSURANCE_RECEIVED",T="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_PARENT_SYSTEM_INSURANCE_DATA",D="CAPLA_EVENT_insurance-fe_room-cancellation-mfe_PARENT_SYSTEM_BOOKER_DATA",_="Server data",A="Personal info mismatch",j="Event bus subscription",I="Show invalid personal details alert";r.stage("febdSANFRWdZJNGeLHXT",1);try{h="1"===a.fe_bp_is_insurance_policy_holder_info_invalid,u=1==a.fe_is_mobile,v=u?null:e("bp/store"),y=u?e("data-validator"):null}catch(e){F(e,_)}function F(e,t){_i_("3bb:4cfcbbc6"),B&&B.reportError&&B.reportError(e,"[Insurance]: "+t),_r_()}var s=n.extend({init:function(){function i(i,n){return _i_("3bb:52355726"),_r_(function(e,t){_i_("3bb:132c2d46"),n(i,e,t),_r_()})}function n(e){_i_("3bb:f7ef9577"),B&&B.squeak&&B.squeak(e),_r_()}function e(t){return _i_("3bb:6f18d2b3"),_r_(new m(function(i,n){var e;_i_("3bb:f50ca049"),e=t,_i_("3bb:da36f467"),e.firstname.blur(),e.lastname.blur(),e.email.blur(),e.emailConfirm.blur(),_r_(),(_i_("3bb:e8f998cf"),_r_(new m(function(t,i){_i_("3bb:73e7dcd7");var n=10,a=setInterval(function(){_i_("3bb:33256df9");var e=v?v.getState():null;e&&e.validation&&e.validation.fields&&e.validation.fields.firstname&&e.validation.fields.lastname&&e.validation.fields.email&&e.validation.fields.email_confirm&&(clearInterval(a),t()),0===n&&(clearInterval(a),i({reason:"Validation not ended after 10 retries"})),n--,_r_()},250);_r_()}))).then(function(){_i_("3bb:bc16f153");var e=v.getState(),t=_(e&&e.validation);t.errors?n(t.errors):i(),_r_()}),_r_()}))}function a(n){return _i_("3bb:121726af"),_r_(new m(function(e,t){_i_("3bb:a7161c79");var i=_({fields:{firstname:r(["required"],n.firstname.val().trim()),lastname:r(["required"],n.lastname.val().trim()),email:r(["required","email"],n.email.val().trim()),country:r(["required"],n.country.val().trim())}});i.errors?(i.errors.firstname&&n.firstname.blur(),i.errors.lastname&&n.lastname.blur(),i.errors.email&&n.email.blur(),i.errors.country&&n.country.blur(),t(i.errors)):e(),_r_()}))}function r(e,t){_i_("3bb:450adf1d");for(var i=!0,n=0;n<e.length;n++){var a=e[n];if(!(i=y.validate(a,t)))break}return _r_({status:i?"valid":"invalid"})}function _(e){_i_("3bb:f4838ac0");var t={errors:null};return e.fields&&(s(e.fields,"firstname")||(t.errors=t.errors||{},t.errors.firstname=!0),s(e.fields,"lastname")||(t.errors=t.errors||{},t.errors.lastname=!0),s(e.fields,"email")||(t.errors=t.errors||{},t.errors.email=!0),s(e.fields,"email_confirm")||(t.errors=t.errors||{},t.errors.email_confirm=!0),s(e.fields,"country")||(t.errors=t.errors||{},t.errors.country=!0)),_r_(t)}function s(e,t){return _i_("3bb:fe8b68d7"),_r_(!e[t]||e[t]&&"valid"===e[t].status)}function o(e){_i_("3bb:203f9669");var t=function(){_i_("3bb:e3ad8da6");var e=Boolean(g("input[name=insurance_policy_added]").val()),t={insuranceAdded:e,bookProcessId:g("input[name=bpid]").val(),policyQuoteReference:g("input[name=insurance_policy_quote_reference]").val()};return e&&(t.policyHolderFirstName=g("input[name=insurance_policy_holder_first_name]").val(),t.policyHolderLastName=g("input[name=insurance_policy_holder_last_name]").val(),t.policyHolderEmail=g("input[name=insurance_policy_holder_email]").val(),t.policyHolderIsTravelling=g("input[name=insurance_policy_holder_is_travelling]").val(),t.currentLocation=g("input[name=insurance_policy_current_location]").val(),t.guestNames=g("input[name=insurance_policy_guest_names]").val()),_r_(t)}();e.publish(T,t),B&&B.env&&B.env.insurance_squeaks.mfe_ready&&n(B.env.insurance_squeaks.mfe_ready),_r_()}function l(t){_i_("3bb:bf95418d"),_i_("3bb:f72c0098"),g("#insuranceFunnelError").remove(),_r_(),(_i_("3bb:ff9c1875"),_r_(new m(function(t,i){_i_("3bb:c7bc1fd6");var n={firstname:g("input[id=firstname]"),lastname:g("input[id=lastname]"),email:g("input[id=email]"),emailConfirm:g("input[id=email_confirm]"),country:g("select[id=cc1]")};(u?a:e)(n).then(function(){_i_("3bb:328b9f2e");var e={firstname:n.firstname.val(),lastname:n.lastname.val(),email:n.email.val(),bookingForSelf:g("input[id=notstayer_false]").prop("checked")};u&&(e.country=n.country.val()),t(e),_r_()}).catch(function(e){_i_("3bb:d3d31b7c"),i(e),_r_()}),_r_()}))).then(function(e){_i_("3bb:aea18e1d"),t.publish(D,e),_r_()}).catch(function(e){_i_("3bb:94b53bb5"),function(e){_i_("3bb:c81ddde3");var t=0,i=M("insurance_funnel_error").render({fe_error_firstname:e.firstname,fe_error_lastname:e.lastname,fe_error_email:e.email,fe_error_email_confirm:e.email_confirm,fe_error_country:e.country,fe_is_mdot:u});try{if(u){var n=document.querySelector("#bookForm");g(i).insertBefore(n),t=Math.max(g(n).position().top-150,0)}else{var a=document.querySelector(".js-bp-validation-errors__container");a.innerHTML=i+a.innerHTML}}catch(e){F(e,I)}g("body, html").animate({scrollTop:t}),_r_()}(e),_r_()}),_r_()}function c(e,t,i){_i_("3bb:a2e53abb"),g("input[name=insurance_policy_holder_first_name]").val(i.policyHolderFirstName),g("input[name=insurance_policy_holder_last_name]").val(i.policyHolderLastName),g("input[name=insurance_policy_holder_email]").val(i.policyHolderEmail),g("input[name=insurance_policy_holder_is_travelling]").val(i.policyHolderIsTravelling?1:0),g("input[name=insurance_policy_current_location]").val(i.currentLocation),g("input[name=insurance_policy_added]").val(i.insuranceAdded?1:0),i.guestNames&&g("input[name=insurance_policy_guest_names]").val(JSON.stringify(i.guestNames)),p(),_r_()}function d(e,t,i){_i_("3bb:f4690110"),i.guestNames&&g("input[name=insurance_policy_guest_names]").val(JSON.stringify(i.guestNames)),_r_()}function b(){_i_("3bb:5601a5b9"),g("input[name=insurance_policy_holder_first_name]").val(""),g("input[name=insurance_policy_holder_last_name]").val(""),g("input[name=insurance_policy_holder_email]").val(""),g("input[name=insurance_policy_holder_is_travelling]").val(""),g("input[name=insurance_policy_current_location]").val(""),g("input[name=insurance_policy_guest_names]").val(""),g("input[name=insurance_policy_added]").val(""),p(),_r_()}function p(){_i_("3bb:2caebb5a"),g("input[name=stage]").val(1),g("form[name=bookForm]").submit(),_r_()}_i_("3bb:52299b13"),f("insurance-fe","room-cancellation-mfe",function(e){var t;_i_("3bb:6128db22");try{(t=e.eventBus).subscribe(C,i(t,o)),t.subscribe(w,i(t,l)),t.subscribe(k,i(t,c)),t.subscribe(E,i(t,d)),t.subscribe(N,i(t,b)),t.subscribe(x,function(){_i_("3bb:4f8beefb"),B&&B.env&&B.env.insurance_squeaks.quote_reference_received&&n(B.env.insurance_squeaks.quote_reference_received),_r_()}),t.subscribe(S,function(){_i_("3bb:b7727192"),B&&B.env&&B.env.insurance_squeaks.insurance_received&&n(B.env.insurance_squeaks.insurance_received),_r_()})}catch(e){F(e,j)}_r_()})(),h&&function(){_i_("3bb:0c2f38a2");try{var e=document.getElementsByClassName("js-insurance-personal-info-mismatch-remove-button")[0];e.addEventListener("click",function(){_i_("3bb:0234df93"),b(),_r_()})}catch(e){F(e,A)}_r_()}(),_r_()}});i.exports=s,_r_()}),B.bp.bs2.TravelPurposeController=function(){_i_("3bb:58697c36"),this.model_=B.bp.Main.getModel();var e=$(".js-purpose").find("input");this.leisureInput_=e.filter("#bp_travel_purpose_leasure"),this.businessInput_=e.filter("#bp_travel_purpose_business"),this.hidden_=$(".js-purpose-hidden"),B.bp.UserValidatingField.canInitialize(B.bp.AbstractModel.FieldName.VISIT_REASON)&&new B.bp.bs2.TravelPurposeController.VisitReasonField,this.updateInputValueByModel_(),this.attachEvents_(),_r_()},B.bp.bs2.TravelPurposeController.prototype.updateInputValueByModel_=function(){_i_("3bb:b0eedc5e"),this.setPurpose_(this.model_.getTravelPurpose()),_r_()},B.bp.bs2.TravelPurposeController.prototype.updateModelByInput_=function(){_i_("3bb:b93d1e85"),this.leisureInput_.is(":checked")?(this.model_.setTravelPurpose(B.bp.bs2.Model.TravelPurpose.LEISURE),B.env.b_is_bbtool_user&&($(".js-guest-employee-list input").prop("disabled",!0),$(".guest-employee-label input").prop("disabled",!0),$(".guest-details input").prop("disabled",!1))):this.businessInput_.is(":checked")&&(this.model_.setTravelPurpose(B.bp.bs2.Model.TravelPurpose.BUSINESS),B.env.b_is_bbtool_user&&($(".js-guest-employee-list input").prop("disabled",!1),$(".guest-employee-label input").prop("disabled",!1),$(".guest-details input").prop("disabled",!0))),_r_()},B.bp.bs2.TravelPurposeController.prototype.attachEvents_=function(){_i_("3bb:7ccfa880"),$(this.model_).bind(B.bp.bs2.Model.EventType.TRAVEL_PURPOSE_CHANGE,$.proxy(this.updateInputValueByModel_,this)),this.leisureInput_.change($.proxy(this.updateModelByInput_,this)),this.businessInput_.change($.proxy(this.updateModelByInput_,this)),_r_()},B.bp.bs2.TravelPurposeController.prototype.setPurpose_=function(e){if(_i_("3bb:1b825f70"),e===B.bp.bs2.Model.TravelPurpose.BUSINESS)this.businessInput_.prop("checked",!0);else{if(e!==B.bp.bs2.Model.TravelPurpose.LEISURE)return this.businessInput_.prop("checked",!1),this.leisureInput_.prop("checked",!1),_r_();this.leisureInput_.prop("checked",!0)}if(!this.model_.isAuthLevelHigh()||!this.model_.getCompanyAttached())return _r_();e===B.bp.bs2.Model.TravelPurpose.BUSINESS?this.hidden_.val("1"):e===B.bp.bs2.Model.TravelPurpose.LEISURE&&this.hidden_.val(""),_r_()},B.bp.bs2.TravelPurposeController.VisitReasonField=function(){_i_("3bb:13987f51"),goog.base(this,B.bp.AbstractModel.FieldName.VISIT_REASON,!1),this.checkbox=$("#reason_to_visit_checkbox"),this.wrapper=$("#wrapper_reason_to_visit"),this.model_=B.bp.Main.getModel(),this.updateByModel_(),this.attachEvents_(),_r_()},goog.inherits(B.bp.bs2.TravelPurposeController.VisitReasonField,B.bp.UserValidatingField),B.bp.bs2.TravelPurposeController.VisitReasonField.prototype.attachEvents_=function(){_i_("3bb:115f6e42"),$(this.model_).bind(B.bp.bs2.Model.EventType.VISIT_REASON_CHANGE,$.proxy(this.updateByModel_,this)),this.wrapper.find("[type=radio]").click($.proxy(function(e){_i_("3bb:23379fe5"),this.updateModel_(),_r_()},this)),this.checkbox.click($.proxy(function(){_i_("3bb:d7b9ccfb"),this.wrapper.toggleClass("g-hidden",!this.checkbox.is(":checked")),this.checkbox.is(":checked")||this.model_.setVisitReason(""),_r_()},this)),_r_()},B.bp.bs2.TravelPurposeController.VisitReasonField.prototype.updateByModel_=function(){_i_("3bb:75abbd5d");var e,t=this.model_.getVisitReason();e=null===t?"":t,this.wrapper.find("[type=radio]").prop("checked",!1),e&&this.wrapper.find("[type=radio][value="+e+"]").prop("checked",!0),this.input.val(e),_r_()},B.bp.bs2.TravelPurposeController.VisitReasonField.prototype.updateModel_=function(){_i_("3bb:1d0b9591");var e,t=this.wrapper.find(":checked").val();e=""===t?null:t,this.model_.setVisitReason(e),_r_()},B.bp.bs3.Model=function(){_i_("3bb:cdeae615"),goog.base(this),this.parser_=new B.bp.bs3.Model.Parser(this.rawData),this.parser=this.parser_,this.vatNumber_=this.parser_.parseVatNumber(),this.companyName_=this.parser_.parseCompanyName(),this.paymentMode_=this.parser_.parsePaymentMode(),_r_()},goog.inherits(B.bp.bs3.Model,B.bp.AbstractModel),goog.addSingletonGetter(B.bp.bs3.Model),B.bp.bs3.Model.EventType={STREET_CHANGE:"street_change",CITY_CHANGE:"city_change",ZIP_CHANGE:"zip_change",COUNTRY_CHANGE:"country_change",PHONE_NUMBER_CHANGE:"phone_number_change",VAT_NUMBER_CHANGE:"vat_number_change",COMPANY_NAME_CHANGE:"company_name_change",PAYMENT_TYPE_CHANGE:"payment_type_change",CC_NUMBER_CHANGE:"cc_number_change",CC_NAME_CHANGE:"cc_name_change",CC_EXPIRATION_DATE_CHANGE:"cc_expiration_date_change",CC_CVC_CHANGE:"cc_cvc_change",PAYMENT_TYPE_ADD:"payment_type_add",PAYMENT_TYPE_REMOVE:"payment_type_remove",ADDRESS_TYPE_CHANGE:"address_type_change"},B.bp.bs3.Model.PaymentMode={REGULAR:1,STORED:2,NO_NEED_CC_DATA:3},B.bp.bs3.Model.prototype.getVatNumber=function(){return _i_("3bb:bc028c31"),_r_(this.vatNumber_)},B.bp.bs3.Model.prototype.setVatNumber=function(e){_i_("3bb:6a71978d"),e!==this.vatNumber_&&(this.vatNumber_=e,$(this).trigger(B.bp.bs3.Model.EventType.VAT_NUMBER_CHANGE)),_r_()},B.bp.bs3.Model.prototype.getCompanyName=function(){return _i_("3bb:25af4e8e"),_r_(this.companyName_)},B.bp.bs3.Model.prototype.setCompanyName=function(e){_i_("3bb:0cc5a35a"),e!==this.companyName_&&(this.companyName_=e,$(this).trigger(B.bp.bs3.Model.EventType.COMPANY_NAME_CHANGE)),_r_()},B.bp.bs3.Model.prototype.getPaymentMode=function(){return _i_("3bb:d81b9cb7"),_r_(this.paymentMode_)},B.bp.bs3.Model.prototype.isAlternativePaymentType=function(e){_i_("3bb:f8fe41d7");var t=this.getPaymentTypeByAbbr(e);return 1===t.bmp&&0===t.direct_integration?_r_(!0):_r_(!1)},B.bp.bs3.Model.Parser=function(e){_i_("3bb:f249fe141"),this.rawData_=e,_r_()},B.bp.bs3.Model.Parser.prototype.parsePaymentMode=function(){_i_("3bb:c2ec7826");var e=this.rawData_.paymentMode;return _r_("no_need_cc_data"===e?B.bp.bs3.Model.PaymentMode.NO_NEED_CC_DATA:"stored"===e?B.bp.bs3.Model.PaymentMode.STORED:B.bp.bs3.Model.PaymentMode.REGULAR)},B.bp.bs3.Model.Parser.prototype.parseVatNumber=function(){_i_("3bb:416f23ad");var e=B.bp.AbstractModel.Parser.parseSimpleStringField(this.rawData_,"customerAddress.vatNumber","");return _r_(B.tools.string.htmlDecode(e))},B.bp.bs3.Model.Parser.prototype.parseCompanyName=function(){_i_("3bb:87cf4c60");var e=B.bp.AbstractModel.Parser.parseSimpleStringField(this.rawData_,"customerAddress.companyName","");return _r_(B.tools.string.htmlDecode(e))},B.bp.bs3.Model.Parser.prototype.parseFieldWithDomFallback_=function(e,t){_i_("3bb:0a7337761");var i=B.bp.AbstractModel.Parser.parseSimpleStringField(this.rawData_,e);if(null===i||""===i){var n=$(t).val();i=n||""}return _r_(B.tools.string.htmlDecode(i))},B.bp.bs3.MainController=function(){_i_("3bb:d118a510"),goog.base(this),this.model,this.initControllers_(),_r_()},goog.inherits(B.bp.bs3.MainController,B.bp.AbstractMainController),B.bp.bs3.MainController.prototype.initControllers_=function(){_i_("3bb:dc26d57d"),new B.bp.bs3.AddressController,B.bp.bs3.AbstractPaymentDetails.initConcreteDetails(),B.bp.bs3.gtaSendAppCheckbox.init(),B.require("bp/env").get("isSeleniumRunning")||B.require("bp/incomplete-booking-warning").watch(),this.model.isTdotTraffic()||B.require("bp/env").get("hadRLUMessage")||new B.bp.RLUController,_r_()},B.bp.bs3.AbstractPaymentDetails=function(){if(_i_("3bb:7bb71e8c"),this.root=$(".payment-details, .js-payment-details__container"),0===this.root.length)return _r_();this.model=B.bp.Main.getModel(),this.initFields_(),_r_()},B.bp.bs3.AbstractPaymentDetails.initConcreteDetails=function(){_i_("3bb:c692b28c");var e=B.bp.Main.getModel().getPaymentMode();return e===B.bp.bs3.Model.PaymentMode.REGULAR?_r_(new B.bp.bs3.RegularPaymentDetails):e===B.bp.bs3.Model.PaymentMode.STORED?_r_(new B.bp.bs3.StoredPaymentDetails):_r_(null)},B.bp.bs3.AbstractPaymentDetails.prototype.initFields_=function(){_i_("3bb:35f411cd"),B.bp.UserValidatingField.canInitialize(B.bp.AbstractModel.FieldName.CC_BRAZIL_CPF)&&new B.bp.bs3.AbstractPaymentDetails.CcBrazilCpfField,_r_()},function(){_i_("3bb:8fadbf97");var e=B.require("utils/debounce"),r=B.require("jquery");if(!B.env.isCcAutoFormat)return _r_();var _="label_cc_number__format",s=r('[name="cc_number"]'),o="x",l=new RegExp("0","g");function t(){_i_("3bb:ce47edd7");var e=r("."+_),t=s.val().length,i=function(){_i_("3bb:311a60ae");var e=s.val(),t="",i=r.trim(e).length,n="",a="";if(t=e,null!==r.payment.cardType(t)){for(;t.length<22;)t+="0";n=(t=r.payment.formatCardNumber(t)).substr(i),a=t.substr(0,i),n=n.replace(l,o)}else r("."+_).text("");return _r_(a+n)}();if(!t)return _r_();1<=t&&!e.length&&s.before('<span class="'+_+'"></span>'),e.text(i),_r_()}var i={init:function(){if(_i_("3bb:eead0aef"),!s.length)return _r_();s.on("keyup cut paste",e(t,10)),s.payment("formatCardNumber"),t(),s.val(r.payment.formatCardNumber(s.val())),_r_()}};B.bp.bs3.ccFormatLabel=i,_r_()}(),B.bp.bs3.AddressController=function(){if(_i_("3bb:9b46c24a"),this.root_=$(".js-bp-billing-details__container"),0===this.root_.length)return _r_();this.model_=B.bp.Main.getModel(),this.initFields_(),this.initControllers_(),_r_()},B.bp.bs3.AddressController.prototype.initFields_=function(){_i_("3bb:87b2f8fb"),B.bp.UserValidatingField.canInitialize(B.bp.AbstractModel.FieldName.VAT_NUMBER)&&new B.bp.bs3.AddressController.VatNumberField,B.bp.UserValidatingField.canInitialize(B.bp.AbstractModel.FieldName.COMPANY_NAME)&&new B.bp.bs3.AddressController.CompanyNameField,_r_()},B.bp.bs3.AddressController.prototype.initControllers_=function(){_i_("3bb:005d565d"),this.model_.isAuthLevelHigh()&&new B.bp.bs3.ProfileDetailsUpdater,_r_()},B.bp.bs3.AddressController.VatNumberField=function(){_i_("3bb:641c30b5"),goog.base(this,B.bp.AbstractModel.FieldName.VAT_NUMBER),this.model_=B.bp.Main.getModel(),this.updateByModel_(),this.attachEvents_(),_r_()},goog.inherits(B.bp.bs3.AddressController.VatNumberField,B.bp.UserValidatingField),B.bp.bs3.AddressController.VatNumberField.prototype.attachEvents_=function(){_i_("3bb:497392a3"),$(this.model_).bind(B.bp.bs3.Model.EventType.VAT_NUMBER_CHANGE,$.proxy(this.updateByModel_,this)),this.input.bind("change blur",$.proxy(this.updateModel_,this)),_r_()},B.bp.bs3.AddressController.VatNumberField.prototype.updateByModel_=function(){_i_("3bb:36a7e099"),this.input.val(this.model_.getVatNumber()),_r_()},B.bp.bs3.AddressController.VatNumberField.prototype.updateModel_=function(){_i_("3bb:0ba2e064");var e=$.trim(this.input.val());this.model_.setVatNumber(e),_r_()},B.bp.bs3.AddressController.CompanyNameField=function(){_i_("3bb:c23d3ba5"),goog.base(this,B.bp.AbstractModel.FieldName.COMPANY_NAME),this.model_=B.bp.Main.getModel(),this.updateByModel_(),this.attachEvents_(),_r_()},goog.inherits(B.bp.bs3.AddressController.CompanyNameField,B.bp.UserValidatingField),B.bp.bs3.AddressController.CompanyNameField.prototype.attachEvents_=function(){_i_("3bb:90793e42"),$(this.model_).bind(B.bp.bs3.Model.EventType.COMPANY_NAME_CHANGE,$.proxy(this.updateByModel_,this)),this.input.bind("change blur",$.proxy(this.updateModel_,this)),_r_()},B.bp.bs3.AddressController.CompanyNameField.prototype.updateByModel_=function(){_i_("3bb:6e011436"),this.input.val(this.model_.getCompanyName()),_r_()},B.bp.bs3.AddressController.CompanyNameField.prototype.updateModel_=function(){_i_("3bb:7ad6456c");var e=$.trim(this.input.val());this.model_.setCompanyName(e),_r_()},B.bp.bs2.gtaSendAppCheckbox=B.bp.bs3.gtaSendAppCheckbox=(_i_("3bb:844058ae"),_r_({init:function(){_i_("3bb:f8f6215f");var e=$("#send-link-app");"1"===$.cookie("blba")&&e.prop("checked",!0),e.bind("change",function(){_i_("3bb:a7dc2b0f"),this.checked?$.cookie("blba",1):$.cookie("blba",0),_r_()}),_r_()}})),B.bp.bs3.ProfileDetailsUpdater=function(){if(_i_("3bb:a683702c"),this.root_=$(".booker-details-update-profile, .js-bp-booker-details__update-profile"),this.model_=B.bp.Main.getModel(),0===this.root_.length||!this.model_.isAuthLevelHigh())return _r_();this.fields_=this.getFieldsToMonitor_(),this.initialValues_=this.getInitialValues_(),this.attachEvents_(),_r_()},B.bp.bs3.ProfileDetailsUpdater.FIELDS_TO_MONITOR=["#address1","#city","#zip","#cc1","#phone","#company_name","#vat_number"],B.bp.bs3.ProfileDetailsUpdater.prototype.getFieldsToMonitor_=function(){_i_("3bb:3598d465");for(var e=B.bp.bs3.ProfileDetailsUpdater.FIELDS_TO_MONITOR,t=$(),i=0,n=e.length;i<n;i++)t=t.add($(e[i]));return _r_(t)},B.bp.bs3.ProfileDetailsUpdater.prototype.getInitialValues_=function(){_i_("3bb:57c99e23");for(var e={},t=0,i=this.fields_.length;t<i;t++){var n=this.getFieldName_(this.fields_.eq(t));n&&(e[n]=this.getFieldValue_(this.fields_.eq(t)))}return _r_(e)},B.bp.bs3.ProfileDetailsUpdater.prototype.attachEvents_=function(){_i_("3bb:04488380");var i=this;this.fields_.bind("keyup.ProfileDetailsUpdater change.ProfileDetailsUpdater",function(e){_i_("3bb:db5a555c");var t=$(e.target).attr("name");t&&i.showRootIfFieldChanged_(t),_r_()}),_r_()},B.bp.bs3.ProfileDetailsUpdater.prototype.detachEvents_=function(){_i_("3bb:0bbe5934"),this.fields_.unbind(".ProfileDetailsUpdater"),_r_()},B.bp.bs3.ProfileDetailsUpdater.prototype.showRootIfFieldChanged_=function(e){_i_("3bb:a01e3a90"),this.hasFieldChanged_(e)&&(this.detachEvents_(),this.showRootWithAnimation_()),_r_()},B.bp.bs3.ProfileDetailsUpdater.prototype.showRootWithAnimation_=function(){_i_("3bb:348af0cb"),this.root_.css({opacity:0}).removeClass("invisible").removeClass("bui-u-hidden").animate({opacity:1},500),_r_()},B.bp.bs3.ProfileDetailsUpdater.prototype.hasFieldChanged_=function(e){_i_("3bb:09067539");var t=this.fields_.filter("[name="+e+"]");return _r_(this.initialValues_[e]!==this.getFieldValue_(t))},B.bp.bs3.ProfileDetailsUpdater.prototype.getFieldName_=function(e){_i_("3bb:57f4b3bf");var t=e.attr("name");return _r_(t)},B.bp.bs3.ProfileDetailsUpdater.prototype.getFieldValue_=function(e){_i_("3bb:fc781a84");var t=e.val();return _r_($.trim(t))},B.bp.bs3.RegularPaymentDetails=function(){_i_("3bb:53b17aab"),goog.base(this),this.saveCardCheckbox_=this.root.find("#save_card_tick"),this.initControllers_(),this.attachEvents_(),_r_()},goog.inherits(B.bp.bs3.RegularPaymentDetails,B.bp.bs3.AbstractPaymentDetails),B.bp.bs3.RegularPaymentDetails.prototype.initControllers_=function(){_i_("3bb:b6cdb900"),B.bp.Main.getModel(),B.require("bp/env").get("format_cc_inside_field")&&B.bp.bs3.formatCCInput.init(),B.bp.bs3.ccFormatLabel.init(),_r_()},B.bp.bs3.RegularPaymentDetails.prototype.attachEvents_=function(){},B.bp.bs3.StoredPaymentDetails=function(){_i_("3bb:7e4436b4"),goog.base(this),this.items_=[],this.currentItem_,this.saveNewCardControl_=this.root.find(".save_my_card_tick"),this.saveNewCardCheckbox_=this.saveNewCardControl_.find("#save_my_card"),this.cardIsBusinessCheckbox_=this.saveNewCardControl_.find("#cc_is_business"),this.ccWhyMessage=this.root.find(".ccwhy:not(.alt_pay)"),this.altPayMessage_=$(".alt_pay"),this.initItems_(),this.initControllers_(),this.updateSaveNewCardControl_(),this.updateGreenBannerControl_(),this.attachEvents_(),_r_()},goog.inherits(B.bp.bs3.StoredPaymentDetails,B.bp.bs3.AbstractPaymentDetails),B.bp.bs3.StoredPaymentDetails.prototype.initControllers_=function(){_i_("3bb:cb95f244"),B.require("bp/env").get("format_cc_inside_field")&&B.bp.bs3.formatCCInput.init(),B.bp.bs3.ccFormatLabel.init(),_r_()},B.bp.bs3.StoredPaymentDetails.prototype.initItems_=function(){_i_("3bb:d88a3536");for(var e,t=this.root.find(".saved_cc_table_item"),i=0,n=t.length;i<n;i++){var a=t.eq(i),r=new B.bp.bs3.StoredPaymentDetails.Item(a,this);this.items_.push(r),a.find(".cc_radio").is(":checked")&&(e=r)}e||(e=this.items_[0]),this.setCurrentItem_(e),_r_()},B.bp.bs3.StoredPaymentDetails.prototype.setCurrentItem_=function(e){if(_i_("3bb:d6700975"),this.currentItem_===e)return _r_();for(var t=0,i=this.items_.length;t<i;t++)this.items_[t].deselect();e.select(),this.currentItem_=e,this.updateSaveNewCardControl_(),this.updateGreenBannerControl_(),_r_()},B.bp.bs3.StoredPaymentDetails.prototype.updateSaveNewCardControl_=function(){_i_("3bb:ba1cae34"),this.currentItem_&&this.currentItem_.isNewCardItem()?this.saveNewCardControl_.show():(this.saveNewCardControl_.hide(),this.saveNewCardCheckbox_.removeAttr("checked")),_r_()},B.bp.bs3.StoredPaymentDetails.prototype.updateGreenBannerControl_=function(){if(_i_("3bb:841d045f"),booking.env.is_alt_payment_method&&this.currentItem_&&this.currentItem_.id_){var e=this.currentItem_.id_;this.altPayMessage_.hide(),booking.env.is_alt_payment_method(e)?(this.altPayMessage_.filter("."+e).show(),this.ccWhyMessage.hide()):this.ccWhyMessage.show()}_r_()},B.bp.bs3.StoredPaymentDetails.prototype.attachEvents_=function(){},B.bp.bs3.StoredPaymentDetails.Item=function(e,t){_i_("3bb:70790249"),this.root_=e,this.id_=String(this.root_.data("id")),this.parentController_=t,this.newCardItem_=this.root_.hasClass("new_card"),this.invalid_=this.root_.hasClass("invalid"),this.radioButton_=this.root_.find(".cc_radio"),this.cvcInput_=this.root_.find(".cc_cvc_input"),this.ccTypeHiddenField_=this.root_.find(".cc_type_hidden"),this.deleteButton_=this.root_.find(".cc_delete"),this.attachEvents_(),_r_()},B.bp.bs3.StoredPaymentDetails.Item.prototype.isNewCardItem=function(){return _i_("3bb:1a76ccfc"),_r_(this.newCardItem_)},B.bp.bs3.StoredPaymentDetails.Item.prototype.select=function(){_i_("3bb:00db562f"),this.radioButton_.prop("checked",!0),this.invalid_||this.newCardItem_||this.cvcInput_.prop("disabled",!1),_r_()},B.bp.bs3.StoredPaymentDetails.Item.prototype.deselect=function(){_i_("3bb:4ba4fee6"),this.radioButton_.prop("checked",!1),this.invalid_||this.newCardItem_||this.cvcInput_.prop("disabled",!0),_r_()},B.bp.bs3.StoredPaymentDetails.Item.prototype.attachEvents_=function(){_i_("3bb:8c7cc59d");var t=this;this.radioButton_.click($.proxy(this.selectMeInParentController_,this)),this.newCardItem_?(this.root_.find("select").change($.proxy(this.selectMeInParentController_,this)),this.root_.find("input").keyup($.proxy(this.selectMeInParentController_,this))):this.deleteButton_.click(function(e){_i_("3bb:99904dad"),t.delete_(),e.preventDefault(),_r_()});var e=$(".pp_info"),i="bp_bs3_saved_cc_new_card_separate_form--active",n=e.find(".bp-bs3-saved-cc-new-card-form");n.attr("disabled","disabled"),e.find(".bp-bs3--add-new-cc-button a").click(function(){return _i_("3bb:4c7ac916"),e.addClass(i).find(".saved_cc_table_item .cc_radio:checked").removeAttr("checked").closest("tr").find(".cc_cvc_input").attr("disabled","disabled"),n?n.removeAttr("disabled"):B.reportError(new Error,"New Card Form not found when clicking add new cc button"),_r_(!1)}),e.find(".cc_radio").change(function(){_i_("3bb:4fa4a8e6"),e.removeClass(i),$(this).closest("tr").find(".cc_cvc_input").removeAttr("disabled"),n.attr("disabled","disabled"),_r_()}),_r_()},B.bp.bs3.StoredPaymentDetails.Item.prototype.selectMeInParentController_=function(){_i_("3bb:611b97ad"),this.parentController_.setCurrentItem_(this),_r_()},B.bp.bs3.StoredPaymentDetails.Item.prototype.delete_=function(){_i_("3bb:65a6be2b");var e=this;$.ajax({url:B.bp.AbstractModel.Url.DELETE_STORED_CC,data:{cc_id:this.id_},type:"POST",success:function(){_i_("3bb:d5674a49"),e.root_.hide(),_r_()}}),_r_()},function(e){var t,i,n,a;_i_("3bb:134f7129"),e.fn.noDoubleTapZoom=function(){return _i_("3bb:9ab1d80f"),e(this).bind("touchstart",function(e){if(_i_("3bb:712261f4"),i=e.timeStamp,n=i-(t=t||i),a=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length,t=i,!n||500<n||1<a)return _r_();e.preventDefault(),_r_()}),_r_(this)},_r_()}(window.jQuery||window.Zepto),function(t){if(_i_("3bb:7b0e2010"),!t)return _r_();var i,n,a,r,_,s,o,e="ontouchstart"in window||"createTouch"in document;t.fn.tap=e?function(e){return _i_("3bb:af5be666"),t(this).bind("touchstart",function(e){_i_("3bb:69f6e4d7"),i=a=e.originalEvent.touches[0].clientX,n=r=e.originalEvent.touches[0].clientY,o=e,_r_()}).bind("touchmove",function(e){_i_("3bb:c7d0dccd"),a=e.originalEvent.touches[0].clientX,r=e.originalEvent.touches[0].clientY,_r_()}).bind("touchend",function(e){_i_("3bb:838e5bb6"),_=Math.abs(a-i),s=Math.abs(r-n),_<=20&&s<=20&&t(this).trigger("tap"),_r_()}).bind("touchcancel",function(e){_i_("3bb:ef37fa7a"),i=n=a=r=0,_r_()}),e&&t(this).bind("tap",function(){_i_("3bb:aed0229d"),e.call(this,o,[a,r],[i,n]),_r_()}),_r_(this)}:function(e){return _i_("3bb:bb42e343"),_r_(t(this))},_r_()}(window.jQuery||window.Zepto),B.when({events:"ready",action:"book"}).run(function(){if(_i_("3bb:9cc0e2f3"),!B.env||!B.env.b_is_tdot_traffic)return _r_();var t=booking.lightbox,i="bp_iframe_popup bp_iframe_wider";B.env.b_is_ipad&&(i="bp_iframe_popup_ios"),$("a.popupit").click(function(){var e;return _i_("3bb:9db36b21"),e=this,_i_("3bb:41ac34b9"),t.show($(e).attr("href"),{iframe:!0,iframeHeight:550,customWrapperClassName:i,bAnimation:!1}),_r_(),_r_(!1)}),_r_()}),function(e){"use strict";_i_("3bb:c46ba067");var b=e.require("jquery");e.when({events:"ready"}).run(function(){if(_i_("3bb:f49c0382"),"book"!==booking.env.b_action||!booking.env.b_is_tdot_traffic)return _r_(!1);var n,l,a,r,c={},_={};function s(e){_i_("3bb:f2c6e6dc");var t=b.data(e,"tooltip"),i=t.width;return i&&"number"!=typeof i&&(t.width=Number(i.replace(/px/,""))),_r_(t)}function t(){_i_("3bb:59186482");var e=(_i_("3bb:10959d6a"),_r_({x:b(window).scrollLeft(),y:b(window).scrollTop(),cx:b(window).width(),cy:b("body").height()})),t=b(l);if(!(t&&t.length&&c&&c.parent&&c.pointer&&e))return _r_();var i=c.parent.width()/2,n=t.offset().left+t.outerWidth()/2,a=t.offset().top+t.outerHeight()+7,r=c.parent.height(),_=n-i,s="auto",o=!1;c.pointer.removeClass("pointer-bottom"),n+i>e.cx?(_="auto",s=15,o=!0,c.pointer.css({right:e.cx-n-15-6+"px",left:"auto"})):n-i<15&&(_=15,s="auto",o=!0,c.pointer.css({left:n-15+"px",right:"auto"})),r+a+15>e.cy&&(c.pointer.addClass("pointer-bottom"),a=t.offset().top-r-8,o=!0,c.pointer.css({top:"auto",bottom:"-6px"})),c.parent.css({left:_,right:s,top:a}),o||c.pointer.attr("style",""),_r_()}function o(e){if(_i_("3bb:abe1ede1"),b.bp_tooltip.blocked)return _r_();if(e&&e.target&&"OPTION"===e.target.tagName)return _r_();t(),_r_()}function d(){_i_("3bb:e3032f5e");var e=b(l);if(!l||!e||e.hasClass("js-block-tooltip"))return _r_();var t=s(l);if(r=null,!t)return _r_();t.fade?c.parent.is(":animated")?c.parent.stop().show().fadeTo(t.fade,l.tOpacity):c.parent.is(":visible")?c.parent.fadeTo(t.fade,l.tOpacity):c.parent.fadeIn(t.fade):c.parent.show(),t.width&&c.parent.css("width",s(l).width+"px");var i=c.parent.find("img:eq(0)");if(0<i.length){var n=i.attr("src");c.parent.css("width",_[n]?i.width()+38:"")}b(document.body).bind("touchstart",function(e){_i_("3bb:09d168b4"),l&&function(){if(_i_("3bb:3e6466a1"),b.bp_tooltip.blocked||!l)return _r_();r&&clearTimeout(r);var e=s(l);function t(){_i_("3bb:79bbb2cb"),c.parent.removeClass(e.extraClass).hide().css("opacity",""),_r_()}l=null,e.fade?c.parent.is(":animated")?c.parent.stop().fadeTo(e.fade,0,t):c.parent.stop().fadeOut(e.fade,t):t(),window.removeEventListener("orientationchange",o),_r_()}.call(l),b(this).unbind(e),_r_()}),window.addEventListener("orientationchange",o,!1),o(),_r_()}function i(e){if(_i_("3bb:0b85b374"),e.preventDefault(),b.bp_tooltip.blocked||this===l||!this)return _r_();var t=b(l=this),i=b.data(l,"tooltip");!0===b.data(l,"changed")&&(b.data(l,"changed",!1),l.tooltipText='<img src="'+b.data(l,"title")+'"/>'),(a=l.tooltipText)&&(a=a.replace(/\\n/g,"")),0<=a.indexOf("tt_map_holder")?i.width=585:i.width=t.attr("rel")||300,0===a.indexOf("<img")&&(i.width=438,function(){_i_("3bb:1347aef3");var e=a.match(/src=['"]([^'"]+)['"]/);if(!e||_[e[1]])return _r_();var t=a,i=document.createElement("img");a='<img src=//t-cf.bstatic.com/static/img/experiments/ajax-loader-black/d19b79c0cb26d8af016a6d84fd4bc38e1f43bb0e.gif class="tooltip_loader" style="padding: 25px;"/>',i.onload=function(){if(_i_("3bb:4224e8b9"),_[this.src]=!0,this.src!==n)return _r_();a=t,c.title.html(a),c.parent.css("width",this.width+38),c.parent.is(":visible")&&o(),_r_()},n=e[1],i.src=e[1],_r_()}()),b.data(l,"tooltip",i),c.title.html(a).show(),c.parent.addClass(s(this).extraClass),function(){if(_i_("3bb:f8020416"),!this)return _r_();var e=s(this);e.delay?r=setTimeout(d,e.delay):d(),_r_()}.apply(this,arguments),_r_()}b.bp_tooltip={blocked:!1,defaults:{width:300,delay:200,fade:!1,extraClass:"",top:15,left:15,id:"bp-tooltip"},block:function(){_i_("3bb:4b2d3913"),b.bp_tooltip.blocked=!b.bp_tooltip.blocked,_r_()}},b.fn.extend({bp_tooltip:function(t){_i_("3bb:b079b51b"),function(e){_i_("3bb:4653a4a5");var t=b('<div class="pointer"></div>');if(c.parent)return _r_(!0);c.parent=b('<div id="'+e.id+'" style="width: '+e.width+'px;"><div class="shadow"><div class="tt_content"></div></div></div>').appendTo(document.body).hide(),c.parent.bind("touchstart",function(){if(_i_("3bb:7bb0b182"),b.bp_tooltip.blocked)return _r_(!0);return r&&clearTimeout(r),l=null,b(this).removeClass(e.extraClass).fadeOut().css("opacity",""),_r_(!1)}),c.parent.prepend(t),c.pointer=t,c.title=b("div.tt_content",c.parent),c.body=b("div.body",c.parent),_r_()}(t=b.extend({},b.bp_tooltip.defaults,t)),this.each(function(){_i_("3bb:22e5db42");var e=b(this);(function(){_i_("3bb:de75e900");var e=b(this);e.data("tooltip",t),this.tOpacity=c.parent.css("opacity"),this.tooltipText=e.data("title")||this.title,this.tooltipText||(this.tooltipText='<img src="'+this.getAttribute("src")+'"/>'),this.removeAttribute("title"),this.alt="",_r_()}).call(this),e.bind("touchstart click",i),_r_()}),_r_()},hideWhenEmpty:function(){return _i_("3bb:cda2e48e"),_r_(this.each(function(){_i_("3bb:47dc0bfa"),b(this)[b(this).html()?"show":"hide"](),_r_()}))}});var e=[".jq_tooltip","*[data-title]",".policy_name_tt"].join(", ");b(e).bp_tooltip(),_r_()}),_r_()}(window.booking),function(e,t){if(_i_("3bb:be270eef"),!e.env.b_is_tablet||e.env.b_book_stage&&3!==e.env.b_book_stage)return _r_();t("#cc_type").on("change",function(){_i_("3bb:74976179"),t(this).prop("selectedIndex")&&e.et.goal("bp_cc_type_selected"),_r_()}),t("#cc_number").on("keyup",function(){_i_("3bb:247bb1ac"),t(this).val().length&&e.et.goal("bp_cc_number_entered"),_r_()}),t("#cc_month, #cc_year").on("change",function(){_i_("3bb:3765556e"),t(this).prop("selectedIndex")&&e.et.goal("bp_cc_expiry_date_selected"),_r_()}),t("#cc_cvc").on("keyup",function(){_i_("3bb:dc0a62a5"),t(this).val().length&&e.et.goal("bp_cc_cvc_code_entered"),_r_()}),_r_()}(B,jQuery),_i_("3bb:c68fd3ff"),B.when({action:["book"],events:"ready",condition:2===B.env.b_stage}).run(function(e){_i_("3bb:4eef1c7a"),$("#optional_password").length&&$(".bp-optional-password-strength").length&&(B.userAccessFormHandler.initPassStrength("#optional_password"),$("#optional_password").one("focus",function(){_i_("3bb:a4fda4df"),$(".bp-optional-password-strength").slideDown("slow"),_r_()})),_r_()}),_r_(),B.define("component/banner",function(e,t,i){"use strict";_i_("3bb:f700273a");var n=e("component");i.exports=n.extend({init:function(){_i_("3bb:3ecb3334"),this.addEventListeners(),_r_()},addEventListeners:function(){_i_("3bb:7abf0601"),this.$el.on("click",".js-close",this.hideEl.bind(this)),_r_()},hideEl:function(e){_i_("3bb:5561c744"),e.preventDefault(),this.$el.fadeOut("fast"),_r_()}}),_r_()}),function(){_i_("3bb:ad2b40b1");var e=!1;try{e=document.createElement("link").relList.supports("prefetch")}catch(e){}e||window.addEventListener("load",function(){_i_("3bb:32a3e057"),Array.prototype.forEach.call(document.getElementsByTagName("link"),function(e){_i_("3bb:9b20b8e3"),"prefetch"===e.getAttribute("rel")&&function(e){_i_("3bb:c45f62d1");var t=new XMLHttpRequest;t.open("GET",e,!0),t.send(),_r_()}(e.getAttribute("href")),_r_()}),_r_()}),_r_()}(),B.define("payment-online",function(t,e){_i_("3bb:b33cf40a");var i,n,a,r=t("jquery"),_=t("events"),s=t("server-data"),o=t("report-error"),l="bui-u-hidden",c=r("[data-pay-visible-for]"),d=r("[data-pay-disable-for]"),b=r("[data-pay-hidden-for]"),p=r("[data-pay-enable-for]"),u=".payment-method__toggle__input",h=".bs3_when_to_pay__option,.bs3_when_to_pay__option_vertical,.payment_choice_timing",f="#check_box_pay_now",m="input[name='hybrid_pay_now']";function g(e){_i_("3bb:e3a6024b"),this.group_name=e,this.init(),_r_()}g.prototype.init=function(){if(_i_("3bb:c2d36498"),1==s.fe_show_payment_timing)return _r_();if(!s.b_action_name_is_tpi_book)try{i=s.fe_is_mobile?t("component/booking-process/core/store"):t("bp/store"),n=s.fe_is_mobile?t("component/booking-process/core/payment-details/payment-timing/actions"):t("component/bp/payment-timing/actions")}catch(e){o("Error loading store: ",e)}var e=r("#bookForm,.payment_choice_timing");if(0===e.length)return _r_();this.UI_ELEM={payment_method:r(u),payment_time:r(h).find("input:enabled"),force_pay_now_input:r(f),hybrid_force_pay_now_input:r(m)},this.isExclusive=e.data("is-exclusive"),this.isHybrid=e.data("is-hybrid"),this.payment_changed(),_.on("pay:tab:select",this.payment_changed.bind(this)),_.on("payment:pay_online:select",this.select_online_payment_option.bind(this)),_.on("pay:timing:changed",this.payment_changed.bind(this)),this.UI_ELEM&&this.UI_ELEM.payment_time.length&&this.UI_ELEM.payment_time.on("change",this.payment_changed.bind(this)),this.UI_ELEM&&this.UI_ELEM.force_pay_now_input.length&&this.UI_ELEM.force_pay_now_input.on("change",this.payment_changed.bind(this)),_r_()},g.prototype.is_supporting_pay_now=function(){return _i_("3bb:5a06ec0d"),_r_(0<this.UI_ELEM.payment_time.length)},g.prototype.payment_changed=function(){_i_("3bb:8c0d2f2c");var e=!0,t=this.UI_ELEM.payment_time.filter(":checked").val()||this.UI_ELEM.force_pay_now_input.filter(":checked").val();null==t&&this.UI_ELEM.hybrid_force_pay_now_input&&"hidden"==this.UI_ELEM.hybrid_force_pay_now_input.attr("type")&&null==this.UI_ELEM.hybrid_force_pay_now_input.attr("disabled")&&(t=this.UI_ELEM.hybrid_force_pay_now_input.val());var i=this.UI_ELEM.payment_method.filter(":checked").val()||"";!t&&B.env.b_stage<3&&(B.env.b_alt_payment_available||B.env.b_alt_payments||B.env.b_pay_now_cc_allowed)?e=!0:"pay-now"===t?e=!0:"pay-later"===t?e=!1:i.match(/^nocc/)?e=!1:!this.isExclusive&&i.match(/^creditcard/)?e=!1:2==B.env.b_stage&&B.env.bp_hybrid_can_pay_now?e=!0:this.isExclusive?e="0"!=t:i||(e=!1),1==s.FE_PBB__FORCE_PAY_NOW_AS_ONLY_OPTION&&(e=!0),this.set_current_status(e),this.trigger_event(e),this.toggle_elements(e),this.handlePaymentTimingChange(e?"now":"later"),_r_()},g.prototype.handlePaymentTimingChange=function(e){if(_i_("3bb:47e6a293"),i&&n)try{i.dispatch(n.doUpdatePaymentTiming({type:e}))}catch(e){o("Error while updating payment timing: ",e)}_r_()},g.prototype.set_current_status=function(e){_i_("3bb:d3e6570d"),this.pay_online=e,_r_()},g.prototype.get_current_status=function(){return _i_("3bb:cf589a4f"),_r_(this.pay_online)},g.prototype.trigger_event=function(e){_i_("3bb:5e99d37e"),_.trigger("payment:pay_online:changed",e),_r_()},g.prototype.toggle_elements=function(e){_i_("3bb:94e9fe9b");var t=e?"now":"later";c.addClass(l).filter('[data-pay-visible-for="'+t+'"]').removeClass(l),d.prop("disabled",!1).filter('[data-pay-disable-for="'+t+'"]').prop("disabled",!0),b.removeClass(l).filter('[data-pay-hidden-for="'+t+'"]').addClass(l),p.prop("disabled",!0).filter('[data-pay-enable-for="'+t+'"]').prop("disabled",!1),_r_()},g.prototype.select_online_payment_option=function(){if(_i_("3bb:83881fd8"),1==s.FE_PBB__FORCE_PAY_NOW_AS_ONLY_OPTION)return _r_();if(!this.UI_ELEM)return _r_();if("skip-and-pay-later"===s.bp_hybrid_pay_now)return _r_();var e=this.UI_ELEM.payment_time.filter("[value=pay-now],[value=1]").first(),t=this.UI_ELEM.payment_method.not("[value=creditcard]").not("[value=creditcards]"),i=0===t.filter(":checked").length;if(e.length)e.prop("checked")&&"radio"!=e.attr("type").toLowerCase()||e.trigger("click"),e.trigger("change"),r(".cc_only_req_guarantee,.bp-alert__icon-nocc").hide(),this.handlePaymentTimingChange("now");else{if(!i)return _r_();setTimeout(function(){_i_("3bb:fb7854ce"),t.first().trigger("click").trigger("change"),_r_()}.bind(this),500)}this.payment_changed(),_r_()},e.getInstance=function(){return _i_("3bb:6595c8b5"),a||(a=new g),_r_(a)},_r_()}),B.define("campaign-discounts",function(e,t){_i_("3bb:1828e9ff");var i,n,a=e("jquery"),o=e("events"),l=e("server-data"),r=e("report-error"),_=e("price-display-manager"),s=e("payment-online"),c={PAY_NOW:"pay_now",PAY_LATER:"pay_later",PAY_AT_PROPERTY:"pay_at_property"},d=1==l.fe_show_payment_timing_with_campaign_discounts&&1!=l.fe_payplatform,b=d||1==l.fe_payplatform,p=a("#bwallet_campaign_discounts"),u={BS3_CC_FORM:"#bookForm",INSTANT_DISCOUNT_GROUPS:".js-price-detail-instant-discount-group"},h=B.env.b_secure_domain||B.env.b_secure_hostname,f=!!parseInt(B.env.FE_PBB__IS_TIMING_BASED_INSTANT_DISCOUNT),m=B.env.fe_bwallet_campaign_discounts_default_timing,g=B.env.FE_PBB__NO_CC_NEEDED;function M(){_i_("3bb:746b0de0"),this.init(),_r_()}M.prototype.init=function(){if(_i_("3bb:d000f067"),this.$el=p,this.payment_method_allow_discounts=!0,d)try{i=l.fe_is_mobile?e("component/booking-process/core/store"):e("bp/store")}catch(e){r("Error loading store: ",e)}b||(this.payment_online_instance=s.getInstance()),this.user_total_price_display_manager=_.getInstance("bp_user_total_price"),this.user_total_price=this.user_total_price_display_manager.getValue(),this.property_total_price_display_manager=_.getInstance("bp_total_price"),this.property_total_price=this.property_total_price_display_manager.getValue(),this.user_total_payment_display_manager=_.getInstance("bp_user_total_payment"),this.user_total_payment=this.user_total_payment_display_manager.getValue(),this.user_total_payment_pay_now_display_manager=_.getInstance("bp_user_total_payment_pay_now"),this.user_total_payment_pay_now=this.user_total_payment_pay_now_display_manager.getValue(),this.user_total_discount_pay_now_display_manager=_.getInstance("bp_user_total_discount_pay_now"),this.user_total_discount_pay_now=this.user_total_discount_pay_now_display_manager.getValue(),this.bau_wallet_credit_discount_display_manager=_.getInstance("bp_bau_wallet_credit_discount"),this.bau_wallet_credit_discount=this.bau_wallet_credit_discount_display_manager.getValue(),b||(this.is_exclusive=this.$el.data("is-exclusive")),this.notification_baloon=a(".bwallet_disabled_notification_baloon"),this.ui_setup(),f?(this.paymentTiming=g?"":m,this.discounts_map_per_timing=B.env.fe_bwallet_campaign_discounts_per_payment_timing||{},this.updateDiscountMapWithTiming()):this.discounts_map=B.env.bwallet_campaign_discounts||{},this.update_amount_group_values(),this.bind_events(),b||this.payment_changed(this.payment_online_instance.get_current_status()),this.update_total_price({update_immediately:!0}),b||this.$el.data("error-count")||(this.payment_online_instance.select_online_payment_option(),setTimeout(function(){_i_("3bb:faad0b81"),this.payment_online_instance.select_online_payment_option(),_r_()}.bind(this),350)),this.initialized=!0,_r_()},M.prototype.updateDiscountMapWithTiming=function(){_i_("3bb:3d53d5f7"),this.discounts_map=this.discounts_map_per_timing[this.paymentTiming]||[],this.updatePriceSummaryDiscountUI(),_r_()},M.prototype.updatePriceSummaryDiscountUI=function(){_i_("3bb:d3655b3a");var e='[data-payment-timing="'+this.paymentTiming+'"]',t="bui-u-hidden";this.UI_ELEM.INSTANT_DISCOUNT_GROUPS.addClass(t).filter(e).removeClass(t),_r_()},M.prototype.update_amount_group_values=function(){for(var e in _i_("3bb:351c0b30"),this.amount_group_managers||(this.amount_group_managers={}),this.amount_group_values={},this.discounts_map){var t=this.discounts_map[e];if(!t.b_amount_group_name)continue;if(!this.amount_group_managers[t.b_amount_group_name]){var i="user_group_discount_"+t.b_amount_group_name+"_pay_now";this.amount_group_managers[t.b_amount_group_name]=_.getInstance(i)}this.amount_group_values[t.b_amount_group_name]||(this.amount_group_values[t.b_amount_group_name]=0),t.b_is_active&&(this.amount_group_values[t.b_amount_group_name]+=parseFloat(t.b_discount_amount)||0)}for(var n in this.amount_group_managers)this.amount_group_managers[n].update(this.amount_group_values[n]);_r_()},M.prototype.bind_events=function(){if(_i_("3bb:fe03754f"),i&&d){var t=this;i.subscribe(function(){_i_("3bb:8231fdce");var e=1==l.fe_is_mobile?i.getState().paymentDetails.paymentTiming:i.getState().payment_timing;t.payment_changed("now"===e.type),_r_()})}else f||o.on("payment:pay_online:changed",this.payment_changed.bind(this));o.on("instant_discount:campaign_changed",this.instant_discount_campaign_changed.bind(this)),_r_()},M.prototype.bind_item_events=function(e,t){_i_("3bb:629027af");var i=e.find("input.checkbox, input.js-discounts__checkbox");i.off("click").on("click",function(e){_i_("3bb:f2633bfb"),i.prop("checked")?this.activate_discount(t,!0):this.deactivate_discount(t),_r_()}.bind(this)),_r_()},M.prototype.on_change=function(e){_i_("3bb:a9f187df"),o.on("campaign::discounts::changed",e),_r_()},M.prototype.payment_changed=function(e){if(_i_("3bb:b75758f6"),f){var t=e?"PAY_NOW":"PAY_AT_PROPERTY";this.paymentTimingChanged(t)}else this.initialized&&this.payment_method_allow_discounts&&!e&&a(this.discounts_map).size()?this.notification_baloon.fadeIn("fast"):this.notification_baloon.stop().hide(),this.payment_method_allow_discounts=e,this.toggle_discounts();_r_()},M.prototype.paymentTimingChanged=function(e){_i_("3bb:b2638e1f"),this.initialized?this.notification_baloon.fadeIn("fast"):this.notification_baloon.stop().hide(),this.paymentTiming=c[e],this.updateDiscountMapWithTiming(),this.toggle_discounts(),_r_()},M.prototype.instant_discount_campaign_changed=function(e){_i_("3bb:fac594b2"),e.campaign_data?this.update_campaign_discount(e.campaign_id,e.campaign_data):this.deactivate_discount(e.campaign_id),_r_()},M.prototype.is_discount_active=function(e){if(_i_("3bb:04dbe460"),!this.can_we_apply_discounts())return _r_(!1);var t=this.discounts_map[e];return _r_(!!t&&t.b_is_active)},M.prototype.can_we_apply_discounts=function(){return _i_("3bb:02ab78c8"),_r_(!!f||this.payment_method_allow_discounts)},M.prototype.deactivate_discount=function(e){_i_("3bb:1d2815b3");var t=this.discounts_map[e];t&&(t.b_is_active=!1,this.toggle_discounts()),_r_()},M.prototype.deactivate_all_discounts=function(){for(var e in _i_("3bb:9bb64916"),this.discounts_map){var t=this.discounts_map[e];t&&(t.b_is_active=!1)}this.toggle_discounts(),_r_()},M.prototype.activate_discount=function(e,t){_i_("3bb:7a2a5822");var i=this.discounts_map[e];b||t&&this.payment_online_instance.select_online_payment_option(),i&&(i.b_is_active=!0,this.toggle_discounts()),_r_()},M.prototype.activate_all_discounts=function(){for(var e in _i_("3bb:63742b57"),this.discounts_map){var t=this.discounts_map[e];t&&(t.b_is_active=!0)}this.toggle_discounts(),_r_()},M.prototype.toggle_discounts=function(){_i_("3bb:e68d4c08");var e=this.can_we_apply_discounts();if(!f)for(var t in this.discounts_map){var i=this.discounts_map[t].b_is_active,n=this.UI_ELEM.DISCOUNTS[t];n&&this.ui_toggle_activation_css(n,e&&i)}this.ui_add_discount_inputs_in_payment_form(),this.update_total_price(),this.update_amount_group_values(),_r_()},M.prototype.update_total_price=function(e){_i_("3bb:9234974d"),e=e||{};var t=this.can_we_apply_discounts(),i=0,n=0,a=0;for(var r in this.discounts_map){var _=this.discounts_map[r];t&&_.b_is_active&&(n+=parseFloat(_.b_discount_amount)||0,i+=parseFloat(_.b_uc_discount_amount)||0),_.b_is_active&&(a+=parseFloat(_.b_uc_discount_amount)||0)}if(this.user_total_discount=i,this.property_total_discount=n,this.user_total_discount_pay_now=a,this.ui_update_price(this.property_total_price-n,this.property_total_price_display_manager,e.update_immediately),this.ui_update_price(this.user_total_price-i,this.user_total_price_display_manager,e.update_immediately),this.user_total_payment_pay_now_display_manager.update(this.user_total_payment_pay_now-this.user_total_discount_pay_now),this.user_total_discount_pay_now_display_manager.update(this.user_total_discount_pay_now),l.fe_bau_wallet_exchange_rate&&l.fe_bau_wallet_currency){var s=parseFloat(l.fe_total_price_property_currency)-n;this.bau_wallet_credit_discount=.1*s*parseFloat(l.fe_bau_wallet_exchange_rate),this.bau_wallet_credit_discount+=parseFloat(l.fe_bau_campaign_reward_amount),this.bau_wallet_credit_discount_display_manager.update(this.bau_wallet_credit_discount)}o.trigger("campaign::discounts::changed",{user_total_discount:i,property_total_discount:n,user_total_discount_pay_now:a,bau_wallet_credit_discount:0}),_r_()},M.prototype.get_user_total_discount=function(){return _i_("3bb:d7e6c45e"),_r_(this.user_total_discount)},M.prototype.get_property_total_discount=function(){return _i_("3bb:51652a9c"),_r_(this.property_total_discount)},M.prototype.ui_setup=function(){_i_("3bb:3ae6fbd5"),this.UI_ELEM={bs3_cc_form:a(u.BS3_CC_FORM),NO_CC_FORM:a(u.BS3_CC_FORM).find(u.NO_CC_FORM),INSTANT_DISCOUNT_GROUPS:p.find(u.INSTANT_DISCOUNT_GROUPS),DISCOUNTS:{}},f?this.$el.children().each(function(e,t){_i_("3bb:82f7e3c8");var i=a(t),n=i.data("campaign-id");n&&(this.UI_ELEM.DISCOUNTS[n]=i,this.bind_item_events(i,n)),_r_()}.bind(this)):this.$el.children().each(function(e,t){_i_("3bb:82f7e3c81");var i=a(t),n=i.data("campaign-id");n&&(this.UI_ELEM.DISCOUNTS[n]=i,this.bind_item_events(i,n)),_r_()}.bind(this)),_r_()},M.prototype.ui_toggle_activation_css=function(e,t,i){_i_("3bb:e1f2c4e2"),t?(e.data("uiHideRowWhenInactive")&&e.show(),e.removeClass("disabled"),e.find("input.checkbox, input.js-discounts__checkbox").prop("checked",!0)):(e.data("uiHideRowWhenInactive")&&e.hide(),e.addClass("disabled"),e.find("input.checkbox, input.js-discounts__checkbox").prop("checked",!1)),_r_()},M.prototype.ui_update_price=function(e,t,i){_i_("3bb:9c75fdd1"),t&&0<e&&(i?t.setValue(e):t.update(e)),_r_()},M.prototype.ui_add_discount_inputs_in_payment_form=function(){if(_i_("3bb:469e8fe6"),this.UI_ELEM.bs3_cc_form.find("[name=bwcm]").remove(),this.can_we_apply_discounts())for(var e in this.discounts_map){if(this.discounts_map[e].b_is_active&&0!==e){var t=a("<input type='hidden' name='bwcm' value='"+e+"'>");this.UI_ELEM.bs3_cc_form.prepend(t)}}_r_()},M.prototype.update_campaign_discount=function(t,e){_i_("3bb:65e26dd8"),a.ajax({url:h+"/incentives/refresh_campaign_discounts",method:"POST",data:this.createUpdateCampaignBodyRequest(),context:this,success:function(e){(_i_("3bb:3d1bc97f"),e&&e.message&&e.message.b_wallet_instant_discounts&&this.discounts_map[t])&&(this.UI_ELEM.DISCOUNTS[t].find(".js-bwallet-discount-amount").html("- "+e.message.b_wallet_instant_discounts[0].b_pretty.b_uc_discount_amount),this.discounts_map[t]=e.message.b_wallet_instant_discounts_js[t],this.activate_discount(t));_r_()},error:function(e){},xhrFields:{withCredentials:!0}}),_r_()},M.prototype.createUpdateCampaignBodyRequest=function(){_i_("3bb:d1a3c2e2");var e={user_email:B.env.fe_email_for_coupons,user_token:B.env.b_csrf_token,user_currency_code:B.env.fe_user_currency_code_for_coupons,transaction_value:B.env.fe_current_value_for_coupons};return _r_(e)},t.getInstance=function(){return _i_("3bb:290a2b4d"),void 0===n&&this.init(),_r_(n)},t.init=function(){_i_("3bb:41e0ebea"),0<p.length&&(n=new M),_r_()},_r_()}),B.require(["campaign-discounts"],function(e){_i_("3bb:9b083e3a"),e.init(),_r_()}),B.define("payment-schedule-details",function(e,t){_i_("3bb:0b1d7004");var i,a=e("jquery"),n=e("server-data"),r=e("report-error"),_=e("campaign-discounts"),s=e("wallet-payment"),o=e("price-display-manager"),l=a("#payment_schedule_details");function c(){_i_("3bb:d98e6f43"),this.init(),_r_()}c.prototype.init=function(){_i_("3bb:f4f57102"),this.$el=l,this.wallet_payment_instance=s.getInstance(),this.campaign_discounts_instance=_.getInstance(),this.pay_all_price_display_manager=o.getInstance("bp_payment_schedule_pay_all"),this.du_now_price_display_manager=o.getInstance("bp_payment_schedule_du_today_price"),this.pay_all_price=this.pay_all_price_display_manager.getOriginalValue(),this.du_now_price=this.du_now_price_display_manager.getOriginalValue(),this.bp_user_total_price_display_manager=o.getInstance("bp_user_total_price"),this.bp_user_total_price_amount=this.bp_user_total_price_display_manager.getOriginalValue(),this.cancellation_cost_display_manager=[],this.cancellation_cost_amount=[],this.cancellation_cost_ratio=[];for(var e=0;e<8;e++)this.cancellation_cost_display_manager[e]=o.getInstance("bp_payment_cancellation_cost_"+e),this.cancellation_cost_amount[e]=this.cancellation_cost_display_manager[e].getOriginalValue()||0,this.bp_user_total_price_amount?this.cancellation_cost_ratio[e]=this.cancellation_cost_amount[e]/this.bp_user_total_price_amount:this.cancellation_cost_ratio[e]=0;this.init_du_later_breakdown_logic(),this.bind_events(),this.update_prices(),_r_()},c.prototype.init_du_later_breakdown_logic=function(){_i_("3bb:09e1c5ee");var e=a(".js-selector-bp-du-later");this.du_later_breakdown_display_manager=[],this.du_later_breakdown_price=[],this.du_later_breakdown_total_price=0,e.each(function(e,t){_i_("3bb:13d8dc55");var i=a(t).attr("data-animate-price-group-name"),n=o.getInstance(i);n&&(this.du_later_breakdown_display_manager[e]=n,this.du_later_breakdown_price[e]=n.getOriginalValue(),this.du_later_breakdown_total_price+=n.getOriginalValue()),_r_()}.bind(this)),_r_()},c.prototype.bind_events=function(){if(_i_("3bb:443d2232"),this.campaign_discounts_instance&&this.campaign_discounts_instance.on_change(function(){_i_("3bb:16a4f82a"),this.update_prices(),_r_()}.bind(this)),this.wallet_payment_instance&&this.wallet_payment_instance.on_change(function(){_i_("3bb:16a4f82a1"),this.update_prices(),_r_()}.bind(this)),1==n.fe_show_payment_timing_with_wallet){var t=this;try{var i=n.fe_is_mobile?e("component/booking-process/core/store"):e("bp/store")}catch(e){r("Error loading store: ",e)}i.subscribe(function(){_i_("3bb:af63a4d5");var e=n.fe_is_mobile?i.getState().paymentDetails.walletDetails:i.getState().wallet_details;t.update_prices(e&&e.walletUsed?e.creditsUsed:0),_r_()})}_r_()},c.prototype.update_prices=function(e){_i_("3bb:e5aee5e4");var t=0,i=0;if(this.campaign_discounts_instance){var n=this.campaign_discounts_instance.get_user_total_discount();n&&(t+=i=n)}void 0!==e?t+=e:this.wallet_payment_instance&&this.wallet_payment_instance.get_wallet_payment_amount&&(t+=this.wallet_payment_instance.get_wallet_payment_amount()),this.pay_all_price_display_manager.update(this.pay_all_price-t);var a=this.du_later_breakdown_total_price+this.du_now_price,r=(a-t)/a;this.du_now_price_display_manager.update(this.du_now_price*r);for(var _=0;_<this.du_later_breakdown_display_manager.length;_++)this.du_later_breakdown_display_manager[_].update(this.du_later_breakdown_price[_]*r);for(_=0;_<6;_++)this.cancellation_cost_amount[_]&&this.cancellation_cost_display_manager[_].update(this.cancellation_cost_amount[_]-i*this.cancellation_cost_ratio[_]);_r_()},t.getInstance=function(){return _i_("3bb:290a2b4d1"),void 0===i&&this.init(),_r_(i)},t.init=function(){_i_("3bb:2ddfcca4"),i=new c,_r_()},_r_()}),B.require(["payment-schedule-details"],function(e){_i_("3bb:defd8dd7"),e.init(),_r_()}),B.define("wallet-payment",function(e,t){_i_("3bb:1c28153c");var i,n=e("jquery"),a=e("events"),r=e("price-display-manager"),_=e("payment-online"),s=e("campaign-discounts"),o=e("server-data"),l=!!o.isImprovedDesktopUI,c=".wallet-input-value-group",d=".wallet-input-value-input",b="#available_credit",p=".js-wallet-price-update-block",u=".use-wallet-input",h="[name=wallet_instrument_payment_amount]",f="[name=wallet_payment_method]",m=".bs3_when_to_pay__wrapper",g=".bs3_when_to_pay__option_vertical,.bs3_when_to_pay__option,.payment_choice_timing",M=".cc_only_to_guarantee_text",v=".bp_overview_wallet_credit_block",y="#bs3_cc_form",C=".wallet-body",w="[data-hide-if-wallet-not-applied=true]",k=".js-project_tito_crosssell_bs3_wallet_banner",E="disabled",N="enabled",x="exceed_available_credit",S="exceed_payment_amount",T=n("#bwallet_bp_payment_block");function D(){_i_("3bb:1a369b77"),this.init(),_r_()}D.prototype.init=function(){if(_i_("3bb:368af76a"),1==o.fe_show_payment_timing_www_with_wallet)return _r_();this.$el=T,this.UI_ELEM={payment_amount_input_group:this.$el.find(c),payment_amount_input:this.$el.find(d),available_credit:this.$el.find(b),price_update_block:this.$el.find(p),payment_amount_hidden:this.$el.find(h),full_wallet_payment_input:this.$el.find(f),payment_time_wrapper:n(m),payment_time:n(g).find("input"),cc_guarantee_text:n(M),bs3_cc_form:n(y),wallet_body:n(C),input_use_wallet:n(u),payment_overview_wallet:n(v),pr_tito_bs3_credit_disclaimer:n(k)},this.payment_online_instance=_.getInstance(),this.campaign_discounts_instance=s.getInstance(),this.wallet_credit=parseFloat(this.$el.attr("data-wallet-credit")),this.total_price=parseFloat(this.$el.attr("data-wallet-max-amount")),this.user_total_discount=this.campaign_discounts_instance?this.campaign_discounts_instance.get_user_total_discount():0,this.status=null,this.wallet_currency=this.$el.data("wallet-currency"),this.first_enable=!0,this.rounding_precision=B.env.accounting_config.num_decimals[this.wallet_currency]||B.env.accounting_config.num_decimals.default||"2",this.available_credit_price_display_manager=r.getInstance("bwallet_bp_available_credit"),this.payment_tabs_comp=this.UI_ELEM.bs3_cc_form.component("pay/tab"),this.validationToolTip=this.UI_ELEM.payment_amount_input.component("tooltip").tooltip,this.bind_input(),a.on("payment:pay_online:changed",this.payment_changed.bind(this));var e=Math.min(this.total_price,this.wallet_credit);this.initial_amount=Math.min(e,""!=this.$el.data("user-selected-amount")?this.$el.data("user-selected-amount"):e),this.UI_ELEM.payment_amount_input.attr("min",0),this.UI_ELEM.payment_amount_input.attr("max",Math.ceil(e)),this.payment_online_instance.select_online_payment_option(),this.payment_changed(this.payment_online_instance.get_current_status()),a.on("campaign::discounts::changed",this.discount_changed.bind(this)),_r_()},D.prototype.get_wallet_payment_amount=function(){return _i_("3bb:a8303664"),_r_(this.wallet_payment_amount)},D.prototype.on_change=function(e){_i_("3bb:d16ae682"),a.on("wallet::payment::changed",e),_r_()},D.prototype.discount_changed=function(e){if(_i_("3bb:1e314f7b"),this.user_total_discount==e.user_total_discount)return _r_();this.user_total_discount=e.user_total_discount;var t=Math.ceil(Math.min(this.total_price-this.user_total_discount,this.wallet_credit));this.UI_ELEM.payment_amount_input.attr("max",t),t<this.wallet_payment_amount?this.init_payment_amount_input(t):this.ui_on_wallet_amount_changed(this.wallet_payment_amount),_r_()},D.prototype.payment_changed=function(e){_i_("3bb:fe352d54"),e?this.enable():this.disable(),_r_()},D.prototype.disable=function(e){_i_("3bb:2d1c001b"),this.UI_ELEM.wallet_body.hide(),this.UI_ELEM.pr_tito_bs3_credit_disclaimer.length&&this.UI_ELEM.pr_tito_bs3_credit_disclaimer.addClass("bui-u-hidden"),this.reset(),this.status=E,this.update_use_wallet_inputs(!1),e&&this.$el.hide(),_r_()},D.prototype.enable=function(e){if(_i_("3bb:9d695f1e"),this.$el.show(),e||this.first_enable){this.first_enable=!1;var t=Math.min(this.wallet_credit,this.total_price-this.user_total_discount);null!=this.initial_amount&&(t=this.initial_amount,this.initial_amount=null),this.update_available_credit(t),this.UI_ELEM.wallet_body.show(),this.UI_ELEM.pr_tito_bs3_credit_disclaimer.length&&this.UI_ELEM.pr_tito_bs3_credit_disclaimer.removeClass("bui-u-hidden"),this.update_use_wallet_inputs(!0)}this.status=N,_r_()},D.prototype.reset=function(){_i_("3bb:c6aa8bf9"),this.update_available_credit(0),this.UI_ELEM.payment_amount_input.val(""),_r_()},D.prototype.bind_input=function(){_i_("3bb:73754a18"),this.UI_ELEM.payment_amount_input.change(function(){_i_("3bb:af4aea15");var e=parseFloat(this.UI_ELEM.payment_amount_input.val());this.update_available_credit(e||0,!0),_r_()}.bind(this)),this.UI_ELEM.payment_amount_input.focus(function(){_i_("3bb:f1f0c505"),this.UI_ELEM.payment_amount_input[0].select(),_r_()}.bind(this)),this.UI_ELEM.payment_amount_input.blur(function(){_i_("3bb:a23a21bd"),this.validationToolTip.hide(),_r_()}.bind(this)),this.UI_ELEM.input_use_wallet.change(function(e){_i_("3bb:d2aed71d");var t=this.UI_ELEM.input_use_wallet.is(":checked");t?(this.payment_online_instance.select_online_payment_option(),this.enable(!0)):this.disable(),n(w).toggleClass("bui-u-hidden",!t),_r_()}.bind(this)),this.UI_ELEM.payment_amount_input.keypress(function(e){if(_i_("3bb:3ba5e5c5"),13===e.keyCode)return e.stopPropagation(),e.preventDefault(),this.UI_ELEM.payment_amount_input.blur(),_r_(!1);_r_()}.bind(this)),_r_()},D.prototype.validate_input=function(e){return _i_("3bb:2f0a161d"),e<0?(this.display_validation_message(x),_r_(!1)):e>this.wallet_credit?(this.display_validation_message(x),_r_(!1)):e>this.total_price-this.user_total_discount?(this.display_validation_message(S),_r_(!1)):_r_(!0)},D.prototype.init_payment_amount_input=function(e){_i_("3bb:ae057eb9"),this.UI_ELEM.payment_amount_input.val(e),this.UI_ELEM.payment_amount_input.trigger("change"),_r_()},D.prototype.update_available_credit=function(e,t){_i_("3bb:5b341469"),this.validate_input(e)||(e=Math.min(this.wallet_credit,this.total_price-this.user_total_discount)),this.ui_on_wallet_amount_changed(e,t),this.wallet_payment_amount=e,a.trigger("wallet::payment::changed",e),_r_()},D.prototype.ui_on_wallet_amount_changed=function(e,t){_i_("3bb:754e7855");var i=e.toFixed(this.rounding_precision);this.UI_ELEM.payment_amount_input.val(i),t&&this.UI_ELEM.payment_amount_input.focus(),this.available_credit_price_display_manager.update(this.wallet_credit-e),this.UI_ELEM.payment_amount_hidden.val(e),this.update_price_details_block(e),_r_()},D.prototype.update_use_wallet_inputs=function(e){_i_("3bb:1383d775"),e?this.UI_ELEM.input_use_wallet.prop("checked",!0):this.UI_ELEM.input_use_wallet.removeAttr("checked"),_r_()},D.prototype.update_price_details_block=function(e){if(_i_("3bb:38aa6a55"),0<e){var t=parseFloat((this.total_price-e-this.user_total_discount).toFixed(this.rounding_precision));e=parseFloat(e.toFixed(this.rounding_precision)),this.update_overview_booking(t,e);var i=B.jstmpl("b_block_update_price_message").render({b_amount_with_currency:B.utils.accounting.formatMoney(t,this.wallet_currency)});this.UI_ELEM.price_update_block.html(i),0===t?(this.UI_ELEM.price_update_block.html(B.jstmpl("b_block_full_payment_message").render({isImprovedDesktopUI:l})),this.UI_ELEM.full_wallet_payment_input.val("1"),this.hide_cc_payment_form()):(this.UI_ELEM.full_wallet_payment_input.val("0"),this.show_cc_payment_form())}else this.update_overview_booking(this.total_price-this.user_total_discount,0),this.UI_ELEM.price_update_block.html(B.jstmpl("b_block_no_credit_apply_message").render()),this.UI_ELEM.full_wallet_payment_input.val("0"),this.show_cc_payment_form();_r_()},D.prototype.update_overview_booking=function(e,t){(_i_("3bb:35d15229"),0===t)?this.UI_ELEM.payment_overview_wallet.hide():(this.UI_ELEM.payment_overview_wallet.show(),this.UI_ELEM.payment_overview_wallet.find("#remaining").html(B.jstmpl.translations("wallet_price_breakdown_amended_total",null,{amount_with_currency:B.utils.accounting.formatMoney(e,this.wallet_currency)})),this.UI_ELEM.payment_overview_wallet.find(".bwallet-wallet-label-block #text").html(B.jstmpl.translations("wallet_price_breakdown_amended_credit",null,{amount_with_currency:B.utils.accounting.formatMoney(t,this.wallet_currency)})));_r_()},D.prototype.display_validation_message=function(e){_i_("3bb:02cd6a2f"),e===x?this.validationToolTip.settings.content=B.jstmpl.translations("wallet_bp_credit_error_too_much",null,{amount_with_currency:B.utils.accounting.formatMoney(this.wallet_credit,this.wallet_currency)}):e===S&&(this.validationToolTip.settings.content=B.jstmpl.translations("wallet_bp_credit_error_more_than_price",null,{amount_with_currency:B.utils.accounting.formatMoney(this.total_price-this.user_total_discount,this.wallet_currency)})),setTimeout(function(){_i_("3bb:5a2d6b14"),this.validationToolTip.show(),_r_()}.bind(this),250),_r_()},D.prototype.hide_cc_payment_form=function(){_i_("3bb:a34508b6"),this.payment_tabs_comp&&this.payment_tabs_comp.disableCurrentTab(),this.UI_ELEM.bs3_cc_form.hide(),_r_()},D.prototype.show_cc_payment_form=function(){_i_("3bb:ca4d3335"),this.payment_tabs_comp&&this.payment_tabs_comp.enableCurrentTab(),this.UI_ELEM.bs3_cc_form.show(),_r_()},t.getInstance=function(){return _i_("3bb:290a2b4d2"),void 0===i&&this.init(),_r_(i)},t.init=function(){if(_i_("3bb:4aae76fa"),i)return _r_(i);if(0<T.length){if(!(i=new D).payment_online_instance)return _r_();setTimeout(function(){_i_("3bb:78e6c83e"),i.payment_online_instance.select_online_payment_option(),i.payment_changed(i.payment_online_instance.get_current_status()),_r_()},333)}_r_()},_r_()}),B.require(["wallet-payment"],function(e){_i_("3bb:c258e19d"),e.init(),_r_()}),booking.jstmpl("b_block_full_payment_message",function(){_i_("3bb:bacd3feb");var a,r=["\n     ","\n",'\n<div class="wallet-price_remainder">\n    <div class="bui-alert bui-alert--success bui-alert--inline" role="status">\n        <span class="icon--hint bui-alert__icon" role="presentation">\n            ',"streamline/checkmark","24",'\n        </span>\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">',"/private/bp_bwallet_total_price_is_covered_by_wallet/name","</p>\n        </div>\n    </div>\n</div>\n",'\n<div class="wallet-price_remainder">\n    ',"iconset/checkmark_selected","large",'<span class="wallet-form_value wallet-form_value_positive">',"</span>\n</div>\n"],_=["isImprovedDesktopUI"];return _r_(function(e){_i_("3bb:3692e4c4");var t,i="",n=this.fn;return i+=r[0],t=i,_i_("3bb:05df32ed"),t+=r[1],n.MD(_[0])?t+=[r[2],(e.unshift({name:r[3],width:r[4]}),a=n.HELPER("icon",e[0]),e.shift(),a),r[5],n.ME(r[6],n.MB,n.MN,null),r[7]].join(""):(t+=[r[8],(e.unshift({color:"#008009",name:r[9],size:r[10]}),a=n.HELPER("icon",e[0]),e.shift(),a)].join(""),t+=[r[11],n.ME(r[6],n.MB,n.MN,null),r[12]].join("")),t+=r[1],i=_r_(t),i+=r[1],_r_(i)})}()),booking.jstmpl("b_block_no_credit_apply_message",function(){_i_("3bb:00cb67fd");var a=["\n     ",'<div class="wallet-message-more">\n    ',"/private/wallet_bp_no_credit_applied/name","\n</div>\n","\n"];return _r_(function(e){_i_("3bb:05f7ba19");var t,i="",n=this.fn;return i+=a[0],t=i,_i_("3bb:812d5154"),t+=[a[1],n.ME(a[2],n.MB,n.MN,null),a[3]].join(""),i=_r_(t),i+=a[4],_r_(i)})}()),booking.jstmpl("b_block_update_price_message",function(){_i_("3bb:fad45593");var a,r=["\n     ",'<div class="wallet-price_remainder">\n    <span class="wallet-form_label">\n        ',"/private/bp_bs3_wallet_block_amount_left_to_pay/name","\n    </span>\n</div>\n","\n"],_=["b_amount_with_currency"];return _r_(function(e){_i_("3bb:79a2b805");var t,i="",n=this.fn;return i+=r[0],t=i,_i_("3bb:26ac62ee"),t+=[r[1],(e.unshift({payment_amount:"<b>"+n.MC(_[0])+"</b>"}),a=n.ME(r[2],n.MB,n.MN,null),e.shift(),a),r[3]].join(""),i=_r_(t),i+=r[4],_r_(i)})}()),B.when({condition:"book"===B.env.b_action&&3===B.env.b_stage&&B.env.b_alt_payment_available&&!B.env.fe_run_wechat_payment,events:"ready",experiment:"HBbQEdNHWEVTCTdZWPSJQIO"}).run(function(e){_i_("3bb:32e283af"),$("#bookForm").on("submit",function(e){_i_("3bb:e6ba189f");var t=this,i=$(this).find('[name="phone"]');if(0<i.length&&""===i.val().trim())return _r_(!0);if($(this).attr("data-disabled"))return _r_(!0);e.preventDefault(),B.et.customGoal("HBbQEdNHWEVTCTdZWPSJQIO",1),setTimeout(function(){_i_("3bb:a315c4c8"),t.submit(),_r_()},0),_r_()}),_r_()}),B.when({condition:"www"===B.env.b_site_type&&2===B.env.b_stage&&0===parseInt(B.env.auth_level,10),action:"book"}).run(function(){_i_("3bb:a48a4e21");var t=B.require("keycodes"),e=$("#optional_password");if(0===e.length)return _r_();e.on("keydown",function(e){_i_("3bb:3577fa5f"),t.isEnter(e.which)&&e.preventDefault(),_r_()}),_r_()}),function(){_i_("3bb:281fa47c");var e=B&&B.env&&B.env.fe_run_wechat_payment;B.when({action:"book",condition:3===B.env.b_stage&&!e,events:"ready"}).run(function(e){_i_("3bb:7a4ff5c0");var t=e("events"),i=$(".empty_phone_number_remedy_wrapper"),n=$("#bookForm"),a=n.find('[name="phone"]');if(0===a.length||0===i.length)return _r_();var r=e("lightbox"),_=e("keycodes"),s=e("bp/store"),o=e("booking-process/validation/validate").validate,l=i.find(".empty_phone_number_remedy_input"),c=".js-bp-submit-button--complete-phone-remedy";function d(e){_i_("3bb:f3674650"),e.preventDefault(),o([{name:"phone",value:l.val()}]).then(function(e){if(_i_("3bb:de6eb179"),s.dispatch({type:"UPDATE_VALIDATION_FIELDS",payload:e.results}),e.results.fields.phone&&"valid"===e.results.fields.phone.status){$(".modal-mask-closeBtn").remove(),$(".modal-mask").off("click");var t=$(c);t.prop("disabled",!0),t.find(".js-button__text").text(B.jstmpl.translations("fe_bp_booking_in_progress_button_message_booking")),n[0].submit()}_r_()}),_r_()}a.on("keyup",function(e){_i_("3bb:99f90945"),l.val(e.target.value),_r_()}),l.on("keyup",function(e){_i_("3bb:b5267a37"),a.val(e.target.value),_r_()}),t.on("bp:show_phone_remedy",function(){_i_("3bb:0a0f4719"),r.hide(),r.show(i,{bCloseButton:!0,bMaskClick:!0,closeOnEsc:!1}),_r_()}),$("body").on("click",c,d),l.on("keydown",function(e){_i_("3bb:2e88227f"),_.isEnter(e.which)&&(e.preventDefault(),d(e));_r_()}),_r_()}),_r_()}(),B.require(["jquery","et"],function(e,t){"use strict";if(_i_("3bb:c61ec3a3"),"xc"!==B.env.b_countrycode)return _r_();e("[name=reason_to_visit_checkbox]").one("change",function(){_i_("3bb:8a14bc39"),B.require("ga-tracker").trackEvent({type:"Crimea",action:"Checkbox click"}),_r_()}),setTimeout(function(){(_i_("3bb:1e5a1042"),e("[name=reason_to_visit_checkbox]").length)&&B.require("ga-tracker").trackEvent({type:"Crimea",action:"Checkbox is present"});_r_()},4),_r_()}),B.when({action:"book",condition:3===B.env.b_stage&&2<=parseInt(B.env.auth_level,10)&&B.env.b_alt_payment_available}).run(function(){_i_("3bb:015912df");var e=$(".cc_radio"),t=$(".bp_new_cc_form--with_alt_payments");e.filter(":checked").is(".cc_radio--new_card")&&t.addClass("bp_new_cc_form--active"),$(".cc_radio").on("change",function(){_i_("3bb:8ab718a6"),$(this).is(".cc_radio--new_card")?t.addClass("bp_new_cc_form--active"):t.removeClass("bp_new_cc_form--active"),_r_()}),_r_()}),function(){"use strict";_i_("3bb:feb1d957"),B.when({condition:3===B.env.b_stage||B.env.fe_collect_fp_screen_dimensions}).run(function(e){_i_("3bb:3d137906");var a=e("jquery");a("#bookForm").on("submit",function(){_i_("3bb:c05f6d30");var e=a("#bookForm #vpmlog"),t=a(window),i=parseInt(t.width(),10),n=parseInt(t.height(),10);e.length&&e.val(i+","+n),_r_()}),_r_()}),_r_()}(),function(){"use strict";_i_("3bb:254176ee"),B.when({events:"ready",action:"book"}).run(function(e){_i_("3bb:015c9565");var t=e("events"),i=e("bp/emitter");t.on("bp:leaving_users_keeper:open",function(){_i_("3bb:79c426d0"),i.trigger("leaving_users_keeper:open"),_r_()}),t.on("bp:leaving_users_keeper:close",function(){_i_("3bb:690b6eeb"),i.trigger("leaving_users_keeper:close"),_r_()}),_r_()}),_r_()}(),_i_("3bb:c4183964"),B.when({action:"book",condition:3===B.env.b_stage&&!B.env.fe_run_wechat_payment}).run(function(e){_i_("3bb:829eb9e3");var n,t,r,_,i,a,s,o,l,c,d=e("ga-tracker"),b=e("booking-process/validation/validate").validate,p=B.require("bp/circular-loader"),u=B.require("jstmpl"),h=B.require("bp/env"),f=e("events"),m=e("server-data"),g=e("bp/store"),M=1==m.fe_payplatform?0:750,v=5e3,y=[{title:"bp_interstitial_header_1",subtitle:"bp_interstitial_bline_1"},{title:"bp_interstitial_header_2",subtitle:"bp_interstitial_bline_2"},{title:"bp_interstitial_header_3",subtitle:"bp_interstitial_bline_3"}],C={creditcard:[{title:"pay_loader_1_header_verb",subtitle:"pay_loader_1_subheader_explanation"},{title:"pay_loader_2_header_verb",subtitle:"pay_loader_2_subheader_explanation"},{title:"pay_loader_3_header_verb",subtitle:"pay_loader_3_subheader_explanation"}],hpps:[{title:"pay_loader_1_hpp_header_verb",subtitle:"pay_loader_1_hpp_subheader_explanation"},{title:"pay_loader_2_hpp_header_verb",subtitle:"pay_loader_2_hpp_subheader_explanation"},{title:"pay_loader_3__hppheader_verb",subtitle:"pay_loader_3_hpp_subheader_explanation"}],cash:[{title:"pay_loader_1_cash_header_verb",subtitle:"pay_loader_1_cash_subheader_explanation"},{title:"pay_loader_2_cash_header_verb",subtitle:"pay_loader_2_cash_subheader_explanation"},{title:"pay_loader_3_cash_header_verb",subtitle:"pay_loader_3_cash_subheader_explanation"}]},w=["bicon-arrowup","bicon-arrowdown","bicon-tickfull"],k="book:submit:loading-indicator",E="book:submit:loading-indicator-stop",N=[],x=[],S=!1;function T(e){_i_("3bb:b234e4cb");var t=[],i=g.getState(),n=i&&i.payment_timing?i.payment_timing.type:void 0,a=$('[name="wallet_payment_method"]')&&1==$('[name="wallet_payment_method"]').val();if(t=["address1","city","phone"],h.get("showBDate")&&(t=t.concat(["bday","bmonth","byear"])),"skip-and-pay-later"!==n&&!a&&(null==e||"creditcard"==e)&&$(".cc.pp_info",s).length){var r=i&&i.payment_cc_details,_=r&&r.cc_card_id;t=t.concat(["cc_type","cc_number","cc_month","cc_year"]),h.get("cvc_required")&&!_&&(t.push("cc_cvc"),D())}l=t.reduce(function(e,t){return _i_("3bb:bd751488"),$("[name="+t+"]",s).length&&e.push(t),_r_(e)},[]),_r_()}function D(){_i_("3bb:f3bcf042");var e=h.get("payment_methods")||[];c=e.reduce(function(e,t){return _i_("3bb:c3c6b067"),e[t.abbr]=t.name,_r_(e)},{}),x=[c.americanexpress,c.dinersclub,c.jcb],h.get("amex_cvc_required")&&x.splice(x.indexOf(c.americanexpress),1),_r_()}function A(){_i_("3bb:c45ebffc"),S=!1,$("body").css("overflow","auto"),t.css("display","none"),function(){_i_("3bb:212096c7");for(var e=0;e<N.length;e++)clearTimeout(N[e]);N=[],_r_()}(),n.destroy(),_r_()}function j(){_i_("3bb:352f5e2d");var e=1;if(m.FE_PBB__IS_AVAILABLE){var t=g.getState(),i=t&&t.payment_method?t.payment_method.name:"creditcard";"creditcard"!==i&&"wxchat"!==i&&(e=3)}!function(e){switch(_i_("3bb:d418dcdd"),e){case 1:n.setPercentage(33),N.push(setTimeout(function(){_i_("3bb:c0143a311"),I(2),_r_()},2250));break;case 2:n.setPercentage(66),N.push(setTimeout(function(){_i_("3bb:01320fcd1"),I(3),_r_()},2250));break;default:n.setPercentage(94)}F(e),P(e),_r_()}(e),_r_()}function I(e){switch(_i_("3bb:6be91ad4"),e){case 1:n.setPercentage(33),N.push(setTimeout(function(){_i_("3bb:c0143a31"),I(2),_r_()},2250));break;case 2:n.setPercentage(66),N.push(setTimeout(function(){_i_("3bb:01320fcd"),I(3),_r_()},2250));break;default:n.setPercentage(94)}F(e),P(e),_r_()}function F(e){_i_("3bb:b6e9cabb");var t=y,i={};if(m.FE_PBB__IS_AVAILABLE){t=C.creditcard;var n=g.getState(),a=n&&n.payment_method?n.payment_method.name:"creditcard";"alfamart"==a||"indomaret"==a||"permata_net_atm"==a?t=C.cash:"creditcard"!==a&&"wxchat"!==a&&(t=C.hpps,i={hpp:a})}r.html(u.translations(t[e-1].title,null,{})),_.html(u.translations(t[e-1].subtitle,null,i)),_r_()}function P(e){_i_("3bb:ba0f084a"),i.removeClass(w.join(" ")),setTimeout(function(){_i_("3bb:61370874"),i.addClass(w[e-1]),_r_()},16),_r_()}function O(e){if(_i_("3bb:30b8d511"),S)return _r_();S=!0,o.trigger("mouseleave").tooltip("destroy"),N.push(setTimeout(function(){_i_("3bb:53d0c42f"),_i_("3bb:8e7f7f23"),$("body").css("overflow","hidden"),t.css("display","block"),n.render(),d.trackEvent("Booking Process","Confirmation","Interstitial seen",null),N.push(setTimeout(j,250)),_r_(),_r_()},M)),1!=m.fe_enable_sca_flow&&1!=m.fe_payplatform&&N.push(setTimeout(function(){_i_("3bb:b6a0ed6c"),e.target.submit(),_r_()},v)),_r_()}function L(){_i_("3bb:4d0bda99"),N.push(setTimeout(function(){_i_("3bb:2111e05d"),A(),_r_()},M+2e3)),_r_()}function J(i){_i_("3bb:d513254b"),s.attr("data-disabled",!0),i.preventDefault(),i.stopPropagation();var e=g.getState();T(e&&e.payment_method?e.payment_method.name:"creditcard"),b(function(e){_i_("3bb:b34dea53");var t=g.getState(),i=t&&t.payment_cc_details,n=i&&i.cc_card_id,a=i&&i.cc_type,r=s.find('[name="cc_type"]').val();return n?r=a:s.find('[name="cc_type"][type="radio"]').length?r=s.find('[name="cc_type"][type="radio"]:checked').val():s.find('select[name="cc_type"]').length&&(r=s.find('select[name="cc_type"]').val()),_r_(e.reduce(function(e,t){if(_i_("3bb:0cdce8d9"),"cc_cvc"===t&&0<=x.indexOf(r))return _r_(e);if("cc_name"===t&&r===c.americanexpress)return _r_(e);return e.push({name:t,value:"cc_type"===t?r:s.find('[name="'+t+'"]').val()}),_r_(e)},[]))}(l),1).then(function(e){_i_("3bb:618f615e");var t=e.results&&"true"===(e.results.valid||"").toString();t?O(i):!t&&function(i){_i_("3bb:73bc555c");var e=Object.keys(i).reduce(function(e,t){return _i_("3bb:eec68340"),"error"===i[t].status&&(e[t]=i[t]),_r_(e)},{});return _r_(1===Object.keys(e).length&&e.phone)}(e.results.fields)?m.fe_run_wechat_payment||f.trigger("bp:show_phone_remedy"):i.target.submit(),_r_()}),_r_()}_i_("3bb:7bb92b6b"),t=$(".bp_interstitial"),r=t.find(".bp_interstitial__title"),_=t.find(".bp_interstitial__subtitle"),i=t.find(".bp_interstitial__icon"),a=t.find(".bp_interstitial__logo_wrapper"),h.get("isHybridSite")&&a.addClass("bui-u-hidden"),s=$("#bookForm"),o=$(".submit_holder_button_wrap.jq_tooltip"),n=p.create({parentNode:t.find(".bp_interstitial__preloader"),baseClass:"bp_interstitial__progress"}),D(),T(),_i_("3bb:0afc8029"),1==m.fe_enable_sca_flow||1==m.fe_payplatform?(f.on(k,O),f.on(E,L)):s.on("submit",J),_r_(),_r_(),_r_()}),_r_(),_i_("3bb:8bcceb23"),B.when({events:"ready",action:"book",condition:3==B.env.b_stage&&"www"===B.env.b_site_type&&("0"===B.env.auth_level||"1"===B.env.auth_level)}).run(function(e){_i_("3bb:7028a0fb");var t=e("jquery"),i=function(){_i_("3bb:5d9b110c");var e=t("#address1, #city, #phone").filter(function(e,t){return _i_("3bb:28a67d2f"),_r_(""===t.value)});return"1"===B.env.auth_level&&t(e[0]).attr("id"),_r_(t(e[0]))}();i.length&&"0"===B.env.auth_level&&i.trigger("focus"),_r_()}),_r_(),_i_("3bb:b996ad49"),B.when({action:"book",events:"ready",condition:"www"===B.env.b_site_type}).run(function(e){_i_("3bb:1014b431");var t=e("jquery");t(document).on("change","#rlu_persistent_dismissal",function(e){_i_("3bb:eb3cb601"),t.ajax({url:"/rlu_persistent_dismissal",method:"POST",data:{dismiss_rlu:t(e.currentTarget).prop("checked")}}),_r_()}),_r_()}),_r_(),function(e){"use strict";_i_("3bb:c970d6c8"),"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery),_r_()}(function(s){"use strict";_i_("3bb:06d74a49");var r=window.Slick||{};(r=function(){_i_("3bb:1a9b8522");var _=0;return _r_(function(e,t){_i_("3bb:aa04535a");var i,n,a,r=this;if(r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:s(e),appendDots:s(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return _i_("3bb:47add93f"),_r_('<button type="button" data-role="none">'+(t+1)+"</button>")},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,galleryMode:"normal",infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,keydownOverride:!1,keydownSpeed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,currentSpeed:null,iskeyboardEvent:!1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},s.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.hidden="hidden",r.paused=!1,r.positionProp=null,r.respondTo=null,r.shouldClick=!0,r.$slider=s(e),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,i=s(e).data("slick")||{},r.options=s.extend({},r.defaults,i,t),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,(n=r.options.responsive||null)&&-1<n.length){for(a in r.respondTo=r.options.respondTo||"window",n)n.hasOwnProperty(a)&&(r.breakpoints.push(n[a].breakpoint),r.breakpointSettings[n[a].breakpoint]=n[a].settings);r.breakpoints.sort(function(e,t){return _i_("3bb:c2b72627"),!0===r.options.mobileFirst?_r_(e-t):_r_(t-e)})}void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(r.hidden="msHidden",r.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=s.proxy(r.autoPlay,r),r.autoPlayClear=s.proxy(r.autoPlayClear,r),r.changeSlide=s.proxy(r.changeSlide,r),r.clickHandler=s.proxy(r.clickHandler,r),r.selectHandler=s.proxy(r.selectHandler,r),r.setPosition=s.proxy(r.setPosition,r),r.swipeHandler=s.proxy(r.swipeHandler,r),r.dragHandler=s.proxy(r.dragHandler,r),r.keyHandler=s.proxy(r.keyHandler,r),r.autoPlayIterator=s.proxy(r.autoPlayIterator,r),r.instanceUid=_++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.init(),r.checkResponsive(!0),_r_()})}()).prototype.addSlide=r.prototype.slickAdd=function(e,t,i){_i_("3bb:1873807f");var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return _r_(!1);n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?s(e).appendTo(n.$slideTrack):i?s(e).insertBefore(n.$slides.eq(t)):s(e).insertAfter(n.$slides.eq(t)):!0===i?s(e).prependTo(n.$slideTrack):s(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){_i_("3bb:fa93a0c01"),s(t).attr("data-slick-index",e),_r_()}),n.$slidesCache=n.$slides,n.reinit(),_r_()},r.prototype.animateHeight=function(){_i_("3bb:5c984c58");var e=this.options.animateHeightSpeed||this.options.speed;if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var t=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:t},e)}_r_()},r.prototype.animateSlide=function(e,t){_i_("3bb:b902e881");var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),s({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){_i_("3bb:67f59eb1"),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i),_r_()},complete:function(){_i_("3bb:ed4aef1a"),t&&t.call(),_r_()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){_i_("3bb:07179984"),n.disableTransition(),t.call(),_r_()},n.options.speed)),_r_()},r.prototype.asNavFor=function(e){_i_("3bb:e8b7bb75");var t=null!==this.options.asNavFor?s(this.options.asNavFor).slick("getSlick"):null;null!==t&&t.slideHandler(e,!0),_r_()},r.prototype.applyTransition=function(e){_i_("3bb:5ddae8bc");var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i),_r_()},r.prototype.autoPlay=function(){_i_("3bb:1e6757ca");this.autoPlayTimer&&clearInterval(this.autoPlayTimer),this.slideCount>this.options.slidesToShow&&!0!==this.paused&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed)),_r_()},r.prototype.autoPlayClear=function(){_i_("3bb:af3f522d");this.autoPlayTimer&&clearInterval(this.autoPlayTimer),_r_()},r.prototype.autoPlayIterator=function(){_i_("3bb:e6097c53");var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll),_r_()},r.prototype.buildArrows=function(){_i_("3bb:76e69167");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=s(e.options.prevArrow),e.$nextArrow=s(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled")),_r_()},r.prototype.buildDots=function(){_i_("3bb:b8f116fc");var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";t+="</ul>",i.$dots=s(t).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}_r_()},r.prototype.buildOut=function(){_i_("3bb:6853e134");var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){_i_("3bb:fa93a0c0"),s(t).attr("data-slick-index",e),_r_()}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?s('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-hidden="true" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),s("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable"),_r_()},r.prototype.checkResponsive=function(e){_i_("3bb:7df269de");var t,i,n,a=this,r=a.$slider.width(),_=window.innerWidth||s(window).width();if("window"===a.respondTo?n=_:"slider"===a.respondTo?n=r:"min"===a.respondTo&&(n=Math.min(_,r)),a.originalSettings.responsive&&-1<a.originalSettings.responsive.length&&null!==a.originalSettings.responsive){for(t in i=null,a.breakpoints)a.breakpoints.hasOwnProperty(t)&&(!1===a.originalSettings.mobileFirst?n<a.breakpoints[t]&&(i=a.breakpoints[t]):n>a.breakpoints[t]&&(i=a.breakpoints[t]));null!==i?null!==a.activeBreakpoint?i!==a.activeBreakpoint&&(a.activeBreakpoint=i,"unslick"===a.breakpointSettings[i]?a.unslick():(a.options=s.extend({},a.originalSettings,a.breakpointSettings[i]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh())):(a.activeBreakpoint=i,"unslick"===a.breakpointSettings[i]?a.unslick():(a.options=s.extend({},a.originalSettings,a.breakpointSettings[i]),!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh())):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===e&&(a.currentSlide=a.options.initialSlide),a.refresh())}_r_()},r.prototype.changeSlide=function(e,t){_i_("3bb:0c4c634e");var i,n,a=this;switch(s(e.target).is("a")&&e.preventDefault(),i=a.slideCount%a.options.slidesToScroll!=0?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,e.data.message){case"previous":n=0===i?a.options.slidesToScroll:a.options.slidesToShow-i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-n,!1,t);break;case"next":n=0===i?a.options.slidesToScroll:i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+n,!1,t);break;case"index":var r=0===e.data.index?0:e.data.index||s(e.target).parent().index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(r),!1,t);break;default:return _r_()}_r_()},r.prototype.checkNavigable=function(e){_i_("3bb:2e3760ed");var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return _r_(e)},r.prototype.clickHandler=function(e){_i_("3bb:810abac5");!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),_r_()},r.prototype.destroy=function(){_i_("3bb:3c19434e");var e=this;e.autoPlayClear(),e.touchObject={},s(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden","true").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.unbind(".slick"),s(window).unbind(".slick-"+e.instanceUid),s(document).unbind(".slick-"+e.instanceUid),e.$slider.html(e.$slides),_r_()},r.prototype.disableTransition=function(e){_i_("3bb:b2756228");var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t),_r_()},r.prototype.fadeSlide=function(e,t){_i_("3bb:c1100626");var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.options.speed?i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t):i.$slides.eq(e).show(i.options.speed,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){_i_("3bb:a3438e15"),i.disableTransition(e),t.call(),_r_()},i.options.speed)),_r_()},r.prototype.filterSlides=r.prototype.slickFilter=function(e){_i_("3bb:99588b02");null!==e&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit()),_r_()},r.prototype.getCurrent=r.prototype.slickCurrentSlide=function(){_i_("3bb:d878ac94");return _r_(this.currentSlide)},r.prototype.getDotCount=function(){_i_("3bb:d90cc7a5");var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else if(!0===e.options.centerMode)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return _r_(n-1)},r.prototype.getLeft=function(e){_i_("3bb:0a691e40");var t,i,n,a=this,r=0;return a.slideOffset=0,i=a.$slides.first().outerHeight(),!0===a.options.infinite?(a.slideCount>a.options.slidesToShow&&(a.slideOffset=a.slideWidth*a.options.slidesToShow*-1,r=i*a.options.slidesToShow*-1),a.slideCount%a.options.slidesToScroll!=0&&e+a.options.slidesToScroll>a.slideCount&&a.slideCount>a.options.slidesToShow&&(e>a.slideCount?(a.slideOffset=(a.options.slidesToShow-(e-a.slideCount))*a.slideWidth*-1,r=(a.options.slidesToShow-(e-a.slideCount))*i*-1):(a.slideOffset=a.slideCount%a.options.slidesToScroll*a.slideWidth*-1,r=a.slideCount%a.options.slidesToScroll*i*-1))):e+a.options.slidesToShow>a.slideCount&&(a.slideOffset=(e+a.options.slidesToShow-a.slideCount)*a.slideWidth,r=(e+a.options.slidesToShow-a.slideCount)*i),a.slideCount<=a.options.slidesToShow&&(r=a.slideOffset=0),!0===a.options.centerMode&&!0===a.options.infinite?a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)-a.slideWidth:!0===a.options.centerMode&&(a.slideOffset=0,a.slideOffset+=a.slideWidth*Math.floor(a.options.slidesToShow/2)),t=!1===a.options.vertical?e*a.slideWidth*-1+a.slideOffset:e*i*-1+r,!0===a.options.variableWidth&&(t=(n=a.slideCount<=a.options.slidesToShow||!1===a.options.infinite?a.$slideTrack.children(".slick-slide").eq(e):a.$slideTrack.children(".slick-slide").eq(e+a.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===a.options.centerMode&&(t=(n=!1===a.options.infinite?a.$slideTrack.children(".slick-slide").eq(e):a.$slideTrack.children(".slick-slide").eq(e+a.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,t+=(a.$list.width()-n.outerWidth())/2)),_r_(t)},r.prototype.getOption=r.prototype.slickGetOption=function(e){_i_("3bb:aa126de6");return _r_(this.options[e])},r.prototype.getNavigableIndexes=function(){_i_("3bb:b807f95a");var e,t=this,i=0,n=0,a=[];for(!1===t.options.infinite?(e=t.slideCount-t.options.slidesToShow+1,!0===t.options.centerMode&&(e=t.slideCount)):(i=-1*t.slideCount,n=-1*t.slideCount,e=2*t.slideCount);i<e;)a.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return _r_(a)},r.prototype.getSlick=function(){return _i_("3bb:b34e3db8"),_r_(this)},r.prototype.getSlideCount=function(){_i_("3bb:52494332");var e,i,n,a=this;return n=!0===a.options.centerMode?a.slideWidth*Math.floor(a.options.slidesToShow/2):0,!0===a.options.swipeToSlide?(a.$slideTrack.find(".slick-slide").each(function(e,t){if(_i_("3bb:f3f48d61"),t.offsetLeft-n+s(t).outerWidth()/2>-1*a.swipeLeft)return i=t,_r_(!1);_r_()}),e=Math.abs(s(i).attr("data-slick-index")-a.currentSlide)||1,_r_(e)):_r_(a.options.slidesToScroll)},r.prototype.goTo=r.prototype.slickGoTo=function(e,t){_i_("3bb:90487959");this.changeSlide({data:{message:"index",index:parseInt(e)}},t),_r_()},r.prototype.init=function(){_i_("3bb:72d3a587");var e=this;s(e.$slider).hasClass("slick-initialized")||(s(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),e.$slider.trigger("init",[e]),_r_()},r.prototype.initArrowEvents=function(){_i_("3bb:d6e60b62");!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.bind("click.slick",{message:"previous"},this.changeSlide),this.$nextArrow.bind("click.slick",{message:"next"},this.changeSlide)),_r_()},r.prototype.initDotEvents=function(){_i_("3bb:f2531feb");var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&s("li",e.$dots).bind("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&s("li",e.$dots).bind("mouseenter.slick",function(){_i_("3bb:eb68020a"),e.paused=!0,e.autoPlayClear(),_r_()}).bind("mouseleave.slick",function(){_i_("3bb:5e48df25"),e.paused=!1,e.autoPlay(),_r_()}),_r_()},r.prototype.initializeEvents=function(){_i_("3bb:8b9bc1fd");var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.bind("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.bind("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.bind("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.bind("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.bind("click.slick",e.clickHandler),!0===e.options.autoplay&&(s(document).bind(e.visibilityChange,function(){_i_("3bb:3965a55c"),e.visibility(),_r_()}),!0===e.options.pauseOnHover&&(e.$list.bind("mouseenter.slick",function(){_i_("3bb:eb68020a1"),e.paused=!0,e.autoPlayClear(),_r_()}),e.$list.bind("mouseleave.slick",function(){_i_("3bb:5e48df251"),e.paused=!1,e.autoPlay(),_r_()}))),!0===e.options.accessibility&&s(document).bind("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&s(e.$slideTrack).children().bind("click.slick",e.selectHandler),s(window).bind("orientationchange.slick.slick-"+e.instanceUid,function(){_i_("3bb:71ea83f9"),e.checkResponsive(),e.setPosition(),_r_()}),s(window).bind("resize.slick.slick-"+e.instanceUid,function(){_i_("3bb:8841ac5e"),s(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){_i_("3bb:9ccec9da"),e.windowWidth=s(window).width(),e.checkResponsive(),e.setPosition(),_r_()},50)),_r_()}),s("*[draggable!=true]",e.$slideTrack).bind("dragstart",function(e){_i_("3bb:a38e47a3"),e.preventDefault(),_r_()}),s(window).bind("load.slick.slick-"+e.instanceUid,e.setPosition),s(document).bind("ready.slick.slick-"+e.instanceUid,e.setPosition),_r_()},r.prototype.initUI=function(){_i_("3bb:ea873936");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay(),_r_()},r.prototype.keyHandler=function(e){_i_("3bb:b1b7e014");var t=this;!0===t.options.accessibility&&!0===t.options.keydownOverride&&t.options.keydownSpeed&&(t.iskeyboardEvent=!0,t.currentSpeed=t.options.speed,t.options.speed=t.options.keydownSpeed),37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:t.options.rtl?"previous":"next"}}),_r_()},r.prototype.lazyLoad=function(){_i_("3bb:02e48efc");var e,t,i=this;function n(e){_i_("3bb:828d9079"),s("img[data-lazy]",e).each(function(){_i_("3bb:243378cc");var e=s(this),t=s(this).attr("data-lazy");e.load(function(){_i_("3bb:73f61e94"),e.animate({opacity:1},200),_r_()}).css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading"),_r_()}),_r_()}!0===i.options.centerMode?!0===i.options.infinite?t=(e=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(e=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),t=i.options.slidesToShow/2+1+2+i.currentSlide):(t=(e=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide)+i.options.slidesToShow,!0===i.options.fade&&(0<e&&e--,t<=i.slideCount&&t++)),n(i.$slider.find(".slick-slide").slice(e,t)),i.slideCount<=i.options.slidesToShow?n(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?n(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&n(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow)),_r_()},r.prototype.loadSlider=function(){_i_("3bb:df137ba3");this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad(),_r_()},r.prototype.next=r.prototype.slickNext=function(){_i_("3bb:88d71b69");this.changeSlide({data:{message:"next"}}),_r_()},r.prototype.pause=r.prototype.slickPause=function(){_i_("3bb:f2c15337");this.autoPlayClear(),this.paused=!0,_r_()},r.prototype.play=r.prototype.slickPlay=function(){_i_("3bb:3dce7834");this.paused=!1,this.autoPlay(),_r_()},r.prototype.postSlide=function(e){_i_("3bb:5b6dc3bf");var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay(),!0===t.options.accessibility&&!0===t.options.keydownOverride&&!0===t.iskeyboardEvent&&(t.iskeyboardEvent=!1,t.options.speed=t.currentSpeed),_r_()},r.prototype.prev=r.prototype.slickPrev=function(){_i_("3bb:00586209");this.changeSlide({data:{message:"previous"}}),_r_()},r.prototype.progressiveLazyLoad=function(){_i_("3bb:1c406966");var e,t=this;0<s("img[data-lazy]",t.$slider).length&&(e=s("img[data-lazy]",t.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){_i_("3bb:6229d7ca"),e.removeAttr("data-lazy"),t.progressiveLazyLoad(),!0===t.options.adaptiveHeight&&t.setPosition(),_r_()}).error(function(){_i_("3bb:0fb46887"),e.removeAttr("data-lazy"),t.progressiveLazyLoad(),_r_()}),_r_()},r.prototype.refresh=function(){_i_("3bb:6dd86baa");var e=this.currentSlide;this.destroy(),s.extend(this,this.initials),this.init(),this.changeSlide({data:{message:"index",index:e}},!0),_r_()},r.prototype.reinit=function(){_i_("3bb:b9485622");var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),!0===e.options.focusOnSelect&&s(e.$slideTrack).children().bind("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e]),_r_()},r.prototype.removeSlide=r.prototype.slickRemove=function(e,t,i){_i_("3bb:6cd94992");var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return _r_(!1);n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit(),_r_()},r.prototype.setCSS=function(e){_i_("3bb:5c295263");var t,i,n=this,a={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",a[n.positionProp]=e,!1===n.transformsEnabled||(!(a={})===n.cssTransitions?a[n.animType]="translate("+t+", "+i+")":a[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(a),_r_()},r.prototype.setDimensions=function(){_i_("3bb:76db605f");var e=this;if(!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth)e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length));else if(!0===e.options.variableWidth){var t=0;e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.children(".slick-slide").each(function(){_i_("3bb:3b52e153"),t+=e.listWidth,_r_()}),e.$slideTrack.width(Math.ceil(t)+1)}else e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length));var i=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-i),_r_()},r.prototype.setFade=function(){_i_("3bb:5d0d1f0d");var i,n=this;n.$slides.each(function(e,t){_i_("3bb:04f6cdfb"),i=n.slideWidth*e*-1,!0===n.options.rtl?s(t).css({position:"relative",right:i,top:0,zIndex:800,opacity:0}):s(t).css({position:"relative",left:i,top:0,zIndex:800,opacity:0}),_r_()}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1}),_r_()},r.prototype.setHeight=function(){_i_("3bb:a1485bd1");if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",e)}_r_()},r.prototype.setOption=r.prototype.slickSetOption=function(e,t,i){_i_("3bb:92a239a5");this.options[e]=t,!0===i&&(this.unload(),this.reinit()),_r_()},r.prototype.setPosition=function(){_i_("3bb:9e0d36fb");this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this]),_r_()},r.prototype.setProps=function(){_i_("3bb:b9a544a2");var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType,_r_()},r.prototype.setSlideClasses=function(e){_i_("3bb:42777f94");var t,i,n,a,r=this;r.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),i=r.$slider.find(".slick-slide"),!0===r.options.centerMode?(t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(t<=e&&e<=r.slideCount-1-t?r.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")):0<=e&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(a=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-a),n+a).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===r.options.lazyLoad&&r.lazyLoad(),_r_()},r.prototype.setupInfinite=function(){_i_("3bb:ba37ca51");var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;e-=1)t=e-1,s(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,s(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){_i_("3bb:ebb1e066"),s(this).attr("id",""),_r_()})}_r_()},r.prototype.selectHandler=function(e){_i_("3bb:c47a628a");var t=parseInt(s(e.target).parents(".slick-slide").attr("data-slick-index"));if(t||(t=0),this.slideCount<=this.options.slidesToShow)return this.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),this.$slides.eq(t).addClass("slick-active").attr("aria-hidden","false"),!0===this.options.centerMode&&(this.$slider.find(".slick-slide").removeClass("slick-center"),this.$slides.eq(t).addClass("slick-center")),this.asNavFor(t),_r_();this.slideHandler(t),_r_()},r.prototype.slideHandler=function(e,t,i){_i_("3bb:ca7773fb");var n,a,r,_,s=this;if(t=t||!1,!0===s.animating&&!0===s.options.waitForAnimate)return _r_();if(!0===s.options.fade&&s.currentSlide===e)return _r_();if(s.slideCount<=s.options.slidesToShow)return _r_();if(!1===t&&s.asNavFor(e),n=e,_=s.getLeft(n),r=s.getLeft(s.currentSlide),s.currentLeft=null===s.swipeLeft?r:s.swipeLeft,!1===s.options.infinite&&!1===s.options.centerMode&&(e<0||e>s.getDotCount()*s.options.slidesToScroll))return!1===s.options.fade&&(n=s.currentSlide,!0!==i?s.animateSlide(r,function(){_i_("3bb:83dfe16c"),s.postSlide(n),_r_()}):s.postSlide(n)),_r_();if(!1===s.options.infinite&&!0===s.options.centerMode&&(e<0||e>s.slideCount-s.options.slidesToScroll))return!1===s.options.fade&&(n=s.currentSlide,!0!==i?s.animateSlide(r,function(){_i_("3bb:83dfe16c1"),s.postSlide(n),_r_()}):s.postSlide(n)),_r_();if(!0===s.options.autoplay&&clearInterval(s.autoPlayTimer),a=n<0?s.slideCount%s.options.slidesToScroll!=0?s.slideCount-s.slideCount%s.options.slidesToScroll:s.slideCount+n:n>=s.slideCount?s.slideCount%s.options.slidesToScroll!=0?0:n-s.slideCount:n,s.animating=!0,s.$slider.trigger("beforeChange",[s,s.currentSlide,a]),s.currentSlide,s.currentSlide=a,s.setSlideClasses(s.currentSlide),s.updateDots(),s.updateArrows(),!0===s.options.fade)return!0!==i?s.fadeSlide(a,function(){_i_("3bb:a126f812"),s.postSlide(a),_r_()}):s.postSlide(a),s.animateHeight(),_r_();!0!==i?s.animateSlide(_,function(){_i_("3bb:ff62ff23"),s.postSlide(a),_r_()}):s.postSlide(a),_r_()},r.prototype.startLoad=function(){_i_("3bb:e1af5713");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading"),_r_()},r.prototype.swipeDirection=function(){_i_("3bb:70a2ac4d");var e,t,i,n;if(e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n)return _r_(!1===this.options.rtl?"left":"right");if(n<=360&&315<=n)return _r_(!1===this.options.rtl?"left":"right");if(135<=n&&n<=225)return _r_(!1===this.options.rtl?"right":"left");return _r_("vertical")},r.prototype.swipeEnd=function(e){_i_("3bb:c3f8361e");var t,i=this;if(i.dragging=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return _r_(!1);if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={});_r_()},r.prototype.swipeHandler=function(e){_i_("3bb:e1bbc1a7");var t=this;if(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe)return _r_();if(!1===t.options.draggable&&-1!==e.type.indexOf("mouse"))return _r_();switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}_r_()},r.prototype.swipeMove=function(e){_i_("3bb:1f54038b");var t,i,n,a,r,_=this;if(r=void 0!==e.originalEvent?e.originalEvent.touches:null,!_.dragging||r&&1!==r.length)return _r_(!1);if(t=_.getLeft(_.currentSlide),_.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,_.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2))),"vertical"===(i=_.swipeDirection()))return _r_();if(void 0!==e.originalEvent&&4<_.touchObject.swipeLength&&e.preventDefault(),a=(!1===_.options.rtl?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1),n=_.touchObject.swipeLength,(_.touchObject.edgeHit=!1)===_.options.infinite&&(0===_.currentSlide&&"right"===i||_.currentSlide>=_.getDotCount()&&"left"===i)&&(n=_.touchObject.swipeLength*_.options.edgeFriction,_.touchObject.edgeHit=!0),!1===_.options.vertical?_.swipeLeft=t+n*a:_.swipeLeft=t+n*(_.$list.height()/_.listWidth)*a,!0===_.options.fade||!1===_.options.touchMove)return _r_(!1);if(!0===_.animating)return _.swipeLeft=null,_r_(!1);_.setCSS(_.swipeLeft),_r_()},r.prototype.swipeStart=function(e){_i_("3bb:c769c4b1");var t;if(1!==this.touchObject.fingerCount||this.slideCount<=this.options.slidesToShow)return this.touchObject={},_r_(!1);void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),this.touchObject.startX=this.touchObject.curX=void 0!==t?t.pageX:e.clientX,this.touchObject.startY=this.touchObject.curY=void 0!==t?t.pageY:e.clientY,this.dragging=!0,_r_()},r.prototype.unfilterSlides=r.prototype.slickUnfilter=function(){_i_("3bb:02fdcdc5");null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit()),_r_()},r.prototype.unload=function(){_i_("3bb:ff1ea595");var e=this;s(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width",""),_r_()},r.prototype.unslick=function(){_i_("3bb:694228b1");this.destroy(),_r_()},r.prototype.updateArrows=function(){_i_("3bb:c5227483");var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled"))),_r_()},r.prototype.updateDots=function(){_i_("3bb:10e22fcf");null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false")),_r_()},r.prototype.visibility=function(){_i_("3bb:6b86169a");document[this.hidden]?(this.paused=!0,this.autoPlayClear()):(this.paused=!1,this.autoPlay()),_r_()},s.fn.slick=function(){_i_("3bb:6828fd6b");for(var e,t=arguments[0],i=Array.prototype.slice.call(arguments,1),n=this.length,a=0;a<n;a++)if("object"==typeof t||void 0===t?this[a].slick=new r(this[a],t):e=this[a].slick?this[a].slick[t].apply(this[a].slick,i):null,void 0!==e)return _r_(e);return _r_(this)},s(function(){_i_("3bb:d4d747eb"),s("[data-slick]").slick(),_r_()}),_r_()}),B.when({events:"ready",action:"book",condition:B.env&&Boolean(B.env.isRefactorConfigurationFilesOnDesktopEnabled)}).run(function(e){_i_("3bb:87ffab48");var t=e("et"),i=e("server-data");t.stage("HBXVaKBIZddaCSaKVHZYO",6),void 0!==i.b_site_type&&"mdot"===i.b_site_type?t.stage("HBXVaKBIZddaCSaKVHZYO",7):t.stage("HBXVaKBIZddaCSaKVHZYO",8),_r_()}),B.when({action:"book"}).run(function(){_i_("3bb:ff533745"),$("#primary_contact_select").bind("change",function(){_i_("3bb:06eddbb1");var e=$(this).find("option:selected").data("phone"),t=$(".bp_form__field--phone #phone");t.val(e),t.trigger("change"),_r_()}),_r_()}),B.define("component/business/business-rates-lightbox",function(e,t,i){"use strict";_i_("3bb:e79a9cd2");var n=e("component"),a=e("lightbox");i.exports=n.extend({init:function(){_i_("3bb:93faab1b"),a.show(this.el,{customWrapperClassName:"bbrates_business_rates_lightbox__wrapper",bAnimation:!0}),this.$el.on("click","#bbrates_business_rates_lightbox_button",function(e){_i_("3bb:f9fddafc"),e.preventDefault(),a.hide(),_r_()}),_r_()}}),_r_()}),B.when({condition:2<=B.env.b_stage&&B.env.b_domain_end&&"tdot"===B.env.b_site_type,action:"book"}).run(function(){_i_("3bb:16627747"),$.cookie("fscag01",(new Date).getTime(),{expires:30,path:"/",domain:B.env.b_domain_end}),_r_()}),B.when({events:"ready",condition:B.env.b_alt_payment_methods||B.env.b_cfr_refp_available,experiment:"GbJAHGfZOIHXWOYDIbLSBcUXO"}).run(function(e){_i_("3bb:2bfd8f22");var t=e("async-loader"),i=$("#bookForm>[name='cc_refp']")[0];i||((i=document.createElement("input")).type="hidden",i.name="cc_refp",i.value="1",i.class="ClickTaleSensitive",$("#bookForm .ClickTaleSensitive[type=hidden]:last").after(i)),i.value&&5<i.value.length||t.load({js:"async_cfr_refp_js"}).then(function(){_i_("3bb:b5497bd9"),"undefined"!=typeof REFP&&new REFP({swfPath:void 0,excludeFlashFonts:!0}).get(function(e){_i_("3bb:e3bd3f8c"),i.value=e,_r_()}),_r_()},function(e){}),_r_()}),B.when({events:"ready"}).run(function(e){if(_i_("3bb:883f5a5c"),B.env.b_cfr_recp_available){var t=$("#bookForm>[name='recp']")[0];t||((t=document.createElement("input")).type="hidden",t.name="recp",t.value="0",t.class="ClickTaleSensitive",$("#bookForm .ClickTaleSensitive[type=hidden]:last").after(t)),$("#firstname,#lastname").bind("paste",function(e){_i_("3bb:93e11d7c"),-1==t.value.indexOf("n")&&(t.value+="n"),_r_()}),$("#cc_number").bind("paste",function(e){_i_("3bb:a0f92e37"),-1==t.value.indexOf("c")&&(t.value+="c"),_r_()})}_r_()}),B.when({events:"ready",condition:B.env.b_cfr_ts_available||B.env.fe_collect_fp_ts}).run(function(e){_i_("3bb:e7431c66");var n={},a={},r={},t=$("#bookForm>[name='rets']")[0],i={firstname:1,lastname:2,email:3,email_confirm:4,address1:5,city:6,zip:7,phone:8,cc_number:9,cc_cvc:10,password:11,remarks:12,"payments[cc_number]":14,"payments[cc_expiration_year]":15,"payments[cc_expiration_month]":16,"payments[cc_cvc]":17,"payments[cc_name]":18,"payments[cc_postal_code]":19,"payments[ba_country]":20,"payments[ba_city]":21,"payments[ba_state]":22,"payments[ba_zip]":23,"payments[ba_street_address]":24,"payments[ba_house_number]":25,others:13};function _(){_i_("3bb:d8db2e26");var t="";return Object.keys(r).forEach(function(e){_i_("3bb:d371f35f"),t+=e+"a"+r[e]+"b"+Math.round(100*a[e],2)+"c",_r_()}),_r_(t)}function s(e,t){_i_("3bb:dc40eb6c");var i=(new Date).getTime();n[e]&&(a[e]=a[e]||0,a[e]+=(i-n[e])/1e3,r[e]=Math.round(60*t/a[e],2)),n[e]=i,_r_()}t&&function(e){if(_i_("3bb:a9accbd1"),!e)return _r_(!1);for(var t=e.match(/(\d+)a(\d+)b(\d+)c/g)||[],i=0;i<t.length;i++){var n=t[i].match(/(\d+)a(\d+)b(\d+)c/)||[];0<n.length&&(r[n[1]]=n[2],a[n[1]]=Math.round(n[3]/100,2))}_r_()}(t.value),B.env.fe_collect_fp_ts?($("#bookForm").on("keyup","input:visible[type=text],input:visible[type=tel],input:visible[type=email],input:visible[type=number],input:visible[type=password],textarea:visible",function(e){_i_("3bb:1fb18535");var t=e.target.id||e.target.name||"others";s(i[t]||13,$(e.target).val().length),_r_()}),$("#bookForm").on("focusout","input:visible[type=text],input:visible[type=tel],input:visible[type=email],input:visible[type=number],input:visible[type=password],textarea:visible",function(e){_i_("3bb:63f269ff"),t&&(t.value=_()),_r_()})):($("input:visible[type=text],input:visible[type=password],textarea:visible").keyup(function(e){_i_("3bb:0bd28300");var t=e.target.id||"others";s(i[t]||13,$(e.target).val().length),_r_()}),$("input:visible[type=text],input:visible[type=password],textarea:visible").focusout(function(e){_i_("3bb:463c39f4"),t&&(t.value=_()),_r_()})),_r_()}),B.when({events:"ready",condition:B.env.b_cfr_im_available&&"chrome"==B.env.b_browser}).run(function(e){_i_("3bb:e95598d8"),function(){_i_("3bb:581655cb");var t=$("#bookForm>[name='recp']")[0],e=window.RequestFileSystem||window.webkitRequestFileSystem,i=-1;if(!e)return _r_(i=-1);e(window.TEMPORARY,100,function(e){_i_("3bb:a55ef26a"),i=0,_r_()},function(e){_i_("3bb:f4553ebd"),-(i=1)==t.value.indexOf("i")&&(t.value+="i"),_r_()}),_r_(i)}(),_r_()}),B.when({events:"ready",condition:B.env.b_cfr_mb_available||B.env.fe_collect_fp_mb}).run(function(){_i_("3bb:d9f4733f");var _={distance:0,diffTimeMs:0,mouseClicks:0,scrollsUp:0,scrollsdown:0,maxDx:0,maxDy:0},e=$("#bookForm>[name='remb']")[0],t=0,i=0,n=0,a=0,r=0;!function(e){_i_("3bb:b677548b");for(var t={0:"distance",1:"diffTimeMs",2:"mouseClicks",3:"scrollsUp",4:"scrollsdown",5:"maxDx",6:"maxDy"},i=e.match(/(\d+)a(\d+)b/g)||[],n=0;n<i.length;n++){var a=i[n].match(/(\d+)a(\d+)b/)||[];if(0<a.length){var r=t[a[1]];_[r]=parseInt(a[2],10)}}_r_(_)}(e.value),$(B.env.fe_collect_fp_mb?document.body:"#b2bookPage").mousemove(function(e){_i_("3bb:cf692811"),0===t&&0===i||(n=e.pageX-t,a=e.pageY-i,_.distance+=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),n>_.maxDx&&(_.maxDx=n),a>_.maxDy&&(_.maxDy=a)),t=e.pageX,i=e.pageY,window.performance&&window.performance.now&&(r=window.performance.now(),_.diffTimeMs+=r-e.timeStamp),_r_()}),$(B.env.fe_collect_fp_mb?document.body:"#b2bookPage").mousedown(function(){_i_("3bb:89fda42c"),_.mouseClicks+=1,_r_()}),$(B.env.fe_collect_fp_mb?document.body:"#b2bookPage").bind("mousewheel",function(e){_i_("3bb:ea50d9c9"),0<e.originalEvent.wheelDelta/120?_.scrollsUp+=1:_.scrollsdown+=1,_r_()}),$("#bookForm").submit(function(){_i_("3bb:e6bf5da7");try{e.value=function(n){_i_("3bb:a7c4c043");var a={distance:"0",diffTimeMs:"1",mouseClicks:"2",scrollsUp:"3",scrollsdown:"4",maxDx:"5",maxDy:"6"},r="";return Object.keys(n).forEach(function(e){_i_("3bb:0d47d359");var t=a[e],i=Math.round(n[e]);999999999<i&&(i=999999999),r+=t+"a"+i+"b",_r_()}),_r_(r)}(_)}catch(e){return _r_(!0)}return _r_(!0)}),_r_()}),B.when({events:"ready",condition:B.env.b_alt_payment_available&&("chrome"==B.env.b_browser||"firefox"==B.env.b_browser)}).run(function(e){_i_("3bb:53360bba");var t=document.createElement("input");t.type="hidden",t.name="respd",t.value="1",t.class="ClickTaleSensitive",$("#bookForm .ClickTaleSensitive[type=hidden]:last").after(t),function(i){_i_("3bb:dc56e931");var n={},e=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!e){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);var a=t.contentWindow;window.RTCPeerConnection=a.RTCPeerConnection,window.mozRTCPeerConnection=a.mozRTCPeerConnection,window.webkitRTCPeerConnection=a.webkitRTCPeerConnection,e=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection}var r={iceServers:[{url:"stun:5.57.21.215:3478"}]};if(window.webkitRTCPeerConnection&&(r={iceServers:[{urls:"stun:5.57.21.215:3478"}]}),void 0===e)return _r_();var _=new e(r,{optional:[{RtpDataChannels:!0}]});_.onicecandidate=function(e){if(_i_("3bb:f20b351e"),e.candidate){var t=e.candidate.candidate.match(/([0-9]{1,3})(\.[0-9]{1,3})(\.[0-9]{1,3})(\.[0-9]{1,3})/g);t&&!/^(?:10|127|172\.(?:1[6-9]|2[0-9]|3[01])|192\.168)\..*/.test(t[0])&&(t=t[0],void 0===n[t]&&i(t),n[t]=!0)}_r_()},_.createDataChannel(""),_.createOffer(function(e){_i_("3bb:80a80887"),_.setLocalDescription(e,function(){},function(){}),_r_()},function(){}),_r_()}(function(e){_i_("3bb:bad871c7"),t.value=function(e){_i_("3bb:9bdbd505");var t=e.split(".");return _r_(256*(256*(256*+t[0]+ +t[1])+ +t[2])+ +t[3])}(e).toString(16),_r_()}),_r_()}),B.when({events:"ready",condition:B.env&&"book"===B.env.b_action&&B.env.b_stage&&3==+B.env.b_stage}).run(function(){_i_("3bb:df0e26ff");var t,i,e=!1,n={};function a(){_i_("3bb:1a7d7a82");try{new(window.Dhr2())(n).get(function(e){_i_("3bb:a884e43c"),function(e){_i_("3bb:60f994cd"),(i=document.getElementById("bookForm"))&&0<i.length&&(t=i.elements.cc_refp)&&(t.value=e);_r_()}(e),_r_()})}catch(e){booking.reportError&&booking.reportError(e,"Unable to generate BFP")}_r_()}function r(){_i_("3bb:49c11bd5"),e||(e=!0,function(){_i_("3bb:0809a44e");try{window.Dhr2&&a()}catch(e){booking.reportError&&booking.reportError(e,"BFP library not available")}_r_()}()),_r_()}n.swfPath=void 0,n.excludeFlashFonts=!0,n.excludeJsFonts=!0,setTimeout(function(){_i_("3bb:9ef57037"),r(),_r_()},3e3),window.onload=function(){_i_("3bb:9ef570371"),r(),_r_()},_r_()}),B.when({action:"book",events:"ready",condition:!!B.env&&!!B.env.b_stage&&2<=Number(B.env.b_stage)}).run(function(e){_i_("3bb:6d2e1b7a");var i=e("server-data"),n=e("jquery");if(!i.cartToken||!i.beaconUrl)return _r_();var a=function(e){if(_i_("3bb:f2b427b5"),!e)return _r_();var t=e.split("/"),i=t[0],n=t[2];return _r_(i+"//"+n)}(i.beaconUrl);function t(e){if(_i_("3bb:877f82e8"),a&&e.origin&&e.origin!==a)return _r_();var t=function(e){_i_("3bb:ffe68f6c");var t={};if(e.data&&("string"==typeof e.data||e.data instanceof String))try{t=JSON.parse(e.data)}catch(e){return _r_()}else{if(!e.data||"object"!=typeof e.data)return _r_();t=e.data}return _r_(t)}(e);if(t&&t.type)switch(t.type){case"LOAD_TAG_CONTAINER_SUCCESS":!function(e,t){if(_i_("3bb:fb928367"),!e||!t)return _r_();var i;try{i=JSON.stringify(e)}catch(e){return _r_()}if(t.postMessage)try{t.postMessage(i,a)}catch(e){return _r_()}_r_()}(function(e){if(_i_("3bb:f3b60ade"),!e)return _r_();return _r_(function(e,t){if(_i_("3bb:a9d112ea"),!e)return _r_();var i={type:e};t&&(i=Object.assign({},i,{payload:t}));return _r_(i)}("LOAD_BEACON",{cartToken:e}))}(i.cartToken),e.source)}_r_()}window.attachEvent?window.attachEvent("onmessage",t):window.addEventListener("message",t,!1),i.beaconUrl&&function(e,t){_i_("3bb:06dc9cb3");try{var i;(i=n("#tag-container")).length||((i=n(document.createElement("iframe"))).attr("id","tag-container"),i.css({position:"absolute",top:"-1000px",left:"-1000px",width:0,height:0}),i.addClass("bui-u-hidden"),i.attr("aria-hidden",!0),t&&"function"==typeof t&&i.bind("load",function(){_i_("3bb:e67d0ad3"),t(),_r_()}),i.attr("sandbox","allow-scripts allow-same-origin"),i.attr("src",e),document.body.appendChild(i.get(0)))}catch(e){return _r_()}_r_()}(i.beaconUrl),_r_()}),function(){"use strict";_i_("3bb:93857bb7"),B.when({action:"book",events:"ready"}).require(["jquery"],function(e){_i_("3bb:a08111b1"),e("body").on("change",".bp_bs2_guest_dropdown",function(){_i_("3bb:3ab1dd37"),4<this.value?e(this).siblings(".city-regulation-fire-satefy-limit").show():e(this).siblings(".city-regulation-fire-satefy-limit").hide(),_r_()}),e(".bp_bs2_guest_dropdown").trigger("change"),_r_()}),_r_()}(),B.when({events:"ready",action:"book",condition:!!$("input[name=exclusive_pay_now]").length}).run(function(e){_i_("3bb:a6e5518a");var i=e("events"),t=e("report-error"),n=e("bp/store"),a=e("component/bp/payment-timing/actions"),r=$('#bookStage3Inc, .js-booking-process__container[data-stage="3"]'),_=r.find("[data-pay-option]"),s=r.find("[data-tab-toggle]"),o=s.filter('[data-tab-toggle-for^="payment_method__content__creditcard"]'),l=s.not('[data-tab-toggle-for^="payment_method__content__creditcard"]'),c=r.find(".payment-method__content-item"),d=c.filter("#payment_method__content__creditcard, #payment_method__content__creditcards"),b=c.not("#payment_method__content__creditcard, #payment_method__content__creditcards"),p=$(".bp_bs3_saved_cc_new_card_separate_form .cc_only_to_guarantee"),u=$(".cc_only_to_guarantee, .how_i_will_pay_holder").not(p),h=$('[data-payment-schedule-when="now"]'),f=$('[data-payment-schedule-when="later"]'),m=$(".js--loyalty-program__redeem"),g=$(".loyalty-program__redeem-credit__cc-title");function M(e){_i_("3bb:388904d3"),m.toggle(e),g.toggle(e),_r_()}function v(e){_i_("3bb:8599914d"),l.toggle(e),_r_()}function y(e){_i_("3bb:3c78de1e"),$("input[name='pay_now']").val(e?1:0),_r_()}function C(e){_i_("3bb:77935f60");var t=e?d:b.first();i.trigger("accordion:afterOpen",t),u.toggle(e),_r_()}function B(e){_i_("3bb:1fa76cea"),h.toggleClass("bui-u-hidden",!e),f.toggleClass("bui-u-hidden",e),_r_()}_i_("3bb:c7d06279"),_.on("click",function(){_i_("3bb:0bc5dadc");var e=$(this).data("pay-option");i.trigger("pay:timing:changed",e||"now"),function(e){_i_("3bb:5f023ddd");try{n.getState().payment_timing.type!==e&&n.dispatch(a.doUpdatePaymentTiming({type:e}))}catch(e){t("Error while updating payment timing: ",e)}_r_()}(e||"now"),e&&"now"==e?(y(!0),v(!0),B(!0),C(!1),M(!0)):(v(!1),y(!1),C(!0),B(!1),M(!1)),_i_("3bb:20d18e11"),o.trigger("click"),o.find('input[name="payment_option"]').prop("checked",!0),_r_(),_r_()}),v(!1),y(!1),C(!0),M(!1),B(!1),_r_(),_r_()}),B.when({events:"ready",action:"book",condition:!!$("input[name=exclusive_pay_now_partial]").length}).run(function(e){_i_("3bb:6d3a2e62");var t=$('#bookStage3Inc, .js-booking-process__container[data-stage="3"]'),i=$("[data-payment-schedule-partial-payment]"),n=t.find("[data-pay-option]"),a=t.find("[data-tab-toggle]"),r=a.filter('[data-tab-toggle-for^="payment_method__content__creditcard"]'),_=a.not('[data-tab-toggle-for^="payment_method__content__creditcard"]'),s=$(".js--loyalty-program__redeem"),o=$(".loyalty-program__redeem-credit__cc-title");function l(e){_i_("3bb:8599914d1"),_.toggle(e),_r_()}function c(e){_i_("3bb:c678c730"),$("input[name='pay_now']").val(e?1:0),_r_()}function d(e){_i_("3bb:388904d31"),s.toggle(e),o.toggle(e),_r_()}function b(e){var t;_i_("3bb:def4e7ff"),t=e,_i_("3bb:02284358"),i.each(function(){_i_("3bb:91002fc7");var e=$(this);e.toggle(e.data("payment-schedule-partial-payment")==t),_r_()}),_r_(),"partial"==e?(l(!1),c(!1),d(!1)):(l(!0),c(!0),d(!0)),_i_("3bb:20d18e111"),r.trigger("click"),r.find('input[name="payment_option"]').prop("checked",!0),_r_(),_r_()}_i_("3bb:5366d7de"),n.on("click",function(){_i_("3bb:da55a070"),b($(this).data("pay-option")),_r_()}),_r_(),b("partial"),d(!1),_r_()}),B.when({condition:null!==document.getElementById("pay_now_no_cc")}).run(function(e){_i_("3bb:3b9a5ac2");var t=e("jquery")("#pay_now_no_cc"),i=t.find(t.data("payment-methods-container")||"#paymentBlock"),n=t.find("[data-pay-now-indicator]"),a=i.find("input,select").filter(":not(disabled)");function r(){_i_("3bb:69e83810"),n.prop("checked")?(i.show().find(".payment-method__toggle__label:first").click(),a.filter("[is-disabled-here]").prop("disabled",!1).removeAttr("is-disabled-here")):(i.hide(),a.prop("disabled",!0).attr("is-disabled-here",1)),_r_()}n.on("change",r),r(),_r_()}),B.when({action:"book",condition:!!$(".payment_choice_timing").length}).run(function(e){_i_("3bb:27120654");var i=e("jquery"),n=e("events"),t=e("server-data"),a=e("report-error"),r=e("bp/store"),_=e("component/bp/payment-timing/actions"),s=i(".cc_only_to_guarantee, .how_i_will_pay_header, .payment-method__contents-policy-holder"),o=i("#check_box_pay_now"),l=i("[data-check-for-chargeable]"),c=l.find('[data-is-chargeable="0"]'),d=c.closest("label"),b=i("[data-has-expanded-cards]"),p=b.find('[data-is-accepted-by-hotel="0"]'),u=p.closest("label"),h=!!b.length,f=!o.is(":checked"),m=null,g={},M=!1,v=i("[data-pay-now-tooltip]"),y=v.find("[data-method]"),C="bui-u-hidden",B=i("[data-pay-visible-for]"),w=i("[data-pay-disable-for]"),k=i("[data-pay-hidden-for]"),E=i("[data-pay-enable-for]"),N=i(".payment_choice_timing___paylater_info");function x(e){_i_("3bb:5f023ddd1");try{r.getState().payment_timing.type!==e&&r.dispatch(_.doUpdatePaymentTiming({type:e}))}catch(e){a("Error while updating payment timing: ",e)}_r_()}function S(e){_i_("3bb:f5af53a4"),m=null,e&&e.payment_cc_details&&e.payment_cc_details.cc_type&&(m=e.payment_cc_details.cc_type),I(),_r_()}function T(){_i_("3bb:95e35656"),m=i(this).data("pay-method"),I(),_r_()}function D(){_i_("3bb:b4ee1079"),v.hide(),_r_()}function A(){_i_("3bb:2c7b1325"),y.hide().filter('[data-method="'+m+'"]').show(),v.show(),_r_()}function j(){_i_("3bb:4c1a36ad"),f=!0,o.prop("checked",!1),M=!1,n.trigger("pay:timing:changed",f?"later":"now"),x(f?"later":"now"),_r_()}function I(){_i_("3bb:014cd395");var e=g[m];e&&(e.isChargeable?e.isAcceptedByHotel?(D(),M&&j()):f&&(o.prop("checked",!0),f=!(M=!0),n.trigger("pay:timing:changed",f?"later":"now"),x(f?"later":"now"),A()):f?M=!1:(j(),A())),_r_()}function F(e){_i_("3bb:330ee8e1"),e=e||"later",B.addClass(C).filter('[data-pay-visible-for="'+e+'"]').removeClass(C),_r_()}function P(e){_i_("3bb:f7c38101"),e=e||"later",w.prop("disabled",!1).filter('[data-pay-disable-for="'+e+'"]').prop("disabled",!0),_r_()}function $(e){_i_("3bb:8662721b"),e=e||"later",k.removeClass(C).filter('[data-pay-hidden-for="'+e+'"]').addClass(C),_r_()}function O(e){_i_("3bb:09c88d71"),e=e||"later",E.prop("disabled",!0).filter('[data-pay-enable-for="'+e+'"]').prop("disabled",!1),_r_()}function L(e,t){_i_("3bb:619efb8a"),e.show().removeClass("g-hidden").prop("disabled",!1),t.show().removeClass("g-hidden"),_r_()}function J(e,t,i){_i_("3bb:034b6bb8");var n=t.filter(":checked,:selected");t.hide().prop("disabled",!0),i.hide(),n.length&&("SELECT"===e.get(0).tagName?e.val(""):n.prop("checked",!1),r.dispatch({type:"UPDATE_PAYMENT_CC_DETAILS",payload:{key:"cc_type",value:""}})),_r_()}!function(){if(_i_("3bb:ce478920"),v.on("click",function(e){_i_("3bb:5f554110"),e.preventDefault(),D(),_r_()}),F(f?"later":"now"),P(f?"later":"now"),$(f?"later":"now"),O(f?"later":"now"),n.on("pay:tab:select",function(e){_i_("3bb:93347eae");var t="payment_method__content__creditcard"!==e?"now":f?"later":"now";n.trigger("pay:timing:changed",t),x(f?"later":"now"),_r_()}),n.on("pay:timing:changed",function(e){var t;_i_("3bb:00431823"),F(e),P(e),$(e),O(e),t=e,_i_("3bb:926cf0bc"),"later"===(t=t||"later")?N.css("display","block"):N.css("display","none"),_r_(),_r_()}),h)return i("[data-is-chargeable]").each(function(){_i_("3bb:235d6913");var e=i(this),t=e.val();if(!t)return _r_();g[t]={isChargeable:1==e.data("is-chargeable"),isAcceptedByHotel:0!==e.data("is-accepted-by-hotel")},_r_()}),o.change(function(){_i_("3bb:94cf8916"),f=!this.checked,I(),n.trigger("pay:timing:changed",f?"later":"now"),x(f?"later":"now"),_r_()}),r.subscribe(S),t.fe_pay__add_all_cc_types_for_pay_now&&(i("input[name=cc_card_id]").change(T),i(".bp-bs3--add-new-cc-button a").click(function(){_i_("3bb:f6eb0958"),D(),M&&j(),S(r.getState()),_r_()})),_r_();_r_()}(),o.change(function(){_i_("3bb:33a83d52"),(f=!this.checked)?(s.show(),0<l.length&&L(c,d),0<b.length&&J(b,p,u)):(s.hide(),0<l.length&&J(l,c,d),0<b.length&&L(p,u)),n.trigger("pay:timing:changed",f?"later":"now"),x(f?"later":"now"),_r_()}),_r_()}),B.define("component/families/ceb-request-form",function(e,t,i){"use strict";_i_("3bb:4d88af58");var n=e("component"),r=e("jquery"),a=e("et");i.exports=n.extend({init:function(){_i_("3bb:eefe09d4"),this.setupRows(),this.setupAgeInputs(),this.consistentLabelWidths(),_r_()},consistentLabelWidths:function(){_i_("3bb:6ee05dc7");var e=this.$el.find(".c-ceb-form__room");if(e.length)for(var t=0;t<e.length;t++){var i=r(e[t]).find(".js-ceb-stepper-label");if(i.length&&1<i.length){var n=i[0].clientWidth,a=i[1].clientWidth;a<n?i[1].style.width=n+"px":n<a&&(i[0].style.width=a+"px")}}_r_()},setupRows:function(){_i_("3bb:d3ec3f26");var e=this.$el.find("[data-room-row]"),t="active";if(this.$el.hasClass("js-d-ceb-request-block")){if(1<e.length){var i={};this.$el.find("[data-room-switch] option").each(function(){_i_("3bb:fcf4e6eb");var e=r(this).data("room-name");i[e]=(i[e]||0)+1,1<i[e]&&r(this).text(r(this).text()+" "+i[e]),_r_()});var n=this.$el.find(".js-ceb-rooms"),a=0;e.each(function(){_i_("3bb:23c9edd0");var e=r(this).innerHeight();a<e&&(a=e),_r_()}),0<a&&n.height(a),e.removeClass(t).first().addClass(t),this.$el.find("[data-room-switch]").on("change",function(){_i_("3bb:f0bda20e"),e.removeClass(t),e.filter('[data-room-id="'+this.value+'"]').addClass(t),_r_()})}}else 1<e.length&&(e.removeClass(t),e.first().addClass(t),e.on("click","[data-acc-head]",function(){_i_("3bb:b5779784"),r(this).parents("[data-room-row]").toggleClass(t),_r_()}));_r_()},setupAgeInputs:function(){_i_("3bb:e992bafc");var i=".js-ceb-request-item-age",e=this.$el.find(".js-ceb-request-item");r.each(e,function(e,t){_i_("3bb:d9aada45");var n=r(t);n.find("[data-ceb-checkbox]").on("change",function(){_i_("3bb:42b7d087"),this.checked?n.find(i).show():n.find(i).hide(),_r_()}),n.find("[data-age-input]").on("change",function(){_i_("3bb:9811b09f");var e=n.find("[data-ceb-checkbox]"),t=e.val(),i=this.value+":"+t.split(":")[1];e.val(i),a.customGoal("INQHUYYYbLNAXMDDBAUUO",4),_r_()}),_r_()}),_r_()}}),_r_()}),B.define("component/families/ceb-request-form-item",function(e,t,i){"use strict";_i_("3bb:1b4420e1");var n=e("component"),a=e("jquery"),r=e("jstmpl"),_=e("et");i.exports=n.extend({agesStore:null,bedType:"",roomName:"",$input:null,canHaveBothCribsAndExtraBeds:null,minAge:0,maxAge:0,init:function(){_i_("3bb:e58c56c8"),this.agesStore=[],this.bedType=this.$el.data("bed-type")||"",this.roomName=this.$el.data("room-name")||"",this.$input=this.$el.find("[data-request-input]"),this.canHaveBothCribsAndExtraBeds=this.$el.data("can-have-both"),void 0===this.canHaveBothCribsAndExtraBeds&&(this.canHaveBothCribsAndExtraBeds=!0),this.setAgeRestrictions(),this.initSteppers(),this.handleAgeUpdate(),_r_()},setAgeRestrictions:function(){_i_("3bb:04ba5b38");var e=0,t="crib"===this.bedType?6:18;B.env&&B.env.fe_min_age_for_extra_bed_request&&B.env.fe_min_age_for_crib_request&&(e="crib"===this.bedType?B.env.fe_min_age_for_crib_request:B.env.fe_min_age_for_extra_bed_request),B.env&&B.env.fe_max_age_for_extra_bed_request&&B.env.fe_max_age_for_crib_request&&(t="crib"===this.bedType?B.env.fe_max_age_for_crib_request:B.env.fe_max_age_for_extra_bed_request),this.minAge=e,this.maxAge=t,_r_()},initSteppers:function(){_i_("3bb:dd6d8d8f");var e=this.$el.find(".bui-stepper");if(e.length){var t=window.BUI.getInstance(e[0]);t&&t.props&&(t.props.onChange=function(){_i_("3bb:5081544c");var e=Number(t.getValue());this.agesStore.length>e?this.agesStore.pop():this.agesStore.length<e&&this.agesStore.push(this.minAge),this.renderAgesBlock(),this.updateInputValue(),this.canHaveBothCribsAndExtraBeds||this.disableOtherRequestType(),_r_()}.bind(this))}_r_()},handleAgeUpdate:function(){_i_("3bb:0e45ae99");var i=this;this.$el.on("change","[data-age-select]",function(){_i_("3bb:1a6a12a5");var e=Number(this.value),t=a(this).data("index")||0;i.agesStore[t]=e,i.updateInputValue(),_.customGoal("INQHUYYYbLNAXMDDBAUUO",4),_r_()}),_r_()},renderAgesBlock:function(e){_i_("3bb:aae8c91b");var t=r("fam_ceb_guest_ages").render({fe_ages_store:this.agesStore,fe_min_age:this.minAge,fe_max_age:this.maxAge});this.$el.find(".js-guest-ages-wrapper").html(t),_r_()},updateInputValue:function(){if(_i_("3bb:49712cfc"),null===this.$input)return _r_(!1);var e;this.checkIsEmptySelection()?(e="",this.$input.val(e).attr("disabled",!0)):(e=this.agesStore.toString()+":"+this.roomName,this.$input.val(e).attr("disabled",!1));_r_()},checkIsEmptySelection:function(){return _i_("3bb:dc25a8b8"),_r_(!this.agesStore.length)},disableOtherRequestType:function(){_i_("3bb:8361bed1");var e=this.$el[0],t=e.nextElementSibling||e.previousElementSibling;if(null===t)return _r_();this.checkIsEmptySelection()?a(t).removeClass("disabled").find(".bui-stepper__add-button").attr("disabled",!1):a(t).addClass("disabled").find(".bui-stepper__add-button").attr("disabled",!0),_r_()}}),_r_()}),booking.jstmpl("fam_ceb_guest_ages",function(){_i_("3bb:b73b8817");var b,p=["\n  ",'\n    <div class="c-ceb-form__age-item bui-form__group">\n      <label class="bui-form__label" for="children">',"/private/fam_bp_ceb_block_age_checkout/name",'</label>\n      <div class="bui-input-select">\n        <select\n          class="bui-form__control"\n          data-age-select\n          data-index="','"\n          ',"\n            disabled\n          ","\n        >\n          ",'\n            <option\n              value="','"\n              ',"selected","\n            >\n              ","\n                ","/private/fam_bp_ceb_block_adult_age/name","\n              ","/private/fam_bp_ceb_block_child_age/name","\n            </option>\n          ","\n        </select>\n        ","bui-input-select__icon","streamline/arrow_menu","16","\n      </div>\n    </div>\n  ","\n"],u=["fe_ages_store","fe_min_age","fe_max_age"];return _r_(function(e){_i_("3bb:a6498bec");var t="",i=this.fn;t+=p[0];var n=i.MC(u[0])||[];e.unshift({fe_age:null});for(var a,r=1,_=n.length;r<=_;r++){e[0].fe_age=a=n[r-1],t+=[p[1],i.ME(p[2],i.MB,i.MN,null),p[3],i.F.entities(i.MI(r)-i.MI(1)),p[4]].join(""),i.MJ(i.MB(u[1])==i.MB(u[2]))&&(t+=p[5]),t+=p[6];var s=r,o=n,l=_,c=d;n=i.seq(i.MB(u[1]),i.MB(u[2]))||[];e.unshift({fe_age_value:null});var d;for(r=1,_=n.length;r<=_;r++)e[0].fe_age_value=d=n[r-1],t+=[p[7],i.F.entities((d||{}).value),p[8]].join(""),i.MJ(d.value==a)&&(t+=p[9]),t+=p[10],i.MJ(18==d.value)?t+=[p[11],i.ME(p[12],i.MB,i.MN,null),p[13]].join(""):t+=[p[11],(e.unshift({num_years:i.MG((d||{}).value)}),b=i.ME(p[14],i.MB,i.MN,i.MO((d||{}).value,null,p[14])),e.shift(),b),p[13]].join(""),t+=p[15];e.shift(),r=s,n=o,_=l,d=c,t+=[p[16],(e.unshift({class:p[17],name:p[18],width:p[19]}),b=i.HELPER("icon",e[0]),e.shift(),b),p[20]].join("")}return e.shift(),t+=p[21],_r_(t)})}()),B.define("component/families/fit-notification",function(e,t,i){"use strict";_i_("3bb:70e49b45");var n=e("component"),a=e("browser-storage-handler"),r="bp_famDismissedNoFit";i.exports=n.extend({init:function(){if(_i_("3bb:9084eab7"),!a.getPermanentValue(r)){var e=this.$el;e.show();var t=window.BUI.getInstance(e.find(".c-group-fit-banner")[0]);void 0!==t&&(t.props.onAfterClose=function(){_i_("3bb:fc24b4d0"),a.addPermanentValue(r,"1"),_r_()})}_r_()}}),_r_()}),B.define("component/askr",function(e,t,i){_i_("3bb:160f3ee4");var n=e("component"),C=e("jquery"),w=e("jstmpl"),r=e("browser-storage-handler"),_=[],k=null;i.exports=n.extend({init:function(){if(_i_("3bb:b6f3e16d"),r.getSessionValue("askr-viewed"))return _r_(!1);try{_=JSON.parse(r.getPermanentValue("askr-pass-srvs"))||[]}catch(e){_=[]}var t=this,e=this.$el;if(t.platform=e.data("platform")||"desktop",t.scope=e.data("scope")||"",t.action_name=e.data("action-name")||"",t.additional_params_str=e.data("additional-params")||"",t.additional_params={},"string"==typeof t.additional_params_str)for(var i=t.additional_params_str.split("||"),n=0;n<i.length;n++){var a=i[n].split("=");if(2!==a.length)continue;t.additional_params[a[0]]=a[1]}B.require("fragment").call("askr.surveys",{action:t.action_name,e_names:B.jset.r,pass_s:_,platform:t.platform}).then(function(e){if(_i_("3bb:a91cec8d"),!e||!e.length)return _r_();if(!(k=e[0]).survey_id)return _r_();t.title=k.name,t.description=k.description||"",t.agree_btn=B.jstmpl.translations("www_surveygizmo_intro_yes",null,{}),t.cancel_btn=B.jstmpl.translations("www_surveygizmo_intro_no",null,{}),t.resid="",t.invite_position=k.invite_position||"bottom",k.hasOwnProperty("is_fullscreen")?t.is_fullscreen=k.is_fullscreen?1:0:t.is_fullscreen=1,k.hasOwnProperty("is_async")?t.is_async=k.is_async?1:0:t.is_async=0,k.hasOwnProperty("show_delay_ms")?(t.show_delay_ms=parseInt(k.show_delay_ms),isNaN(t.show_delay_ms)&&(t.show_delay_ms=0)):t.show_delay_ms=0,t.is_async||t.runSurveyWithDelay(),_r_()}),_r_()},runSurveyWithDelay:function(){_i_("3bb:7fc870f0");var e=this;setTimeout(function(){_i_("3bb:2d830ef6"),e.runSurvey(),_r_()},e.show_delay_ms),_r_()},runSurvey:function(){_i_("3bb:1e39a339"),~_.indexOf(k.survey_id)||_.push(k.survey_id),r.addPermanentValue("askr-pass-srvs",JSON.stringify(_)),r.addSessionValue("askr-viewed",1);var v=this,y=this.$el,e=C(w("askr_invite").render({title:v.title,description:v.description,agree_btn:v.agree_btn,cancel_btn:v.cancel_btn,platform:v.platform,invite_position:"invite-position-"+v.invite_position}));y.append(e),e.on("click",".js-askr-cancel",function(){return _i_("3bb:cdbb7a7b"),e.addClass("askr-invite--hidden"),setTimeout(function(){_i_("3bb:4ac8c19e"),e.remove(),_r_()},200),_r_(!1)}),e.on("click",".js-askr-ok",function(){return _i_("3bb:563398d5"),e.remove(),function(){if(_i_("3bb:335a67ae"),!k)return _r_();var t=0,i=0,n=k.questions.length,a=null,r=null,_=null,e=!1,s=200,o=168;"mobile"===v.platform?(s=144,o=80):v.is_fullscreen?(s=200,o=168):(s=124,o=60);var l=C(w("askr_survey").render({title:v.title,platform:v.platform,qdata:k,is_fullscreen:v.is_fullscreen}));y.append(l);var c=l.height()-s,d=l.height()-o,b=l.find(".askr-survey__btn_up"),p=l.find(".askr-survey__btn_down");function u(){_i_("3bb:d01b07c5");var e=Math.min(Math.round(t/(n||1)*100),100);l.find(".askr-survey__progress-bar").css("width",e+"%"),l.find(".askr-survey__progress-value-current").text(t),l.find(".askr-survey__progress-value-max").text(n),0<t&&1!==n?b.removeClass("askr-survey__btn--disabled"):b.addClass("askr-survey__btn--disabled"),t<Math.min(i,n-1)?p.removeClass("askr-survey__btn--disabled"):p.addClass("askr-survey__btn--disabled"),n<=i&&C(".askr-survey__progress-box").fadeOut("fast",function(){_i_("3bb:cbf95bc2"),C(".askr-survey__complete-survey-box").fadeIn(),_r_()}),_r_()}function h(){_i_("3bb:adfea704"),a=null;var e=l.find('.askr-survey__questions[data-qid="'+_+'"] .askr-survey__radio-item:checked').prop("id"),t=l.find('label.askr-survey__radio-box[for="'+e+'"]');t.addClass("askr-survey__radio-box--selected-animator"),setTimeout(function(){_i_("3bb:e45ec3f1"),t.removeClass("askr-survey__radio-box--selected-animator"),_r_()},1100),_r_()}function f(){_i_("3bb:d7369ed2"),r=null,e||m(),_r_()}function m(){if(_i_("3bb:88f79294"),t++,u(),n<=t)return g(),_r_();l.find(".askr-survey__content").animate({top:-1*t*d},{duration:400,queue:!1}),_r_()}function g(){_i_("3bb:a238f013"),function(){_i_("3bb:86068569");var i={survey_id:k.survey_id,answers:[],details:v.additional_params};l.find(".askr-survey__radio-item:checked").each(function(){_i_("3bb:7c695d26");var e=C(this).val(),t={question_id:C(this).parents(".askr-survey__questions").data("qid"),answer_id:e};i.answers.push(t),_r_()}),B.require("fragment").call("askr.submit",i).then(function(e){}),_r_()}();var e=C('<div class="askr-survey__overlay"></div>'),t=C('<div class="askr-survey__thanks_text_box">'+B.jstmpl.translations("ppd_survey_oct18_price_clarity_cp_outro")+"</div>");e.append(t),l.append(e),e.fadeIn("fast"),setTimeout(function(){_i_("3bb:5500d015"),M(!1),_r_()},2e3),_r_()}function M(e){_i_("3bb:4462b329"),l.fadeOut("fast"),clearTimeout(a),clearTimeout(r),r=a=null,_r_()}l.find(".askr-survey__content-block").css({height:c}),l.on("click",".askr-survey__close",function(){_i_("3bb:02391282"),M(!0),_r_()}),l.on("click",".askr-survey__complete-btn",function(){_i_("3bb:a337750a"),g(),_r_()}),b.on("click",function(){if(_i_("3bb:cc49c740"),C(this).hasClass("askr-survey__btn--disabled"))return _r_(!1);e=!0,function(){if(_i_("3bb:cb320665"),!t)return _r_();t--,u(),l.find(".askr-survey__content").animate({top:-1*t*d},{duration:400,queue:!1}),_r_()}(),_r_()}),p.on("click",function(){if(_i_("3bb:b903c714"),C(this).hasClass("askr-survey__btn--disabled"))return _r_(!1);e=!0,m(),_r_()}),l.find(".askr-survey__radio-item").on("change",function(){if(_i_("3bb:ce24e425"),!this.checked)return _r_(!1);e=!1,i=Math.max(i,t+1),i=Math.min(i,n),(a||r)&&(clearTimeout(a),clearTimeout(r),r=a=null),a=setTimeout(h,1e3),r=setTimeout(f,2200),_=C(this).data("qid"),l.find("label.askr-survey__radio-box.askr-survey__radio-box--selected-animator").removeClass("askr-survey__radio-box--selected-animator"),_r_()}),u(),setTimeout(function(){_i_("3bb:be7f5121"),l.removeClass("askr-survey--hidden"),_r_()},10),_r_()}(),_r_(!1)}),setTimeout(function(){_i_("3bb:7bb82d6d"),e.removeClass("askr-invite--hidden"),_r_()},10),_r_()}}),_r_()}),booking.jstmpl("askr_invite",function(){_i_("3bb:6982f1bd");var n=['\n    <div class="askr-invite askr-invite--hidden '," ",'">\n        <div class="askr-invite__title">','</div>\n        <div class="askr-invite__description">','</div>\n        <div class="askr-invite__buttons-wrapper">\n            <a class="askr-invite__button js-askr-cancel">\n                ','\n            </a>\n            <a class="askr-invite__button askr-invite__button--primary js-askr-ok">\n                ',"\n            </a>\n        </div>\n    </div>\n"],a=["platform","invite_position","title","description","cancel_btn","agree_btn"];return _r_(function(e){_i_("3bb:3e225dc2");var t="",i=this.fn;return t+=[n[0],i.MC(a[0]),n[1],i.MC(a[1]),n[2],i.MC(a[2]),n[3],i.MC(a[3]),n[4],i.MC(a[4]),n[5],i.MC(a[5]),n[6]].join(""),_r_(t)})}()),booking.jstmpl("askr_survey",function(){_i_("3bb:0598f345");var p,u=['\n    <div class="askr-survey askr-survey--hidden '," askr-survey--fullscreen"," askr-survey--compact",'">\n        <div class="askr-survey__close">\n            ',"24","fonticon/aclose",'\n        </div>\n\n        <div class="askr-survey__top-shadow-overlayer"></div>\n\n        ','\n\n        <div class="askr-survey__content-wrapper">\n            <div class="askr-survey__content">\n                ',"\n                    ","\n\n                    ",'\n                        <div class="askr-survey__break">&nbsp;</div>\n                    ','\n\n                    <div class="askr-survey__content-block" data-qid="','">\n                        <div class="askr-survey__question-header">\n                            <div class="askr-survey__question-header-number">','</div>\n                            <div class="askr-survey__question-header-title">','</div>\n                        </div>\n\n                        <div class="askr-survey__break">&nbsp;</div>\n\n                        <div class="askr-survey__questions" data-qid="','">\n                            ',"\n\n                                    ","\n                                        ",'\n\n                                        <input type="radio"\n                                                class="askr-survey__radio-item"\n                                                name="radio-','"\n                                                id="radio-',"-",'"\n                                                value="','"\n                                                data-ex-hash="','"\n                                                data-g-num="','"\n                                                data-qid="','"\n                                        >\n\n                                        <label class="askr-survey__radio-box" for="radio-','">\n                                            <div class="askr-survey__radio-icon askr-survey__radio-unchecked">\n                                                ',"22","fonticon/checkempty",'\n                                            </div>\n\n                                            <div class="askr-survey__radio-icon askr-survey__radio-checked">\n                                                ',"fonticon/checkno2","\n                                            </div>\n                                            ","\n                                        </label>\n                                    ","\n                                ","\n                        </div>\n                    </div>\n                ",'\n            </div>\n        </div>\n\n        <div class="askr-survey__bottom-shadow-overlayer"></div>\n\n        <div class="askr-survey__footer">\n            <div class="askr-survey__btn askr-survey__btn_down">\n                <div class="askr-survey__btn-inner">\n                    ',"20","fonticon/downchevron",'\n                </div>\n            </div>\n\n            <div class="askr-survey__btn askr-survey__btn_up askr-survey__btn--disabled">\n                <div class="askr-survey__btn-inner">\n                    ',"fonticon/upchevron",'\n                </div>\n            </div>\n\n            <div class="askr-survey__progress-box">\n                <div class="askr-survey__progress-text-box">\n                    <div class="askr-survey__progress-label">',"/private/ppd_survey_oct18_price_clarity_progress/name",'</div>\n\n                    <div class="askr-survey__progress-value"><span class="askr-survey__progress-value-current">1</span>',"/private/ppd_survey_oct18_price_clarity_num_of_total/name",'<span class="askr-survey__progress-value-max">','</span></div>\n                </div>\n\n                <div class="askr-survey__progress">\n                    <div class="askr-survey__progress-bar"></div>\n                </div>\n            </div>\n\n            <div class="askr-survey__complete-survey-box">\n                <button class="bui-button bui-button--secondary bui-button--wide askr-survey__complete-btn" title="Complete survey">\n                    <span class="bui-button__text">\n                        ',"/private/ppd_survey_oct18_price_clarity_complete_cta/name","\n                    </span>\n                </button>\n            </div>\n        </div>\n    </div>\n"],h=["platform","is_fullscreen","qdata","fe_length","fe_answ_num"];return _r_(function(e){_i_("3bb:1811e76b");var t="",i=this.fn;t+=[u[0],i.MC(h[0])].join(""),i.MJ(i.MB(h[1]))?t+=u[1]:t+=u[2],t+=[u[3],(e.unshift({height:u[4],name:u[5],width:u[4]}),p=i.HELPER("icon",e[0]),e.shift(),p),u[6]].join(""),i.MN("fe_length",0),t+=u[7];var n=(i.MC(h[2])||{}).questions||[];e.unshift({fe_question:null});for(var a,r=1,_=n.length;r<=_;r++){e[0].fe_question=a=n[r-1],t+=u[8],i.MN("fe_length",i.MI(i.MB(h[3]))+i.MI(1)),t+=u[9],i.MJ(1==r)&&i.MJ(i.MB(h[1]))&&i.MJ(i.MB(h[0])+""=="desktop")&&(t+=u[10]),t+=[u[11],i.MG((a||{}).question_id),u[12],i.MC(h[3]),u[13],(a||{}).name,u[14],i.MG((a||{}).question_id),u[15]].join("");var s=i.MG((a||{}).type);if(i.MJ(s+""=="radio")){t+=u[16],i.MN("fe_answ_num",0),t+=u[16];var o=r,l=n,c=_,d=b;n=(a||{}).answers||[];e.unshift({fe_answer:null});var b;for(r=1,_=n.length;r<=_;r++)e[0].fe_answer=b=n[r-1],t+=u[17],i.MN("fe_answ_num",i.MI(i.MB(h[4]))+i.MI(1)),t+=[u[18],i.MG((a||{}).question_id),u[19],i.MG((a||{}).question_id),u[20],i.MB(h[4]),u[21],i.MG((b||{}).answer_id),u[22],i.MG(((b||{}).track_experiment_goal||{}).experiment_hash),u[23],i.MG(((b||{}).track_experiment_goal||{}).goal_number),u[24],i.MG((a||{}).question_id),u[25],i.MG((a||{}).question_id),u[20],i.MB(h[4]),u[26],(e.unshift({height:u[27],name:u[28],width:u[27]}),p=i.HELPER("icon",e[0]),e.shift(),p),u[29],(e.unshift({height:u[27],name:u[30],width:u[27]}),p=i.HELPER("icon",e[0]),e.shift(),p),u[31],i.MG((b||{}).name),u[32]].join("");e.shift(),r=o,n=l,_=c,b=d,t+=u[33]}t+=u[34]}return e.shift(),t+=[u[35],(e.unshift({height:u[36],name:u[37],width:u[36]}),p=i.HELPER("icon",e[0]),e.shift(),p),u[38],(e.unshift({height:u[36],name:u[39],width:u[36]}),p=i.HELPER("icon",e[0]),e.shift(),p),u[40],i.ME(u[41],i.MB,i.MN,null),u[42],i.ME(u[43],i.MB,i.MN,null),u[44],i.F.entities(i.MB(h[3])),u[45],i.ME(u[46],i.MB,i.MN,null),u[47]].join(""),_r_(t)})}()),B.define("component/price-match-trigger",function(n,e,t){"use strict";_i_("3bb:4da146e4");var i=n("component"),a=n("server-data"),r=n("promise"),_=null;t.exports=i.extend({init:function(){_i_("3bb:49979a91"),this.renderModal=this.renderModal.bind(this),this.loadTemplate=this.loadTemplate.bind(this),this.toggleLoading=this.toggleLoading.bind(this),this.addEventListeners=this.addEventListeners.bind(this),this.handleTriggerClick=this.handleTriggerClick.bind(this),this.addEventListeners(),_r_()},addEventListeners:function(){_i_("3bb:160f1e4c"),this.$el.click(this.handleTriggerClick),_r_()},handleTriggerClick:function(e){if(_i_("3bb:4fb66df5"),e.preventDefault(),e.stopPropagation(),_)return this.showModal(),_r_(!1);this.toggleLoading(!0).then(this.loadTemplate).then(this.showModal,this.toggleLoading).then(this.toggleLoading),_r_()},loadTemplate:function(e){_i_("3bb:bd226afd");var t=n("async-loader");return _r_(t.load({js:"async_wpm_overlay_js"}).then(this.renderModal,function(){return _i_("3bb:83f930cf"),_r_(r.reject(!1))}))},renderModal:function(){_i_("3bb:b5cfc68d");var e=n("jstmpl"),t=document.querySelector(".js-price-match-modal"),i=e("bpg_module_overlay").render({bpg_label:a.bpg_label,b_secure_domain:a.b_secure_domain,b_query_params_with_lang:a.b_query_params_with_lang,isBUIPriceMatchModal:!0});(_=window.BUI.createInstance("Modal",t,{template:i,size:"large",onBeforeOpen:function(){_i_("3bb:ee729ec0"),n("lightbox").hide(),_r_()}})).mount(),_r_()},showModal:function(){_i_("3bb:2fae31fc"),_&&_.open(),_r_()},toggleLoading:function(e){return _i_("3bb:fd23d469"),this.$el.toggleClass("bui-is-loading",e),_r_(r.resolve())}}),_r_()}),B.when({action:"book",condition:!!$("[data-swap-on-hpp]").length}).run(function(){_i_("3bb:485baed9");var i=B.require("events"),n=B.env.paymentMethods&&B.env.paymentMethods.filter(function(e){return _i_("3bb:bc40d90f"),_r_(e.bmp&&!e.direct_integration)}).map(function(e){return _i_("3bb:3467f028"),_r_(e.abbr)}),a=$("[data-swap-on-hpp]"),r=a.map(function(){return _i_("3bb:b1ae8adf"),_r_(this.innerHTML)});2<=a.length&&i.on("accordion:afterOpen",function(e){if(_i_("3bb:e1e7d479"),e&&e.length){var t=e.find("[name=cc_type]").val();-1<n.indexOf(t)?(a.eq(1).html(r[0]),a.eq(0).html(r[1])):(a.eq(0).html(r[0]),a.eq(1).html(r[1]))}i.trigger("bwallet::raf::campaign::swaponhpp"),_r_()}),_r_()}),B.when({action:"book",condition:!!$(".bank-names__selection-item").length}).run(function(){_i_("3bb:dfe9e055");var e=$(".selection-item--reveal"),t=$(".bank-names__selection-item");e.on("click",function(){_i_("3bb:e7a29f3e"),t.removeClass("selection-item--hidden"),e.hide(),_r_()}),_r_()}),B.when({events:"ready",action:"book",condition:!!$("input[name=hybrid_pay_now]").length&&!$("[data-disable-pnpl-wrapper]").length}).run(function(e){_i_("3bb:927803d8");var r,n=e("events"),_=e("server-data"),s=e("tooltip"),t=e("report-error"),a=e("bp/store"),i=e("component/bp/payment-timing/actions"),o=_.bp_hybrid_pay_now,l=$('#bookStage3Inc, .js-booking-process__container[data-stage="3"]'),c=l.find("[data-pay-option]"),d=$("[data-check-for-chargeable]"),b=d.find('[data-is-chargeable="0"]'),p=b.closest("label"),u=d.find('[data-is-chargeable="1"]'),h=d.find('[data-is-accepted-by-hotel="0"]'),f=d.find('[data-is-accepted-by-hotel="1"]'),m={},g=l.find("[data-tab-toggle]"),M=g.filter('[data-tab-toggle-for^="payment_method__content__creditcard"]'),v=g.not('[data-tab-toggle-for^="payment_method__content__creditcard"],[data-tab-toggle-for^="payment_method__content__company"],[data-tab-toggle-for^="payment_method__content__nocc"]'),y="payment-method__toggle--is-hidden",C=l.find(".payment-method__content-item"),w=C.filter("#payment_method__content__creditcard, #payment_method__content__creditcards"),k=C.not("#payment_method__content__creditcard, #payment_method__content__creditcards"),E=$(".payment-details__m-stored .cc_only_to_guarantee"),N=$(".cc_only_to_guarantee, .how_i_will_pay_holder, .box__heading__sub-instructions").not(E),x=$(".payment-details-us-payout"),S=!!$("[data-hpp-pay-now-overlay]").length,T=[];if(S){var D=l.find("#paymentBlock");S=!1,D.length&&v.length&&(S=!0)}S&&v.each(function(){_i_("3bb:2158c415"),T.push(this.getAttribute("data-tab-toggle-id")),_r_()});var A="bui-u-hidden",j=$("[data-pay-visible-for]"),I=$("[data-pay-disable-for]"),F=$("[data-pay-hidden-for]"),P=$("[data-pay-enable-for]");function O(){_i_("3bb:0749fe8f");var e=M.eq(0);e.trigger("click"),e.find('input[name="payment_option"]').prop("checked",!0),_r_()}function L(e){_i_("3bb:0be1b48e");var t=e?w:k.first();if(n.trigger("accordion:afterOpen",t),N.toggle(e),x.toggle(!e),0<d.length)if(e)_.fe_pay__add_all_cc_types_for_pay_now?J(f,h):(b.show(),p.show());else if(_.fe_pay__add_all_cc_types_for_pay_now)J(u,b);else{var i=b.filter(":checked,:selected");b.hide(),p.hide(),i.length&&("SELECT"===d.get(0).tagName?d.val("").change():i.prop("checked",!1))}_r_()}function J(e,t){_i_("3bb:2f520842"),e.show(),t.hide();var i=t.filter(":checked,:selected");i.length&&(i.prop("checked",!1),d.val("").change()),_r_()}function R(e){_i_("3bb:b65c849a");var t=$("#book_credit_card .saved_cc_table_item input[type=radio]"),_="later"==e;_i_("3bb:ed99a02d"),s.get("cc-not-accepted-by-hotel-tooltip")&&s.get("cc-not-accepted-by-hotel-tooltip").destroy(),_r_(),t.each(function(){_i_("3bb:cd29c7d2");var e,t,i=$(this).data("pay-method"),n=!1,a="",r=m[i];r&&($(this).attr("disabled",!1),$(this).attr("data-tab-permanently-disabled",!1),_&&!r.isAcceptedByHotel&&r.isChargeable?(n=!0,a=B.jstmpl.translations("d_bs3_pay_now_extra_options_pay_now_card_type_first",null,{credit_card:i})):_||r.isChargeable||!r.isAcceptedByHotel||(n=!0,a=B.jstmpl.translations("d_bs3_paynow_not_an_option_unable_to_process_name_of_card",null,{credit_card:i})),n&&($(this).attr("disabled",!0),$(this).attr("data-tab-permanently-disabled",!0),e=i,t=a,_i_("3bb:b03f8ce1"),e&&s.setup({id:"cc-not-accepted-by-hotel-tooltip",target:'#book_credit_card [data-pay-method-tooltip="'+e+'"]',text:t,position:"bottom"}),_r_(),$(this).attr("checked")&&$(this).attr("checked",!1))),_r_()}),_r_()}function U(e){var t,i,n,a;_i_("3bb:3d7ab2d1"),function(e){if(_i_("3bb:cdac5074"),S&&!r&&(r=D.data("$component"),S=!!r),S){var t={disabled:e,id:T};e?t.showOverlay=!0:t.hideOverlay=!0,r.update("disabled",t)}else v.toggleClass(y,e);_r_()}(!e||"now"!=e),function(e){if(_i_("3bb:a194ade1"),!r)return _r_();var t={disabled:e,id:"nocc"};e?t.showOverlay=!0:t.hideOverlay=!0,r.update("disabled",t),_r_()}(e&&"now"==e),L(!e||"now"!=e),t=e,_i_("3bb:330ee8e11"),t=t||"later",j.addClass(A).filter('[data-pay-visible-for="'+t+'"]').removeClass(A),_r_(),i=e,_i_("3bb:f7c381011"),i=i||"later",I.prop("disabled",!1).filter('[data-pay-disable-for="'+i+'"]').prop("disabled",!0),_r_(),n=e,_i_("3bb:8662721b1"),n=n||"later",F.removeClass(A).filter('[data-pay-hidden-for="'+n+'"]').addClass(A),_r_(),a=e,_i_("3bb:09c88d711"),a=a||"later",P.prop("disabled",!0).filter('[data-pay-enable-for="'+a+'"]').prop("disabled",!1),_r_(),_.fe_pay__add_all_cc_types_for_pay_now&&R(e),_r_()}o&&_.fe_pay__add_all_cc_types_for_pay_now?(L("pay-now"!=o),R("pay-now"==o?"now":"later")):o&&"pay-now"==o&&L(!1),_i_("3bb:986c3fdd"),c.on("click",function(){_i_("3bb:99ad432b");var e=$(this).data("pay-option");n.trigger("pay:timing:changed",e||"later"),function(e){_i_("3bb:5f023ddd2");try{a.getState().payment_timing.type!==e&&a.dispatch(i.doUpdatePaymentTiming({type:e}))}catch(e){t("Error while updating payment timing: ",e)}_r_()}(e||"later"),_r_()}),$("[data-is-chargeable]").each(function(){_i_("3bb:8faea1eb");var e=$(this),t=e.val();if(!t)return _r_();m[t]={isChargeable:1==e.data("is-chargeable"),isAcceptedByHotel:0!==e.data("is-accepted-by-hotel")},_r_()}),a.subscribe(function(){_i_("3bb:63febe5c");var e=a.getState(),t=e&&e.payment_timing?e.payment_timing.type:void 0,i=e&&e.payment_method?e.payment_method.name:void 0;if(t&&U(t),"creditcard"==i||"company"==i)return _r_();"later"==t&&"nocc"!==i&&O(),"now"==t&&"nocc"==i&&O(),_r_()}),_r_(),_r_()}),B.when({action:"book",condition:!!$(".payment-method__contents--invisible").length}).run(function(){_i_("3bb:965135b3");var e=$(".payment-method__contents");e.hide(),$(".payment-method__toggle-item").on("click",function(){_i_("3bb:baa40948"),e.show(),_r_()}),_r_()}),B.when({action:"book",condition:!!$(".company-check-input").length}).run(function(){_i_("3bb:32972894"),$("#company-check-true").on("click",function(){_i_("3bb:410f7c86"),$("#payment_method__toggle__company").click(),_r_()}),$("#company-check-false").on("click",function(){_i_("3bb:3c69026a"),$("#payment_method__toggle__creditcard").click(),_r_()}),_r_()}),B.define("component/bp/payment-timing-options",function(e,t,i){_i_("3bb:1d3ea029");var n=e("component"),a=e("events"),r=e("bp/store"),_="bui-has-error";i.exports=n.extend({init:function(){_i_("3bb:7d07c06c"),this._addListeners(),_r_()},destroy:function(){_i_("3bb:73e925cc"),this._removeListeners(),_r_()},_addListeners:function(){_i_("3bb:18ee2cf1"),r.subscribe(this._handleStoreChange.bind(this)),a.on("bp:form_submit",this._checkStorePaymentTimingIsValid.bind(this)),_r_()},_removeListeners:function(){_i_("3bb:c007d0e3"),a.off("bp:form_submit"),_r_()},_handleStoreChange:function(e,t,i){_i_("3bb:24106904"),"UPDATE_PAYMENT_TIMING"===i.type&&this._checkStorePaymentTimingIsValid(),_r_()},_isValidStorePaymentTiming:function(){_i_("3bb:22292bde");var e=r.getState(),t=e&&e.payment_timing?e.payment_timing.type:void 0;return _r_(void 0!==t&&"none"!==t)},_checkStorePaymentTimingIsValid:function(){_i_("3bb:04815b28");var e=this._isValidStorePaymentTiming();this._togglePaymentTimingError(e),_r_()},_togglePaymentTimingError:function(e){_i_("3bb:6572dd9c"),e?this.$el.removeClass(_):this.$el.addClass(_),_r_()}}),_r_()}),B.define("component/payment/timing",function(n,e,t){_i_("3bb:ad64cb62");var r,a,_,i=n("component"),s=n("jquery"),o=n("server-data"),l=n("et"),c=n("report-error"),d="bui-u-hidden",b="bui-has-error",p=s('select[id="cc_type"]'),u=p.find('[data-is-chargeable="0"]'),h=p.find('[data-is-chargeable="1"]'),f=p.find('[data-is-accepted-by-hotel="0"]'),m=p.find('[data-is-accepted-by-hotel="1"]'),g=s("section#bs3_cc_form"),M=s('[payment-timing-error="nothing_selected"]'),v=s('button[name="book"]'),y=s("#paymentBlock").find("[data-tab-toggle]"),C=y.filter('[data-tab-toggle-for^="payment_method__content__creditcard"]'),w=y.filter('[data-tab-toggle-for^="payment_method__content__company"]'),k=y.not('[data-tab-toggle-for^="payment_method__content__creditcard"],[data-tab-toggle-for^="payment_method__content__company"],[data-tab-toggle-for^="payment_method__content__nocc"]'),E=s(".bui-selector__payments-wrapper"),N="OMbMWcMdFRGbQfJNGLdDJIOUIC";t.exports=i.extend({init:function(){_i_("3bb:3b937324");var e=this;if(o.b_action_name_is_tpi_book)return _r_();try{r=1==o.fe_is_mobile?n("component/booking-process/core/store"):n("bp/store"),a=1==o.fe_is_mobile?n("component/booking-process/core/payment-details/payment-timing/actions"):n("component/bp/payment-timing/actions"),1==o.fe_show_payment_timing_with_wallet&&(_=1==o.fe_is_mobile?n("component/booking-process/core/payment-details/wallet-details/actions"):n("component/bp/wallet-details/actions"))}catch(e){c("Error loading store: ",e)}var t=this.getSelectedPaymentTimingFromStore();t&&(s('input[name="payment_timing"]').prop("checked",!1),s('input[name="payment_timing"][value="'+t+'"]').prop("checked",!0),this.changePaymentTiming(t)),this.bindEvents();var i=window.BUI.getInstance(this.el);i&&(i.props.onBeforeOpen=function(){_i_("3bb:c0dae20f"),l.customGoal(N,1),e.bindModalEvents(),_r_()}),this.el.classList.contains("payment-timing__options--scroll-trigger")&&s(this.el).on("click",function(){_i_("3bb:6d3beb79"),e.scrollToPaymentTiming(),_r_()}),r.subscribe(function(){_i_("3bb:0466082f"),e.changePaymentTiming(e.getSelectedPaymentTimingFromStore()),_r_()}),_r_()},scrollToPaymentTiming:function(){_i_("3bb:b0658dc9");var e=s(".bp-bui-panel--timing"),t=e.length?e.offset():null;t&&s("html, body").stop().animate({scrollTop:t.top},500,function(){_i_("3bb:06763201"),l.customGoal(N,4),_r_()}),_r_()},getSelectedPaymentTimingFromStore:function(){_i_("3bb:c56ac156");var e=o.fe_payment_timing_selected;if(r&&r.getState()){var t=1==o.fe_is_mobile?r.getState().paymentDetails.paymentTiming:r.getState().payment_timing;e=t?t.type:e}return _r_(e)},checkAndShowPaymentTimingError:function(e,t){_i_("3bb:d8d67b6c");if("none"===(t=t||this.getSelectedPaymentTimingFromStore()))return M.removeClass(d),E.addClass(b),e&&(l.customGoal(N,2),e.stopPropagation(),e.preventDefault(),this.scrollToPaymentTiming()),_r_();E.removeClass(b),M.addClass(d),_r_()},toggleVisibleOptions:function(e){_i_("3bb:bad6726e");var t=s("[data-pay-visible-for]"),i=s("[data-pay-disable-for]"),n=s("[data-pay-hidden-for]"),a=s("[data-pay-enable-for]");t.addClass(d).filter('[data-pay-visible-for="'+e+'"]').removeClass(d),i.prop("disabled",!1).filter('[data-pay-disable-for="'+e+'"]').prop("disabled",!0),n.removeClass(d).filter('[data-pay-hidden-for="'+e+'"]').addClass(d),a.prop("disabled",!0).filter('[data-pay-enable-for="'+e+'"]').prop("disabled",!1),o.fe_enable_credit_block_toggle_for_pay_now&&("now"==e?s(".bp-card--wallet-reward,.js-benefit-credits-block").removeClass(d):s(".bp-card--wallet-reward,.js-benefit-credits-block").addClass(d)),_r_()},toggleModalVisibleOptions:function(e){_i_("3bb:38282103"),s(".bui-modal__body [data-payment-timing-value]").addClass(d),s('.bui-modal__body [data-payment-timing-value="'+e+'"]').removeClass(d),_r_()},toggleDropdownHPPs:function(e){_i_("3bb:011039a9");var t=s("#paymentBlock").find("[data-tab-content]");e?(t.find(".payment-method__allowed").removeClass(d),t.find(".payment-method__not-allowed").addClass(d)):(t.find(".payment-method__allowed").addClass(d),t.find(".payment-method__not-allowed").removeClass(d)),_r_()},toggleHPPs:function(e){_i_("3bb:baa5c4f8");var t=s("#paymentBlock").data("$component"),i=[];if(t&&(k&&0<k.length&&k.each(function(){_i_("3bb:85b55cfd"),i.push(this.getAttribute("data-tab-toggle-id")),_r_()}),0<i.length)){var n={id:i,disabled:e,hide:1==o.fe_m_toggle_unavailable_payment_methods,showOverlay:e,hideOverlay:!e};t.update("disabled",n)}_r_()},selectCC:function(){_i_("3bb:21a15830");var e=0<w.length?w:C;e&&0<e.length&&0<e.find('input[value="creditcard"]').length&&(e.trigger("click"),e.find('input[value="creditcard"]').prop("checked",!0)),_r_()},toggleTimingAndMethodMismatch:function(e,t){_i_("3bb:501b6c91");var i="later"===t&&!("creditcard"===e||"nocc"===e);if(i&&1==o.fe_m_toggle_unavailable_payment_methods){var n=0<w.length?w:C;return n&&n.trigger("click"),_r_()}if(i){v.prop("disabled",!0);var a={method:B.jstmpl.translations("/payment_method/"+e+"/name",null,{})};s(".bui-alert__payment-timing").removeClass(d),s(".bui-alert__payment-timing").find(".bui-alert__text").text(B.jstmpl.translations("m_pay_bs3_method_timing_mismatch_final_warning",null,a))}else v.prop("disabled",!1),s(".bui-alert__payment-timing").addClass(d);_r_()},updateCreditCardTypes:function(e){var t,i;if(_i_("3bb:67b05de7"),"now"==e||1==o.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE&&"later"==e?(t=h,i=u):(t=m,i=f),t&&t.length||i&&i.length){i&&i.hide(),t&&t.show();var n=i.filter(":checked,:selected");n.length&&(n.prop("checked",!1),p.val("").change())}_r_()},handlePaymentTimingChange:function(e){if(_i_("3bb:29422b79"),r&&a)try{r.dispatch(a.doUpdatePaymentTiming({type:e}))}catch(e){c("Error while updating payment timing: ",e)}_r_()},disableWallet:function(){if(_i_("3bb:aec6ae6a"),r&&_)try{r.dispatch(_.doUpdateWalletUsed({walletUsed:!1})),r.dispatch(_.doUpdateWalletCreditsUsed({creditsUsed:0}))}catch(e){c("Error while disabling wallet: ",e)}_r_()},setPayNowParam:function(e){_i_("3bb:0deedda1");var t=s('input[name="hybrid_pay_now"]'),i={now:"pay-now","skip-and-pay-later":"skip-and-pay-later"};1==o.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE&&1==o.fe_mdot_exclusive_show_timing&&(t=s('input[name="pay_now"]'),i.now=1),t&&0<t.length&&(t.prop("disabled","later"===e),t.prop("checked","later"!==e),t.val(i[e]||"")),_r_()},changePaymentTiming:function(e){_i_("3bb:9c38c999");var t=r.getState();if(!o.fe_is_mobile){if("now"==e)this.toggleHPPs(!1);else{this.toggleHPPs(!0);var i=t&&t.payment_method&&t.payment_method.name;void 0!==i&&i.match(/creditcard|company|nocc/)||this.selectCC()}0<s("[data-payment-schedule-when]").length&&(s("[data-payment-schedule-when]").addClass(d),s('[data-payment-schedule-when="'+e+'"]').removeClass(d)),0<s(".js--loyalty-program__redeem").length&&0<s(".loyalty-program__redeem-credit__cc-title").length&&(s(".js--loyalty-program__redeem").toggle("now"==e),s(".loyalty-program__redeem-credit__cc-title").toggle("now"==e))}if(o.fe_is_mobile&&1==o.fe_show_payment_timing){var n=t&&t.paymentDetails&&t.paymentDetails.paymentMethod?t.paymentDetails.paymentMethod.name:"creditcard";(o.fe_m_bs3_no_preselection_payment_timing_modal||o.fe_m_bs3_no_preselection_payment_timing_no_modal)&&("none"==e?g.addClass(d):g.removeClass(d)),"now"==e&&"creditcard"!==n?this.toggleDropdownHPPs(!0):this.toggleDropdownHPPs(!1),this.toggleTimingAndMethodMismatch(n,e),1==o.fe_m_toggle_unavailable_payment_methods&&("now"==e?this.toggleHPPs(!1):this.toggleHPPs(!0)),s("[data-payment-timing-value]")&&0<s("[data-payment-timing-value]").length&&(s("[data-payment-timing-value]").addClass(d),s('[data-payment-timing-value="'+e+'"]').removeClass(d))}if(1==o.fe_show_payment_timing_with_wallet&&t&&"now"!==e){var a=o.fe_is_mobile?t.paymentDetails.walletDetails:t.wallet_details;a&&a.walletUsed&&this.disableWallet()}this.updateCreditCardTypes(e),this.toggleVisibleOptions(e),this.setPayNowParam(e),_r_()},bindEvents:function(){_i_("3bb:89b3b13c");var n=this,e=s(n.el).find('input[name="payment_timing"]');e&&0<e.length&&e.off().on("change",function(e){_i_("3bb:82295771"),o.fe_m_bs3_no_preselection_payment_timing_no_modal&&n.checkAndShowPaymentTimingError(null,this.value),"none"===o.fe_payment_timing_selected&&"none"!==this.value&&n.checkAndShowPaymentTimingError(null,this.value),n.handlePaymentTimingChange(this.value),_r_()}),s(".bp-bui-panel--timing").on("click",function(e){_i_("3bb:204e8fca"),e.target&&e.target.classList.contains("pay-method-icon--small")&&l.customGoal(N,3),_r_()}),1==o.fe_show_payment_timing&&r.subscribe(function(e){_i_("3bb:1015e598");var t=r.getState()&&r.getState().paymentDetails&&r.getState().paymentDetails.paymentMethod?r.getState().paymentDetails.paymentMethod.name:"creditcard",i=r.getState()&&r.getState().paymentDetails&&r.getState().paymentDetails.paymentTiming?r.getState().paymentDetails.paymentTiming.type:"later";n.toggleTimingAndMethodMismatch(t,i),_r_()}),v.on("click",this.checkAndShowPaymentTimingError.bind(this)),_r_()},bindModalEvents:function(){_i_("3bb:58a2f389");var t=this,i=t.getSelectedPaymentTimingFromStore();i&&this.toggleModalVisibleOptions(i);var n=s(".bp-payment-timing-apply-btn"),e=s('input[name="payment_timing"]');e&&0<e.length&&(s("input[name=payment_timing][value="+i+"]").prop("checked",!0),e.off().on("change",function(e){_i_("3bb:b408e9f0"),i=this.value,t.toggleModalVisibleOptions(i),n.prop("disabled","none"===i),_r_()})),n.prop("disabled","none"===i),n&&0<n.length&&n.off().on("click",function(e){_i_("3bb:7992a734"),i&&(t.handlePaymentTimingChange(i),t.checkAndShowPaymentTimingError(null,i),s('input[type="hidden"][name="payment_timing"]').val(i)),_r_()}),_r_()}}),_r_()}),B.define("component/pay/wallet",function(i,e,t){_i_("3bb:c42e8f1e");var a,n,r,_,s,o,l,c=i("component"),d=i("server-data"),b=i("report-error"),p=i("campaign-discounts"),u="bui-u-hidden",h=0;t.exports=c.extend({init:function(){_i_("3bb:38ecc6f1");var e=this;if(d.b_action_name_is_tpi_book||0==d.fe_show_payment_timing_with_wallet)return _r_();try{a=d.fe_is_mobile?i("component/booking-process/core/store"):i("bp/store"),n=d.fe_is_mobile?i("component/booking-process/core/payment-details/wallet-details/actions"):i("component/bp/wallet-details/actions"),r=d.fe_is_mobile?i("component/booking-process/core/payment-details/payment-timing/actions"):i("component/bp/payment-timing/actions")}catch(e){b("Error loading store: ",e)}_=d.fe_is_mobile?this.$el.find("#wallet_apply_wallet"):this.$el.find(".use-wallet-input"),s=d.fe_is_mobile?this.$el.find(".js-wallet-apply-amount-input"):this.$el.find(".wallet-input-value-input"),o=this.$el.parent().find(".js-project_tito_crosssell_bs3_wallet_banner"),d.fe_is_mobile||(l=s.component("tooltip").tooltip),a.subscribe(function(){_i_("3bb:9aff2930"),e.updateWallet(),_r_()});var t=p.getInstance();h=t?t.get_user_total_discount():0,this.bindEvents(),_r_()},handlePaymentTimingChange:function(e){if(_i_("3bb:88bf8a26"),a&&r)try{a.dispatch(r.doUpdatePaymentTiming({type:e}))}catch(e){b("Error while updating payment timing: ",e)}_r_()},handleWalletUsedChange:function(e){if(_i_("3bb:c623182e"),a&&n)try{a.dispatch(n.doUpdateWalletUsed({walletUsed:e}))}catch(e){b("Error while applying wallet: ",e)}_r_()},handleCreditsUsedChange:function(e){if(_i_("3bb:4f317253"),a&&n)try{a.dispatch(n.doUpdateWalletCreditsUsed({creditsUsed:e}))}catch(e){b("Error while updating wallet credits: ",e)}_r_()},updateWallet:function(){_i_("3bb:cb81dab7");var e,t=d.fe_is_mobile?a.getState().paymentDetails.paymentTiming.type:a.getState().payment_timing.type;if(a&&a.getState()&&(e=d.fe_is_mobile?a.getState().paymentDetails.walletDetails:a.getState().wallet_details),e&&e.walletUsed&&"now"==t){B.et.track("cCEaLMJeVPDdCAaGGbMWHT")&&this.calculateCreditsToBeUsed(e);var i=e.totalAmount-h-e.creditsUsed;i=i<0?0:i,this.$el.find("[name=wallet_payment_method]").prop("value",0==i?"1":"0"),this.togglePaymentsBlock(0==i),this.toggleWalletPriceBreakdown(0==i,i,e.creditsCurrency),this.setCredits(e.creditsUsed,e.creditsAvailable),this.$el.find(".wallet-body").removeClass(u)}else"now"!==t&&_.prop("disabled",!0).prop("checked",!1),this.togglePaymentsBlock(!1),this.$el.find(".js-wallet-apply-amount-group")&&0<this.$el.find(".js-wallet-apply-amount-group").length&&this.$el.find(".js-wallet-apply-amount-group").addClass(u),o.length&&o.addClass(u),this.$el.find(".wallet-price-update-block .wallet-full-price-covered").addClass(u),this.$el.find(".wallet-price-update-block .wallet-remaining-amount").addClass(u),this.$el.find("[name=wallet_instrument_payment_amount]").prop("value",0),this.$el.find("[name=wallet_payment_method]").prop("value",0),this.$el.find(".wallet-body").addClass(u);_r_()},togglePaymentsBlock:function(e){_i_("3bb:9ce6086f"),$(".bp-bui-panel--timing").removeClass(u),$("#bs3_cc_form").removeClass(u),e&&($(".bp-bui-panel--timing").addClass(u),$("#bs3_cc_form").addClass(u)),_r_()},toggleWarning:function(e,t,i){if(_i_("3bb:bd344bee"),e)l?l.hide():this.$el.find(".js-wallet-validation-block").addClass(u);else{var n=B.jstmpl.translations(t,null,{amount_with_currency:i});l?(l.settings.content=n,l.show()):(this.$el.find(".js-wallet-validation-text").text(n),this.$el.find(".js-wallet-validation-block").removeClass(u))}_r_()},toggleWalletPriceBreakdown:function(e,t,i){if(_i_("3bb:0571c1bd"),e)this.$el.find(".wallet-price-update-block .wallet-remaining-amount").addClass(u),this.$el.find(".wallet-price-update-block .wallet-full-price-covered").removeClass(u);else{var n=B.utils.accounting.formatMoney(t,i);d.fe_is_mobile?this.$el.find(".wallet-price-update-block .wallet-remaining-amount .amount").html(n):this.$el.find(".wallet-price-update-block .wallet-remaining-amount").html(B.jstmpl.translations("bp_bs3_wallet_block_amount_left_to_pay",null,{payment_amount:n})),this.$el.find(".wallet-price-update-block .wallet-full-price-covered").addClass(u),this.$el.find(".wallet-price-update-block .wallet-remaining-amount").removeClass(u)}_r_()},setCredits:function(e,t){_i_("3bb:14d0593d"),this.$el.find(".js-wallet-apply-amount-group")&&0<this.$el.find(".js-wallet-apply-amount-group").length&&this.$el.find(".js-wallet-apply-amount-group").removeClass(u),o.length&&o.removeClass("bui-u-hidden"),s.prop("value",e),s.attr("min",0),s.attr("max",t),this.$el.find("[name=wallet_instrument_payment_amount]").prop("value",e),_r_()},calculateCreditsToBeUsed:function(e){if(_i_("3bb:83506fbc"),e){var t=parseFloat(e.creditsUsed),i=Math.min(e.totalAmount-h,e.creditsAvailable);i<t&&this.handleCreditsUsedChange(i)}_r_()},bindEvents:function(){_i_("3bb:86bcf526");var i,n=this;_&&0<_.length&&(a&&a.getState()&&(i=d.fe_is_mobile?a.getState().paymentDetails.walletDetails:a.getState().wallet_details),d.fe_is_mobile&&i&&0<i.creditsAvailable&&(this.handlePaymentTimingChange("now"),this.handleWalletUsedChange(!0),this.handleCreditsUsedChange(Math.min(i.totalAmount-h,i.creditsAvailable))),_.on("change",function(e){(_i_("3bb:28f08c43"),i=d.fe_is_mobile?a.getState().paymentDetails.walletDetails:a.getState().wallet_details,n.toggleWarning(!0),this.checked)&&("now"!==(a&&a.getState()&&a.getState().paymentDetails&&a.getState().paymentDetails.paymentTiming?a.getState().paymentDetails.paymentTiming.type:"later")&&n.handlePaymentTimingChange("now"));n.handleWalletUsedChange(this.checked),n.handleCreditsUsedChange(this.checked?Math.min(i.totalAmount-h,i.creditsAvailable):0),_r_()}),s.on("change",function(e){_i_("3bb:0cd18461"),e.preventDefault();var t=parseFloat(this.value);return i=d.fe_is_mobile?a.getState().paymentDetails.walletDetails:a.getState().wallet_details,n.toggleWarning(!0),t<=0?(_.prop("checked",i.walletUsed),n.handleWalletUsedChange(!1)):t>parseFloat(i.creditsAvailable)?n.toggleWarning(!1,d.fe_is_mobile?"m_bp_bs3_wallet_block_max_balance_reached_warning":"wallet_bp_credit_error_too_much",d.b_bwallet_total_balance_pretty):t>parseFloat(i.totalAmount-h)&&n.toggleWarning(!1,d.fe_is_mobile?"m_bp_bs3_wallet_block_total_price_max_warning":"wallet_bp_credit_error_more_than_price",d.b_alt_payment_user_amount_pretty),(t>parseFloat(i.creditsAvailable)||t>parseFloat(i.totalAmount-h))&&(t=Math.min(i.totalAmount-h,i.creditsAvailable)),n.handleCreditsUsedChange(t),_r_(!1)}),s.on("keypress",function(e){_i_("3bb:f1372a43"),13==e.keyCode&&(e.stopPropagation(),e.preventDefault(),$(this).blur()),_r_()}));_r_()}}),_r_()}),B.define("component/payment/details/billing-address",function(e,t,i){_i_("3bb:7a35c440");var d,b,n=e("component"),p=e("server-data"),a=e("report-error"),r=e("et"),_=e("utils/throttled"),u=e("fragment"),h=e("promise"),s="bui-u-hidden",o=1==p.fe_is_us_domestic;i.exports=n.extend({init:function(){if(_i_("3bb:aa807e6d"),p.b_action_name_is_tpi_book||1!=p.b_require_billing_address)return _r_();try{d=1==p.fe_is_mobile?e("component/booking-process/core/store"):e("bp/store"),b=1==p.fe_is_mobile?e("component/booking-process/core/payment-details/billing-address/actions"):e("component/bp/billing-address/actions")}catch(e){a("Error loading store: ",e)}var n=this;this.toggleAddress(!1),d.subscribe(function(){_i_("3bb:795cc257");var e=d.getState();if(!e)return _r_();this.fetchBillingAddressFragment(e);var t=this.shouldShowBillingAddress(e);t&&!o&&(r.stage("bQdIXAKfOEYbBJIRBZUZTFNeKe",1),1==p.b_always_require_booker_address&&r.stage("bQdIXAKfOEYbBJIRBZUZTFNeKe",2)),n.toggleAddress(t),n.toggleUSCountryLock(e);var i=this.shouldShowErrorForUSCardHolder(e);n.toggleErrorForUSCardholder(i),_r_()}.bind(this)),this.bindEvents(),_r_()},fetchBillingAddressFragment:function(e){if(_i_("3bb:099db005"),!p.fe_is_us_hybrid)return _r_();var t,i,n=1==p.fe_is_mobile?e.paymentDetails&&e.paymentDetails.creditCardDetails:e.payment_cc_details,a=n&&n.cc_number,r=(t=a,_i_("3bb:23344477"),i=t,_i_("3bb:5641e262"),t=_r_(i?i.replace(/\s/g,""):""),_r_(5<t.length?t.substring(0,6):"")),_=1==p.fe_is_mobile?n&&n.cc_id:n&&n.cc_card_id,s=p.b_reg_user_id;if(!r&&!_)return _r_();var o,l,c={customer_country:p.ip_country,property_id:p.b_hotel_id,currency:p.fe_amount_currency,amount:p.fe_chargeable_amount,cc_bin:r};_&&(c.cc_id=_,c.user_id=s),(o="payment.billing_address",l=c,_i_("3bb:1977badb"),_r_(new h(function(t,i){_i_("3bb:7bd4295a");var n=JSON.stringify(l);if(f===n)return _r_();if("PENDING"===m[f=n])return _r_();if(m[n]&&"PENDING"!==m[n])return t(m[n]),_r_();m[n]="PENDING",u.call(o,l).then(function(e){_i_("3bb:26c644a9"),m[n]=e,n===f&&t(e),_r_()}).catch(function(e){_i_("3bb:a40f71c6"),delete m[n],i(e),_r_()}),_r_()}))).then(function(e){_i_("3bb:76acddba"),d.dispatch(b.doUpdateBillingAddress({in_us_scope:e.result.in_us_scope})),_r_()}),_r_()},shouldShowBillingAddress:function(e){_i_("3bb:dc76efdb");var t=p.fe_payment_timing_selected,i=1==p.fe_is_mobile?e.paymentDetails.paymentTiming:e.payment_timing;if(t=i?i.type:t,!(1==p.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE||"now"===t))return _r_(!1);var n=1==p.fe_is_mobile?e.paymentDetails&&e.paymentDetails.sca:e.sca;if(n&&"yes"==n.isSCA)return _r_(!0);return _r_(!1)},shouldShowErrorForUSCardHolder:function(e){_i_("3bb:799504b5");var t=1==p.fe_is_mobile?e.paymentDetails.paymentTiming:e.payment_timing,i=t?t.type:p.fe_payment_timing_selected,n=1==p.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE||"now"===i,a=1==p.fe_is_mobile?e.paymentDetails&&e.paymentDetails.billingAddress:e.billing_address;return _r_((o||a.in_us_scope)&&n)},toggleAddress:function(e){_i_("3bb:1e582728"),e?(this.$el.removeClass(s),this.$el.find("[id^=billing_address_]:not(.bui-u-hidden)").find("[name^=billing_address_]").attr("disabled",!1),this.$el.find("[name=require_billing_address]").val(1),this.$el.find("[name=require_billing_address_house_number]").val(p.b_require_billing_address_house_number)):(this.$el.addClass(s),this.$el.find("[id^=billing_address_]:not(.bui-u-hidden)").find("[name^=billing_address_]").attr("disabled",!0),this.$el.find("[name=require_billing_address]").val(0),this.$el.find("[name=require_billing_address_house_number]").val(0)),_r_()},toggleUSCountryLock:function(e){_i_("3bb:aada67f5");var t=1==p.fe_is_mobile?e.paymentDetails&&e.paymentDetails.billingAddress:e.billing_address,i=this.$el.find("#billing_address_country");t.in_us_scope?("us"!==i.val()&&(this.showEditMode(),i.val("us").trigger("change")),i.find("option:not([value='us'])").prop("disabled",!0)):i.find("option").prop("disabled",!1),_r_()},toggleErrorForUSCardholder:function(e){_i_("3bb:930f5c77"),this.$el.siblings(".js-us-cardholder-error-message").toggleClass(s,!e),_r_()},bindEvents:function(){_i_("3bb:5010bd0a"),this.$el.on({keyup:_(this._onFieldChange.bind(this),300),change:this._onFieldChange.bind(this)});var e=this.$el.find(".payment-details__billing-address__edit");e&&0<e.length&&e.on("click",this.showEditMode.bind(this));var t=this.$el.find("#billing_address_country");t&&0<t.length&&(this._toggleStateSelection(),t.on("change",this._toggleStateSelection.bind(this))),_r_()},showEditMode:function(){_i_("3bb:d3fd96b9");var e=this.$el.find(".payment-details__billing-address-form"),t=this.$el.find(".payment-details__billing-address-plain-text"),i=this.$el.find(".payment-details__billing-address__edit");e.removeClass(s),t.addClass(s),i.addClass(s),_r_()},_toggleStateSelection:function(e,t,i){_i_("3bb:2a1b1d42");t=this.$el.find("#billing_address_state_or_province_container_us"),i=this.$el.find("#billing_address_state_or_province_container_ca");var n=this.$el.find("#billing_address_country").val();"us"==n?(t.removeClass(s),i.addClass(s)):"ca"==n?(i.removeClass(s),t.addClass(s)):(t.addClass(s),i.addClass(s)),t.find("select").prop("disabled","us"!==n),i.find("select").prop("disabled","ca"!==n),_r_()},_onFieldChange:function(e){_i_("3bb:49b0382f");var t=e.target.getAttribute("name"),i=e.target.value,n={};n[t]=i,d.dispatch(b.doUpdateBillingAddress(n)),_r_()}});var f=null,m={};_r_()}),B.define("payment/sca",function(e,t,i){_i_("3bb:a051bc23");var o,_,l=e("promise"),r=e("jquery"),s=e("report-error"),c=e("payment/sca/sdk/wrapper"),d=e("payment/sca/store/utils"),b=e("fragment"),p=e("server-data"),n=p.b_param_test,u={IDENTIFY_SHOPPER:"IDENTIFY_SHOPPER",CHALLENGE_SHOPPER:"CHALLENGE_SHOPPER",AUTHENTICATED:"AUTHENTICATED",CANCELLED:"CANCELLED",REFUSED:"REFUSED"},h={YES:"yes",NO:"no",MAYBE_YES:"maybe_yes",MAYBE_NO:"maybe_no",UPDATING:"updating",UNKNOWN:""},f={containerSelector:"scaCContainer",size:"FILL_CONTAINER"},m=d.getStaticData(),g={},a={};function M(r){return _i_("3bb:ee5f88aa"),_r_(new l(function(i,n){_i_("3bb:1bf01f92");var e=d.getMappedState();if(1!=p.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE&&e.paymentTiming&&"now"!==e.paymentTiming.type||"creditcard"!==e.paymentMethod)return d.doUpdateIsSCA({isSCA:h.NO}),_="OUT_OF_SCOPE",i({result:h.NO,cacheKey:"OUT_OF_SCOPE"}),_r_();if(m.do_sca&&(w(e.paymentCCDetails.ccNumber)===m.do_sca_for_iin||e.paymentCCDetails.ccId===m.do_sca_for_iin))return d.doUpdateIsSCA({isSCA:h.YES}),_="SCA_NEEDED",i({result:h.YES,cacheKey:"SCA_NEEDED"}),_r_();var t=C(e),a=function(t){_i_("3bb:5705de08");var e=Object.keys(t).sort(),i="";return e.forEach(function(e){_i_("3bb:ac8e74b8"),i+="_"+(t[e]||""),_r_()}),_r_(i)}(t);if(g.hasOwnProperty(a))return _=a,d.doUpdateIsSCA({isSCA:g[a].result}),i(g[a]),_r_();r&&a===_&&i(N()),_=a,r||(d.doUpdateSCAResult({result:{}}),d.doUpdateIsInProgress({isInProgress:!0})),b.call("payment.sca_brain",t).then(function(e){_i_("3bb:d535d058");var t=Object.assign({cacheKey:a},e);if(g[a]=t,e.ignore_result&&r)return n(e),_r_();d.doUpdateIsSCA({isSCA:e.result}),e.cacheKey!==_?n(Object.assign(N(),e)):i(e),_r_()},function(e){_i_("3bb:2ed81ed5"),s("payment.sca_brain fragment failed: "+e,"SCA"),d.doUpdateIsSCA({isSCA:h.NO}),i({result:"no"}),_r_()}),_r_()}))}function v(s){return _i_("3bb:ce8bf451"),x("[SCA] Result: ",s),_r_(new l(function(e,t){if(_i_("3bb:1bd86a1a"),s.request_id!==o)return t(N(s.request_id)),_r_();var i,n,a,r,_;s&&s.result===u.IDENTIFY_SHOPPER?(r=s.fingerprint_token,_=s.request_id,_i_("3bb:794b3b4b"),x("[SCA] Collecting fingerprint...",r),_r_(new l(function(t,i){_i_("3bb:a7597190"),c.loadScript().then(function(){_i_("3bb:e2eb0fa6"),c.getFingerprint(r).then(function(e){if(_i_("3bb:9e28c5d5"),_!==o)return i(N(_)),_r_();y("/sca/submit_fingerprint",{bpid:m.bp_id,request_id:o,fingerprint:e}).then(function(e){_i_("3bb:e88f91c0"),v(e).then(t).catch(i),_r_()}).catch(i),_r_()},i),_r_()},i),_r_()}))).then(e).catch(t):s&&s.result===u.CHALLENGE_SHOPPER?(n=s.challenge_token,a=s.request_id,_i_("3bb:29828bd9"),x("[SCA] Challenging customer...",n),_r_(new l(function(t,i){_i_("3bb:d0ea0d3b"),c.loadScript().then(function(){if(_i_("3bb:5c0c95bb"),a!==o)return i(N(a)),_r_();d.doUpdateChallenge({showChallenge:!0}),c.getChallenge(n,f.containerSelector,f.size).then(function(e){if(_i_("3bb:929d3862"),a!==o)return i(N(a)),_r_();d.doUpdateChallenge({showChallenge:!1}),y("/sca/submit_challenge",{bpid:m.bp_id,request_id:o,challenge:e}).then(function(e){_i_("3bb:6ec85338"),v(e).then(t).catch(i),_r_()}).catch(i),_r_()}).catch(i),_r_()}).catch(i),_r_()}))).then(e).catch(t):(i=s,_i_("3bb:b251c77b"),x("[SCA] finalising... ",i),_r_(new l(function(e,t){_i_("3bb:0cde086f"),d.doUpdateSCAResult({result:i}),d.doUpdateIsInProgress({isInProgress:i.result===u.AUTHENTICATED}),d.doUpdateChallenge({showChallenge:!1}),i.result===u.AUTHENTICATED?e(i):t(i),_r_()}))).then(e).catch(t),_r_()}))}function y(e,t){return _i_("3bb:a3190adc"),_r_(new l(function(n,a){_i_("3bb:5260eb42"),r.ajax({url:e,type:"POST",data:t,dataType:"json",success:function(e,t,i){_i_("3bb:f5a2b3e3"),n(e),_r_()},error:function(e,t,i){_i_("3bb:2a46c25e"),a(i),_r_()}}),_r_()}))}function C(e){return _i_("3bb:87e27f05"),_r_({property_id:m.property_id,customer_country:m.user_country,payment_method:e.paymentMethod,payment_type_id:e.paymentCCDetails.ccTypeId,cc_id:e.paymentCCDetails.ccId,cc_bin:w(e.paymentCCDetails.ccNumber),amount:E(e),currency:m.currency,pay_in_your_currency:m.pay_in_your_own_currency,product_subtype:m.product_subtype,test:0})}function w(e){return _i_("3bb:233444771"),e=k(e),_r_(5<e.length?e.substring(0,6):"")}function k(e){return _i_("3bb:5641e2621"),_r_(e?e.replace(/\s/g,""):"")}function E(e){return _i_("3bb:7473653a"),_r_(m.amount)}function N(e){return _i_("3bb:0262abcd"),_r_({ignore_result:1})}function x(e,t){if(_i_("3bb:de466993"),!n)return _r_();t?console.log(e,t):console.log(e),_r_()}i.exports={init:function(e){_i_("3bb:8377a852"),f.containerSelector=e.challengeContainer,f.size=e.challengeSize,d.subscribe(function(){_i_("3bb:83d1992c"),function(){_i_("3bb:6b06c737");var e=C(d.getMappedState()),t=e.payment_method!==a.payment_method||e.payment_type_id!==a.payment_type_id||e.cc_bin!==a.cc_bin||e.amount&&a.amount&&1<Math.abs(e.amount-a.amount);return t&&(a.payment_method=e.payment_method,a.payment_type_id=e.payment_type_id,a.cc_bin=e.cc_bin,a.amount=e.amount),_r_(t)}()&&M(!0).then(function(e){_i_("3bb:b289001d"),x("[SCA] is SCA result",e),_r_()}).catch(function(e){_i_("3bb:a14907e6"),x("[SCA] ignoring result for this card - we have isSCA result already: ",e),_r_()}),_r_()}),_r_()},isSCAScope:M,startSCA:function(){return _i_("3bb:f3833803"),_r_(new l(function(i,t){_i_("3bb:cdb260cc"),M().then(function(e){_i_("3bb:b3aea945");var t=d.getMappedState();x("[SCA] isSCA: ",t),"yes"===t.sca.isSCA?(d.doUpdateSCAResult({result:{}}),d.doUpdateIsInProgress({isInProgress:!0}),(_i_("3bb:6586e7bf"),x("[SCA] Authenticating...",(_i_("3bb:6d7d777b"),o=_r_("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){_i_("3bb:5c47bcda");var t=16*Math.random()|0;return _r_(("x"==e?t:3&t|8).toString(16))})))),_r_(new l(function(t,i){_i_("3bb:e4ed4366");var e=d.getMappedState(),n={accept_header:"application/json",redirect_url:"https://www.booking.com",request_id:o,product_subtype:m.product_subtype,origin_url:window.location.origin,user_agent:navigator.userAgent,screen_height:screen.height,screen_width:screen.width,color_depth:screen.colorDepth,java_enabled:navigator.javaEnabled&&navigator.javaEnabled(),language:navigator.language,time_zone_offset:(new Date).getTimezoneOffset(),payer_email:m.email,currency:m.currency,amount_major:E(),hotel_id:m.property_id,bpid:m.bp_id,billing_address_street:e.billingAddress.billing_address_street,billing_address_house_number_or_name:e.billingAddress.billing_address_house_number_or_name,billing_address_postal_code:e.billingAddress.billing_address_postal_code,billing_address_city:e.billingAddress.billing_address_city,billing_address_state_or_province:e.billingAddress.billing_address_state_or_province,billing_address_country:e.billingAddress.billing_address_country,stored_card_id:e.paymentCCDetails.ccId,cc_type_id:e.paymentCCDetails.ccTypeId,cc_name:e.paymentCCDetails.ccName,cc_number:k(e.paymentCCDetails.ccNumber),cc_expire:e.paymentCCDetails.ccYear+"-"+e.paymentCCDetails.ccMonth+"-01",force_challenge:m.force_challenge};m.billing_address_config&&m.billing_address_config.required&&!m.billing_address_config.require_house_number&&(n.billing_address_house_number_or_name="DUMMY"),e.paymentTiming&&(n.force_challenge=p.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE&&"later"===e.paymentTiming.type?1:m.force_challenge),p.fe_is_old_payment_component&&(n.force_challenge="update_cc"==B.env.fe_clicked_button?1:m.force_challenge),y("/sca/init_authentication",n).then(function(e){_i_("3bb:9a1457e6"),v(e).then(t).catch(i),_r_()}).catch(i),_r_()}))).then(function(e){_i_("3bb:cc3db06c"),x("[SCA] finished ",e),i({isSCA:t.sca.isSCA,result:e.result}),_r_()}).catch(function(e){_i_("3bb:4de9cdcd"),x("[SCA] error ",e),d.doUpdateIsInProgress({isInProgress:!1}),i({isSCA:t.sca.isSCA,result:e.result?e.result:e}),_r_()})):i({isSCA:t.sca.isSCA}),_r_()}).catch(function(e){_i_("3bb:40d1f2bc"),d.doUpdateIsInProgress({isInProgress:!1}),t(e),_r_()}),_r_()}))},cancel:function(){_i_("3bb:bdd38cc8"),x("[SCA] user cancelled SCA flow..."),o=null,d.doUpdateChallenge({showChallenge:!1}),d.doUpdateSCAResult({result:{result:u.CANCELLED}}),d.doUpdateIsInProgress({isInProgress:!1}),_r_()},constants:{IS_SCA:h,SCA_RESULTS:u}},_r_()}),B.define("payment/sca/sdk/wrapper",function(e,t,i){_i_("3bb:667590fa");var _,n=e("promise"),a=e("server-data"),r=e("async-loader"),s=a.b_param_test,o="scaFPContainer",l={X_SMALL:"01",SMALL:"02",MEDIUM:"03",LARGE:"04",FILL_CONTAINER:"05"};function c(e,t){if(_i_("3bb:de4669931"),!s)return _r_();t?console.log(e,t):console.log(e),_r_()}i.exports={loadScript:function(){return _i_("3bb:2d64d575"),_r_(new n(function(e,t){if(_i_("3bb:a709cdc3"),c("[SCA-SDK-WRAPPER] loading SDK..."),_)return c("[SCA-SDK-WRAPPER] SDK already exists, skipping..."),e(),_r_(_);r.load({js:"async_bp_adyen_sdk_js",css:{path:"async_bp_adyen_sdk_css",after:"main"}}).then(function(){_i_("3bb:819f4742"),c("[SCA-SDK-WRAPPER] SDK JS+CSS loaded! "),_=new AdyenCheckout,e(),_r_()}),_r_()}))},getFingerprint:function(a){return _i_("3bb:201445ad"),_r_(new n(function(i,n){_i_("3bb:79ed5e52"),c("[SCA-SDK-WRAPPER] getting fingerprint...");var e=document.getElementById(o);e&&e.parentElement.removeChild(e);var t=document.createElement("div");t.id=o,t.classList.add("u-hidden"),document.body.appendChild(t),_.create("threeDS2DeviceFingerprint",{fingerprintToken:a,onComplete:function(e){_i_("3bb:1c991508");var t=null;e.data&&e.data.details&&(t=e.data.details["threeds2.fingerprint"]),t?i(t):n("invalid_fingerprint_result_returned"),_r_()},onError:n}).mount("#"+o),_r_()}))},getChallenge:function(t,a,r){return _i_("3bb:92dcf9b8"),_r_(new n(function(i,n){_i_("3bb:2c73992b"),c("[SCA-SDK-WRAPPER] getting the challenge...",a);var e=l[r]||r;_.create("threeDS2Challenge",{challengeToken:t,onComplete:function(e){_i_("3bb:184a8e5b"),c("[SCA-SDK-WRAPPER] challenge completed...",e);var t=null;e.data&&e.data.details&&(t=e.data.details["threeds2.challengeResult"]),t?i(t):n("invalid_challenge_result_returned"),_r_()},onError:n,size:e}).mount(a),_r_()}))},SIZES:{X_SMALL:"X_SMALL",SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",FILL_CONTAINER:"FILL_CONTAINER"}},_r_()}),B.define("payment/sca/store/utils",function(e,t,i){_i_("3bb:46629373");var a,n,r=e("server-data"),_=e("report-error"),s=r.b_payment_methods,o={};s&&s.length&&s.forEach(function(e){_i_("3bb:ab852176"),o[e.value]=e.cc_type_id,_r_()});try{a=1==r.fe_is_mobile?e("component/booking-process/core/store"):e("bp/store"),n=1==r.fe_is_mobile?e("component/booking-process/core/payment-details/sca/actions"):e("component/bp/sca/actions")}catch(e){_("Error loading store: ",e)}r.fe_is_old_payment_component&&(a=e("payments/store"),n=e("payments/core/sca/actions")),i.exports={subscribe:function(e){_i_("3bb:351a739f"),a&&a.subscribe(e),_r_()},isLoaded:function(){return _i_("3bb:4facafa9"),_r_(!(!a||!n))},getMappedState:function(){if(_i_("3bb:5b276b99"),!a)return _r_();var e=a.getState(),t={};if(r.fe_is_old_payment_component)t.sca=e.sca,t.paymentMethod=e.components&&e.components.payment_methods&&e.components.payment_methods.selectedPaymentMethod&&e.components.payment_methods.selectedPaymentMethod.type,t.billingAddress=[],t.billingAddress.billing_address_street=e.components&&e.components.ba_street_address&&e.components.ba_street_address.value,t.billingAddress.billing_address_house_number_or_name=e.components&&e.components.ba_house_number&&e.components.ba_house_number.value,t.billingAddress.billing_address_postal_code=e.components&&e.components.ba_zip&&e.components.ba_zip.value,t.billingAddress.billing_address_city=e.components&&e.components.ba_city&&e.components.ba_city.value,t.billingAddress.billing_address_state_or_province=e.components&&e.components.ba_state&&e.components.ba_state.value,t.billingAddress.billing_address_country=e.components&&e.components.ba_country&&e.components.ba_country.value,t.paymentCCDetails={ccId:e.components&&e.components.saved_payment_methods&&e.components.saved_payment_methods.selectedPayment&&e.components.saved_payment_methods.selectedPayment.cc_id,ccNumber:e.components&&e.components.cc_number&&e.components.cc_number.value,ccType:e.components&&e.components.payment_methods&&e.components.payment_methods.selectedPaymentMethod&&e.components.payment_methods.selectedPaymentMethod.type,ccTypeId:e.components&&e.components.cc_number&&e.components.cc_number.possibleTypes&&e.components.cc_number.possibleTypes[0]&&e.components.cc_number.possibleTypes[0].payment_type_id,ccName:r.fe_payment_config&&r.fe_payment_config.payer_details&&r.fe_payment_config.payer_details.firstname+" "+r.fe_payment_config.payer_details.lastname,ccMonth:e.components&&e.components.cc_expiration&&e.components.cc_expiration.formattedMonth,ccYear:e.components&&e.components.cc_expiration&&e.components.cc_expiration.formattedYear&&"20"+e.components.cc_expiration.formattedYear,ccCVC:e.components&&e.components.cc_cvc&&e.components.cc_cvc.value};else if(1==r.fe_is_mobile){var i=e?e.paymentDetails:void 0,n=i?i.creditCardDetails:void 0;t.sca=i?i.sca:void 0,t.paymentTiming=i?i.paymentTiming:void 0,t.paymentMethod=i&&i.paymentMethod?i.paymentMethod.name:void 0,t.billingAddress=i?i.billingAddress:void 0,t.paymentCCDetails={ccId:n?n.cc_id:void 0,ccNumber:n?n.cc_number:void 0,ccType:n&&n.cc_type?n.cc_type.name:void 0,ccTypeId:n&&n.cc_type?n.cc_type.id:void 0,ccName:n?n.cc_name:void 0,ccMonth:n&&n.cc_expiry?n.cc_expiry.cc_month:void 0,ccYear:n&&n.cc_expiry?n.cc_expiry.cc_year:void 0,ccCVC:n?n.cc_cvc:void 0}}else t.sca=e.sca,t.paymentTiming=e.payment_timing,t.paymentMethod=e.payment_method&&e.payment_method.name,t.billingAddress=e.billing_address,t.paymentCCDetails={ccId:e.payment_cc_details&&e.payment_cc_details.cc_card_id,ccNumber:e.payment_cc_details&&e.payment_cc_details.cc_number,ccType:e.payment_cc_details&&e.payment_cc_details.cc_type,ccTypeId:e.payment_cc_details&&e.payment_cc_details.cc_type_id,ccName:e.payment_cc_details&&e.payment_cc_details.cc_name,ccMonth:e.payment_cc_details&&e.payment_cc_details.cc_month,ccYear:e.payment_cc_details&&e.payment_cc_details.cc_year,ccCVC:e.payment_cc_details&&e.payment_cc_details.cc_cvc};return _r_(t)},doUpdateIsSCA:function(e){if(_i_("3bb:34a20ea6"),a&&n)try{a.dispatch(n.doUpdateIsSCA(e))}catch(e){_("Error while updating isSCA in store:"+e,"SCA")}_r_()},doUpdateChallenge:function(e){if(_i_("3bb:5d29f47c"),a&&n)try{a.dispatch(n.doUpdateChallenge(e))}catch(e){_("Error while updating SCA Challenge in store:"+e,"SCA")}_r_()},doUpdateSCAResult:function(e){if(_i_("3bb:56b88cb2"),a&&n)try{a.dispatch(n.doUpdateSCAResult(e))}catch(e){_("Error while updating SCA Result in store:"+e,"SCA")}_r_()},doUpdateIsInProgress:function(e){if(_i_("3bb:5bacca86"),a&&n)try{a.dispatch(n.doUpdateIsInProgress(e))}catch(e){_("Error while updating SCA InProgress flag in store:"+e,"SCA")}_r_()},getStaticData:function(){return _i_("3bb:c2ef07d6"),r.fe_is_old_payment_component?_r_({do_sca:r.b_do_sca,do_sca_for_iin:r.b_do_sca_for_iin,force_challenge:Boolean(r.fe_enable_sca_flow)?1:0,bp_id:r.b_sid,email:r.fe_payment_config&&r.fe_payment_config.payer_details&&r.fe_payment_config.payer_details.email,user_country:r.ip_country,property_id:r.fe_payment_config&&r.fe_payment_config.product_data&&r.fe_payment_config.product_data.partner_id,currency:r.fe_payment_config&&r.fe_payment_config.product_data&&r.fe_payment_config.product_data.total_amount&&r.fe_payment_config.product_data.total_amount.currency,amount:r.fe_payment_config&&r.fe_payment_config.product_data&&r.fe_payment_config.product_data.total_amount&&r.fe_payment_config.product_data.total_amount.amount,pay_in_your_own_currency:r.b_payments_pay_in_selected_currency_inferred,product_subtype:r.fe_payment_config&&r.fe_payment_config.product_data&&r.fe_payment_config.product_data.sub_product}):_r_({do_sca:r.b_do_sca,do_sca_for_iin:r.b_do_sca_for_iin,force_challenge:Boolean(r.fe_enable_sca_flow)?1:0,bp_id:r.b_param_bpid,email:r.b_email,user_country:r.ip_country,property_id:r.b_hotel_id,currency:r.fe_amount_currency,amount:r.fe_chargeable_amount,pay_in_your_own_currency:r.b_payments_pay_in_selected_currency_inferred,billing_address_config:{required:r.b_require_billing_address,require_house_number:r.b_require_billing_address_house_number},product_subtype:"BS3"})}},_r_()}),B.define("component/sca/challenge",function(e,t,i){_i_("3bb:67959ee8");var n=e("component"),a=e("server-data"),r=e("payment/sca/store/utils"),_=e("payment/sca"),s=e("payment/sca/sdk/wrapper");i.exports=n.extend({init:function(){if(_i_("3bb:6a3e51f3"),a.b_action_name_is_tpi_book)return _r_();this.isOpen=!1,this.challengeContainer=this.el.dataset.challengeContainer||"#scaChallengeContainer",this.modalTriggerId=this.el.dataset.modalTriggerId,this.setupModal(),this.initSCA(),this.listenToStore(),_r_()},initSCA:function(){_i_("3bb:478a5056"),_.init({challengeContainer:this.challengeContainer,challengeSize:s.SIZES.LARGE}),_r_()},setupModal:function(){_i_("3bb:c6b17e3b");var e=document.getElementById(this.modalTriggerId);this.challengeModal=window.BUI.getInstance(e),this.challengeModal&&(this.challengeModal.props.onBeforeOpen=this.onModalOpen.bind(this),this.challengeModal.props.onAfterOpen=this.onModalOpened.bind(this),this.challengeModal.props.onAfterClose=this.onModalClosed.bind(this)),_r_()},onModalOpen:function(){_i_("3bb:887991e1"),this.isOpen=!0,_r_()},onModalOpened:function(){_i_("3bb:e3d48149"),$("#scaChallenge.bui-modal").css({width:"inherit"}).find(this.challengeModal.selectors.close).click(function(){_i_("3bb:ac886128"),_.cancel(),_r_()}),_r_()},onModalClosed:function(){_i_("3bb:fccc191f"),this.isOpen=!1,_r_()},listenToStore:function(){_i_("3bb:eb99876d"),r.subscribe(this.onStateChanged.bind(this)),_r_()},onStateChanged:function(){if(_i_("3bb:ab539734"),r&&r.isLoaded()&&this.challengeModal){var e=r.getMappedState();if(!e||!e.sca.isSCA)return _r_();if(this.toggleLoader(e.sca.isInProgress),!this.isOpen&&e.sca.isInProgress&&e.sca.showChallenge)return this.toggleLoader(!1),this.challengeModal.open(),_r_();this.challengeModal.close()}_r_()},toggleLoader:function(e){_i_("3bb:7bca137c"),e?this.el.classList.add("show-progress"):this.el.classList.remove("show-progress"),_r_()}}),_r_()}),B.define("component/payment/error-handling",function(e,t,i){_i_("3bb:2cb40973");var r,n=e("component"),_=e("server-data"),s=e("report-error"),o=e("events"),l=e("payment/sca");i.exports=n.extend({init:function(){if(_i_("3bb:42b0e7c2"),1!=_.fe_enable_sca_flow)return _r_();try{r=1==_.fe_is_mobile?e("component/booking-process/core/store"):e("bp/store")}catch(e){s("Error loading store: ",e)}var a=this;r.subscribe(function(){_i_("3bb:9acf2867");var e=r.getState(),t=e&&e.paymentDetails?e.paymentDetails:void 0,i=t?t.sca:void 0;1!=_.fe_is_mobile&&(i=e&&e.sca?e.sca:void 0);var n=i&&i.isSCA==l.constants.IS_SCA.YES&&i.isInProgress;if(!i||!n)return _r_();i.result&&(i.result.result==l.constants.SCA_RESULTS.CANCELLED||i.result.result==l.constants.SCA_RESULTS.REFUSED)&&(o.trigger("book:submit:loading-indicator-stop"),a.toggleSCAError(!0,i.result.result)),_r_()}),1!=_.fe_is_mobile&&this.focusOnFieldWithError(),_r_()},toggleSCAError:function(e,t){if(_i_("3bb:bdc609b5"),$("#top-validation-error").addClass("bui-u-hidden"),$(".bp-alert--container .bui-alert").addClass("bui-u-hidden"),e){var i="sca_error_challenge_failed_generic_title",n="sca_error_challenge_failed_generic_body";1!=_.fe_is_mobile&&(i="sca_error_challenge_failed_generic_title_long"),t===l.constants.SCA_RESULTS.CANCELLED&&(i="sca_error_challenge_cancelled_title",n="sca_error_challenge_cancelled_body",1!=_.fe_is_mobile&&(i="sca_error_challenge_cancelled_title_long")),this.showError($("#payment-sca-error .bui-alert"),i,n)}_r_()},showError:function(e,t,i){_i_("3bb:64973c2e"),t&&i&&(e.find(".bui-alert__title").text(B.jstmpl.translations(t)),e.find(".bui-alert__text").text(B.jstmpl.translations(i))),e.removeClass("bui-u-hidden"),$([document.documentElement,document.body]).animate({scrollTop:e.offset().top-10},1e3),_r_()},focusOnFieldWithError:function(){_i_("3bb:26dfb055");var r=$(".js-validation-error__link");if(!r.length)return _r_();r.on("click",function(e){_i_("3bb:bb610065");var t=r.attr("href"),i=$(".bp_form__field--error");if(i&&i.length){void 0!==t&&"#bs3_cc_form"===t&&(e.preventDefault(),e.stopPropagation());var n=$(i[0]).find("input[name]").not('[type="hidden"]').not('[type="checkbox"]').not('[type="radio"]');if(n&&n.length){var a=$(i[0]).find("label").offset();a&&a.top&&setTimeout(function(){_i_("3bb:25f7c419"),$(window).scrollTop(a.top),_r_()},0),n[0].focus()}}_r_()}),_r_()}}),_r_()}),B.when({action:"book",condition:!!$("[data-switch-label-on-change]").length}).run(function(){_i_("3bb:759d08ae");var e=B.require("events"),t=$("[data-switch-label-on-change]:first"),i=t.data("switch-label-on-change"),n=t.data("hpp-method-names"),a=t.find("[data-switch-target]"),r=$("[data-hide-on-hpp]"),_=t.data("label-on-hpp"),s=t.data("label-on-di");n=n.substring(0,n.length-1).split(","),e.on("accordion:afterOpen",function(e){if(_i_("3bb:d3e127b7"),e&&e.length){var t=e.find(i).val();-1<n.indexOf(t)?(r.css({display:"none"}),a.html(_)):(r.css({display:""}).removeClass("g-hidden"),a.html(s))}_r_()}),_r_()}),B.when({condition:B.env&&("book"===B.env.b_action&&3==B.env.b_stage||"payment"===B.env.b_action)}).run(function(){_i_("3bb:d6b6bb84");var n=B.require("ga-tracker"),a="Payment Method",r="Select";function _(e){_i_("3bb:a6dce312");var t=e.data("ga-method-type"),i=e.data("ga-method-value");t&&i&&n.trackEvent(a,r,t+" - "+i),_r_()}function e(e){_i_("3bb:835698cc");var t=e.target;if("cc_type"===t.name||"payment_option"===t.name||"pay_method"===t.name||"payment_method"===t.name){var i=$(t);if("INPUT"===t.tagName)i.prop("checked")&&_(i);else if("SELECT"===t.tagName){var n=i.find(":selected");n.length&&_(n)}}_r_()}var t=$("#paymentAccordion,#paymentBlock");t.length?t.on("change",e):$("[name=cc_type]").on("change",e),_r_()}),B.define("component/pay/tab",function(e,t,i){_i_("3bb:7b48e752");var _,n,a,r=e("component"),l=e("events"),s=e("server-data"),o=e("report-error"),c=e("jquery"),d={TOGGLE_CONTAINER:"[data-tab-toggles]",SELECTOR_CONTAINER:"[data-tab-selectors]",CURRENT_TOGGLE:".payment-method__toggle--is-selected",CURRENT_SELECTOR:".payment-method__selector--is-selected",DISABLE_IF_SELECTED:"[data-tab-toggle-disable-on]",DISABLE_IF_NOT_SELECTED:"[data-tab-toggle-disable-off]:not([data-tab-permanently-disabled=true])",TOGGLE_ITEM:"[data-tab-toggle]",SELECTOR_ITEM:"[data-tab-selector]",CONTENT_ITEM:"[data-tab-content]",TOGGLE_INPUT_ITEM:".payment-method__toggle__input",CURRENT_CONTENT:".payment-method__content--is-selected",PAY_NOW_REGULAR:".js-pay-now-regular",PAY_NOW_COMPANY:".js-pay-now-company"},b={TOGGLE_SELECTED:"payment-method__toggle--is-selected",SELECTOR_SELECTED:"payment-method__selector--is-selected",TOGGLE_DISABLED:"payment-method__toggle--is-disabled",TOGGLE_DISABLED_FUNCTIONAL:"payment-method__toggle--is-disabled-only-functional",TOGGLE_OVERLAY:"payment-method__toggle--show-overlay",CONTENT_SELECTED:"payment-method__content--is-selected",CONTENT_DISABLED:"payment-method__content--is-disabled",BUI_HIDE:"bui-u-hidden"};i.exports=r.extend({bindEvents:function(){_i_("3bb:6b4d06a0"),this.$toggleContainer.on("click",d.TOGGLE_ITEM,this.onToggleClicked.bind(this));var t=this;if(this.options.animatedToggle){var i=this.$el;this.$el.on(this.options.transitionEvent,".payment-method__item",function(){_i_("3bb:6967cef8");var e=c(this);e.find(d.CURRENT_CONTENT).length&&(i.removeClass(t.options.animationClass),t.options.calculateHeight&&e.css("height","auto")),_r_()})}_r_()},onToggleClicked:function(e){_i_("3bb:09fad683");var t=c(e.currentTarget),i=t.data("tab-toggle-for"),n=t.data("tab-toggle-id");if(l.trigger("pay:tab:beforeSelect",i,e),t.hasClass(b.TOGGLE_DISABLED)||t.hasClass(b.TOGGLE_SELECTED))return _r_();if(t.hasClass(b.TOGGLE_DISABLED_FUNCTIONAL))return _r_(!1);var a=this.$toggles.filter(d.CURRENT_TOGGLE),r=this.$contents.filter(d.CURRENT_CONTENT);if(!i)return _r_();var _=this.$contents.filter("#"+i);if(0===_.length)return _r_();if(this.options.animatedToggle&&this.$el.addClass(this.options.animationClass),this.deactivateTab(a,r,n),this.activateTab(t,_,n),0<this.$selectors.length){var s=this.$selectors.filter(d.CURRENT_SELECTOR),o=this.$selectors.filter("#payment_method__toggle__"+n);s.removeClass(b.SELECTOR_SELECTED),o.addClass(b.SELECTOR_SELECTED),o.find(d.TOGGLE_INPUT_ITEM).prop("checked",!0).trigger("change"),a.toggleClass("g-hidden"),t.toggleClass("g-hidden")}this.options.centerSelectedToggle&&(this.$toggleContainer[0].scrollLeft=t.position().left),this.updateCopy(i),l.trigger("pay:tab:select",i),l.trigger("pay:method:changed",n),this.handlePaymentMethodChange(n),_r_()},deactivateTab:function(e,t,i){if(_i_("3bb:ae194d7d"),e.removeClass(b.TOGGLE_SELECTED),t.removeClass(b.CONTENT_SELECTED),this.options.calculateHeight){var n=t.parent();n.height(n.height()).height(e.outerHeight())}t.find(d.DISABLE_IF_NOT_SELECTED).prop("disabled",!0),t.find(d.DISABLE_IF_SELECTED).prop("disabled",!1),_r_()},activateTab:function(e,t,i){(_i_("3bb:90de4723"),e.addClass(b.TOGGLE_SELECTED),t.addClass(b.CONTENT_SELECTED),s.fe_is_mobile&&1==s.fe_show_payment_timing&&_)&&("now"!==(_.getState()&&_.getState().paymentDetails&&_.getState().paymentDetails.paymentTiming?_.getState().paymentDetails.paymentTiming.type:"later")&&"creditcard"!==i?(t.find(".payment-method__allowed").addClass(b.BUI_HIDE),t.find(".payment-method__not-allowed").removeClass(b.BUI_HIDE)):(t.find(".payment-method__allowed").removeClass(b.BUI_HIDE),t.find(".payment-method__not-allowed").addClass(b.BUI_HIDE)));e.find(d.TOGGLE_INPUT_ITEM).prop("checked",!0).trigger("change"),t.find(d.DISABLE_IF_NOT_SELECTED).prop("disabled",!1),t.find(d.DISABLE_IF_SELECTED).prop("disabled",!0),l.trigger("accordion:afterOpen",t),this.options.animatedToggle&&t.parent().height(e.outerHeight()+t.outerHeight()),_r_()},initializeAnimation:function(){_i_("3bb:0c806305");var e=function(){var e;_i_("3bb:7c68ec2c");var t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return _r_(i[e]);_r_()}();e?(this.options.calculateHeight&&this.$contents.each(function(){_i_("3bb:f165895f");var e=c(this).parent();e.height(e.height()),_r_()}),this.$el.addClass(this.options.animationClass),this.options.transitionEvent=e):this.options.animatedToggle=!1,_r_()},setupElements:function(){_i_("3bb:1c6ac341"),this.$toggleContainer=this.$el.find(d.TOGGLE_CONTAINER),this.$contents=this.$el.find(d.CONTENT_ITEM),this.$toggles=this.$toggleContainer.find(d.TOGGLE_ITEM),this.$selectorDropdown=this.$el.find('.bui-dropdown__payments[data-bui-component="Dropdown"]'),this.$selectorContainer=this.$el.find(d.SELECTOR_CONTAINER),this.$selectors=this.$selectorContainer.find(d.SELECTOR_ITEM),this.options={centerSelectedToggle:this.$el.attr("data-tab-center-selected-toggle"),animatedToggle:this.$el.attr("data-tab-animated"),calculateHeight:this.$el.attr("data-tab-calculate-height"),animationClass:this.$el.attr("data-tab-animation-classname")||"payment-method--animated"},this.options.animatedToggle&&this.initializeAnimation(),_r_()},updateStatus:function(e,t){var i,n;(_i_("3bb:256d1522"),"disabled"===e&&t&&t.id)&&(i=Array.isArray(t.id)?t.id.map(function(e){return _i_("3bb:229cc70c"),_r_('[data-tab-toggle-id="'+e+'"]')}).join(","):'[data-tab-toggle-id="'+t.id+'"]',n=this.$toggles.filter(i),t.hide&&(this.$selectorDropdown.removeClass(b.BUI_HIDE),n.removeClass(b.BUI_HIDE),t.disabled&&(n.addClass(b.BUI_HIDE),n.length==this.$toggles.length-1&&this.$selectorDropdown.addClass(b.BUI_HIDE))),t.disabled?(n.addClass(b.TOGGLE_DISABLED).find("input").prop("disabled",!0),t.showOverlay&&n.addClass(b.TOGGLE_OVERLAY)):(n.removeClass(b.TOGGLE_DISABLED).find("input").prop("disabled",!1),t.hideOverlay&&n.removeClass(b.TOGGLE_OVERLAY)));_r_()},init:function(){if(_i_("3bb:053174ee"),!s.b_action_name_is_tpi_book)try{_=s.fe_is_mobile?e("component/booking-process/core/store"):e("bp/store"),n=s.fe_is_mobile?e("component/booking-process/core/payment-details/payment-method/actions"):e("component/bp/payment-method/actions"),a=s.fe_is_mobile?e("component/booking-process/core/payment-details/payment-timing/actions"):e("component/bp/payment-timing/actions")}catch(e){o("Error loading store: ",e)}this.setupElements(),this.bindEvents(),this.updateCopy(),1==s.fe_show_payment_timing_non_ref&&this.updateToggles(),this.$el.data("$component",{update:this.updateStatus.bind(this)}),_r_()},updateToggles:function(){_i_("3bb:f733575e");var e=_&&_.getState()&&_.getState().payment_timing?_.getState().payment_timing.type:s.fe_payment_timing_selected,t=_&&_.getState()&&_.getState().payment_method?_.getState().payment_method.type:s.fe_payment_method_selected,i=this.$toggles.not('[data-tab-toggle-for^="payment_method__content__creditcard"],[data-tab-toggle-for^="payment_method__content__company"],[data-tab-toggle-for^="payment_method__content__nocc"]'),n="now"!=e,a=[];if(i&&0<i.length){i.each(function(){_i_("3bb:abbaa64e"),a.push(this.getAttribute("data-tab-toggle-id")),_r_()});var r={id:a,disabled:n,showOverlay:n,hideOverlay:!n};this.updateStatus("disabled",r)}t&&(c('input[name="payment_method"]').prop("checked",!1),c('input[name="payment_method"][value="'+t+'"]').prop("checked",!0),this.$contents=this.$el.find(d.CONTENT_ITEM),this.$contents.prop("disabled",!0),this.$contents.filter("#payment_method__content__"+t).prop("disabled",!1)),_r_()},disableCurrentTab:function(){_i_("3bb:7b4615bd");var e=this.$contents.filter(d.CURRENT_CONTENT);e.find(d.DISABLE_IF_NOT_SELECTED).prop("disabled",!0),e.find(d.DISABLE_IF_SELECTED).prop("disabled",!1),_r_()},enableCurrentTab:function(){_i_("3bb:c7098501");var e=this.$contents.filter(d.CURRENT_CONTENT);e.find(d.DISABLE_IF_NOT_SELECTED).prop("disabled",!1),e.find(d.DISABLE_IF_SELECTED).prop("disabled",!0),_r_()},updateCopy:function(e){_i_("3bb:e706bab2"),"payment_method__content__company"===e||!e&&"company"===s.fe_payment_method_selected?(c(d.PAY_NOW_COMPANY).removeClass(b.BUI_HIDE),c(d.PAY_NOW_REGULAR).addClass(b.BUI_HIDE)):(c(d.PAY_NOW_COMPANY).addClass(b.BUI_HIDE),c(d.PAY_NOW_REGULAR).removeClass(b.BUI_HIDE)),_r_()},handlePaymentMethodChange:function(e){if(_i_("3bb:6de79c20"),_)try{_.dispatch(n.doUpdatePaymentMethod({name:e})),1==s.fe_show_payment_timing||1==s.fe_show_payment_timing_non_ref||1==s.FE_PBB__FORCE_PAY_NOW_AS_ONLY_OPTION||this.updatePaymentTiming(e)}catch(e){o("Error while updating payment method: ",e)}_r_()},updatePaymentTiming:function(e){_i_("3bb:6900ea6c");try{var t,i=s.fe_is_mobile?_.getState().paymentDetails.paymentTiming:_.getState().payment_timing,n=i.type;if("creditcard"!==e&&"company"!==e&&"nocc"!==e)n="now";else n="later",t=c('input[name="hybrid_pay_now"][value="pay-now"]'),1==s.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE&&(t=c('input[name="pay_now"]')),t&&0<t.length&&(n=t[0].checked?"now":"later");n!==i.type&&_.dispatch(a.doUpdatePaymentTiming({type:n}))}catch(e){o("Error while updating payment timing: ",e)}_r_()}}),i.exports.SELECTORS=d,i.exports.CLASSES=b,_r_()}),B.define("component/bp/bp3/loader",function(e,t,i){_i_("3bb:1ac89386");var n=e("component"),_=e("et"),s=B.require("bp/env"),a={autoStart:!1,step:15,firstStep:20,stepWait:100,maximum:98,finishDuration:200};function r(e){_i_("3bb:9a61dbd7"),this.options=$.extend({},a,e),this.$el=$(".loader_background"),this.$bar=this.$el.children().eq(0),this.$text=$(".text-change"),this._now=0,this.options.autoStart&&this.start(),_r_()}r.prototype.start=r.prototype._progress=function(n){_i_("3bb:291402a4");var a=this,r=this.options;if(n&&a.setTo(n),a._now>=r.maximum)return _r_();var e=n?Math.max(500,2*Math.random()*r.stepWait):0;a._t=setTimeout(function(){_i_("3bb:43c22d6c");var e,t,i=n?r.step:r.firstStep;e=.4*i,t=1.3*i,_i_("3bb:49868156"),i=_r_(Math.random()*(t-e)+e),60<a._now&&(i=Math.sqrt(i*(100-a._now)/100)),a._progress(a._now+i),_r_()},e),_r_()},r.prototype.setTo=function(e){_i_("3bb:3ed0345c"),this._now=e,this.$bar.css({width:e+"%"}),_.track("MKMBNRYFdCLFJYbdDC")||(80<e?(this.$text.eq(0).hide(),this.$text.eq(1).hide(),this.$text.eq(2).show()):60<e?(this.$text.eq(0).hide(),this.$text.eq(1).show()):10<e&&(this.$text.eq(0).show(),this.$text.eq(1).hide(),this.$text.eq(2).hide())),_r_()},r.prototype.finish=function(e){_i_("3bb:610044ea"),this._t&&clearTimeout(this._t),this.$bar.css({width:"100%",transitionTimingFunction:"ease-out",transitionDuration:this.options.finishDuration+"ms"}),this.$bar.width("100%"),e&&setTimeout(e,this.options.finishDuration),_r_()},i.exports=n.extend({init:function(){_i_("3bb:d7589353"),$(".china_bp3_loader").length&&(this._progress=new r),this.$el.on("submit",this._onFormSubmit.bind(this)),_r_()},_onFormSubmit:function(e){if(_i_("3bb:acb35fed"),!$(".bp_form__field--error").length){var r=this;setTimeout(function(){if(_i_("3bb:05d441b5"),!$(".modal_mask").length){var i;if($('[name="payment_method"]').each(function(e,t){_i_("3bb:1b37ee8f"),i=t.checked?t.value:i,_r_()}),"cup_hpp"!==i&&"alipay"!==i||B.et.stage("MKMBNRYFdCLFJYbdDC",1),"cup_hpp"!==i&&"alipay"!==i||!_.track("MKMBNRYFdCLFJYbdDC")){var e=$(".redirecting_to_payment_page"),t=$(".confirming_booking");"cup_hpp"===i||"alipay"===i?(e.removeClass("g-hidden"),t.addClass("g-hidden")):(e.addClass("g-hidden"),t.removeClass("g-hidden"))}else{var n=$(".js-china_payment_redirect_copy"),a=function(t){_i_("3bb:b527eb97");var e=s.get("payment_methods")||[];return _r_(e.filter(function(e){return _i_("3bb:4bb14433"),_r_(e.abbr===t)}))}(i)[0].name_trans;n.html(B.jstmpl.translations("bp_china_oneline_payment_redirecting_copy",null,{online_payment_method:a})),n.show()}r._progress&&(booking.lightbox.show(".china_bp3_loader",{bCloseButton:!1,opacity:.8,customWrapperClassName:"china_bp3_loader--lightbox_wrapper",customMaskClassName:"china_bp3_loader--lightbox_mask",hideCallBack:function(){_i_("3bb:99bd6a75"),r._progress.setTo(0),_r_()}}),r._progress.start())}_r_()},300)}_r_()}}),_r_()}),B.define("component/pay/payment_tab_content/wechat_pay",function(e,t,i){"use strict";_i_("3bb:ca827b84");var a,r,n,_=e("component"),s=e("jquery"),o=e("component/qrcode/qrcodelib").QRCode,l=e("events"),c=e("et"),d=s("#bookForm"),b=s(".bp-overview-buttons-submit"),p=s(".bp_overview_submit"),u="",h=s(".wptc__already_existed_operation_reference").length?s(".wptc__already_existed_operation_reference").val():"",f=36e5,m=s(".wptc__qrcode_countdown"),g=s(".wptc__qrcode_countdown__counting__remaining_time_min"),M=s(".wptc__qrcode_countdown__counting__remaining_time_sec"),v=s(".wptc__qrcode_countdown__counting"),y=s(".wptc__qrcode_countdown__expired"),C=s(".wptc__qrcode_countdown__expired__refresh_link"),w=0,k=0,E=e("booking-process/validation/validate").validate,N=e("bp/store"),x=s(".wptc__before_paying__validating"),S=s(".wptc__before_paying__validate_failed"),T=s(".wptc__before_paying__validate_failed__retry"),D=s(".wptc__before_paying"),A=!1,j=s(".wptc__qrcode__success_overlay"),I=s(".wptc__success_message"),F={payer:{email:B.env.b_wechat_payment_data.b_email,firstname:B.env.b_wechat_payment_data.b_firstname,lastname:B.env.b_wechat_payment_data.b_lastname,product_user_id:B.env.b_wechat_payment_data.b_reg_user_id?B.env.b_wechat_payment_data.b_reg_user_id:void 0},instrument:{payment_method_name:"wxpay"},product:{product_code:"BMP",partner_id:B.env.b_hotel_id,delivery_date:B.env.b_wechat_payment_data.b_checkin_date_ymd,usage_duration:B.env.b_wechat_payment_data.b_interval,items_count:1,sale_policy:"NR",description:(B.env.b_companyname+" - "+B.env.b_wechat_payment_data.b_hotel_name).substring(0,128),full_price:{currency:B.env.b_wechat_payment_data.b_total_price_currency,value_decimal_major_units:B.env.b_wechat_payment_data.b_total_price}},amount:{currency:B.env.b_wechat_payment_data.b_total_price_currency,value_decimal_major_units:B.env.b_wechat_payment_data.b_total_price,product_amount:B.env.b_wechat_payment_data.product_amount,product_currency:B.env.b_wechat_payment_data.product_currency},signature:B.env.b_sid,book_details:{}},P=!1,$=2e3,O=4e3,L=6e3,J=!1,R="GfBQDAMeUCXJYSGHAEUZSTTAIaO",U=!1;i.exports=_.extend({generateQrCodeImg:function(){if(_i_("3bb:dcb6ec6f"),J)return _r_();var i=this;i.resetQRCodeExpirationCountdown(),i.startQRCodeExpirationCountdown();var e=B.env.bwallet_campaign_discounts;e&&(F.discounts={bwallet_campaign_discounts:e}),F.book_details=s("#bookForm").serializeArray().reduce(function(e,t){return _i_("3bb:b8f4f80e"),e[t.name]=t.value,_r_(e)},{}),J=!0,s.ajax({method:"POST",data:JSON.stringify(F),url:"payment/wallet/initialize",success:function(e){_i_("3bb:92751bab"),J=!1,u=e.operation_reference,new o(s(".wptc__qrcode")[0],{text:e.remote_action_url,width:160,height:160,colorDark:"#000000",colorLight:"#ffffff",correctLevel:o.CorrectLevel.H}),A=!0;var t=e.alt_payment_remaining_amount_pretty||B.env.b_alt_payment_user_amount_pretty||"";s("#wx_amount_pretty").text(t),i.startCheckingPaymentStatus(),_r_()},error:function(){_i_("3bb:df45eb2a"),J=A=!1,_r_()}}),_r_()},checkPaymentStatus:function(){_i_("3bb:1e85c626");var t=this;if(!u)return _r_();if(r<=0)return _r_();w++,s.ajax({url:"payment/wallet/check?operation_reference="+u+"&signature="+B.env.b_sid+(w%10==0?"&extended_check=1":""),success:function(e){if(_i_("3bb:17b46d10"),"PENDING"===e.payment_result);else if("ERROR"===e.payment_result||"REFUSED"===e.payment_result);else if("AUTHORISED"===e.payment_result)return t.stopCheckingPaymentStatus(),j.removeClass("bui-u-hidden"),I.removeClass("bui-u-hidden"),m.addClass("bui-u-hidden"),d.prepend('<input type="hidden" name="merchantReference" value="'+e.operation_reference+'"/>'),t.enableSubmitButton(),b.trigger("click"),_r_();t.startCheckingPaymentStatus(),_r_()},error:function(){_i_("3bb:31b3dc02"),k++,t.startCheckingPaymentStatus(),_r_()},cache:!1}),_r_()},startCheckingPaymentStatus:function(){_i_("3bb:c3de5793");var e,t=this;if(t.stopCheckingPaymentStatus(),!P)return _r_();if(100<=k)return _r_();switch((f-r)/6e5|0){case 0:e=$;break;case 1:e=O;break;default:e=L}n=setTimeout(function(){_i_("3bb:25f4d9ca"),t.checkPaymentStatus(),_r_()},e),_r_()},stopCheckingPaymentStatus:function(){_i_("3bb:fa6c955b"),clearTimeout(n),_r_()},startQRCodeExpirationCountdown:function(){var e,t;_i_("3bb:1e7826a0");var i="",n="";r=f,a=setInterval(function(){_i_("3bb:e812dd72"),r-=1e3,e=Math.floor(r/6e4),t=r%6e4/1e3,i=0!==e?B.jstmpl.translations("bp_china_payment_qr_countdown_min",e,{num_min:e}):"",n=0!==t?B.jstmpl.translations("bp_china_payment_qr_countdown_sec",t,{num_sec:t}):"",0===e&&0===t?(clearInterval(a),v.addClass("bui-u-hidden"),y.removeClass("bui-u-hidden"),s(".wptc__qrcode__expiry_overlay").removeClass("bui-u-hidden"),c.stage("MKMBNLOLOLOMXRFZcaT",9),U=!0,P&&c.stage(R,2)):(g.text(i),M.text(n)),_r_()},1e3),_r_()},resetQRCodeExpirationCountdown:function(){_i_("3bb:a8660918"),clearInterval(a),v.removeClass("bui-u-hidden"),y.addClass("bui-u-hidden"),_r_()},validateBookerDetailsForm:function(){_i_("3bb:3026b9e0");var t=this,e=d.find(".js-booker-details--billing-address [name]").filter('[name="phone"],[name="address1"],[name="cc1"]'),i=[];e.each(function(){_i_("3bb:07e16b1c"),i.push({name:s(this).attr("name"),value:s(this).val()}),_r_()}),t.showValidationMessagesContainer(),t.showValidatingMessage(),t.hideValidationFailureMessage(),E(i).then(function(e){_i_("3bb:0193ede1"),N.dispatch({type:"UPDATE_VALIDATION_FIELDS",payload:e.results}),"true"===e.results.valid||!0===e.results.valid?(t.hideValidationMessagesContainer(),A?t.startCheckingPaymentStatus():t.generateQrCodeImg()):(t.hideValidatingMessage(),t.showValidationFailureMessage()),_r_()}),_r_()},showValidatingMessage:function(){_i_("3bb:49929912"),x.removeClass("bui-u-hidden"),_r_()},hideValidatingMessage:function(){_i_("3bb:d8abb914"),x.addClass("bui-u-hidden"),_r_()},showValidationFailureMessage:function(){_i_("3bb:b6c1e1a3"),S.removeClass("bui-u-hidden"),_r_()},hideValidationFailureMessage:function(){_i_("3bb:8ce75025"),S.addClass("bui-u-hidden"),_r_()},showValidationMessagesContainer:function(){_i_("3bb:85156416"),D.removeClass("bui-u-hidden"),_r_()},hideValidationMessagesContainer:function(){_i_("3bb:b341e263"),D.addClass("bui-u-hidden"),_r_()},disableSubmitButton:function(){_i_("3bb:f9eaf682"),b.attr("disabled","disabled").addClass("disabled_for_wechat_pay"),p.addClass("bui-u-hidden"),_r_()},enableSubmitButton:function(){_i_("3bb:4198c5b2"),b.removeAttr("disabled").removeClass("disabled_for_wechat_pay"),p.removeClass("bui-u-hidden"),_r_()},activateWeChatPayContent:function(e){_i_("3bb:2cacdff7"),"payment_method__content__wxpay"===e?(c.stage(R,1)&&c.track(R)&&(f=708e4),this.disableSubmitButton(),this.validateBookerDetailsForm(),P=!0,U&&c.stage(R,2)):(this.enableSubmitButton(),this.stopCheckingPaymentStatus(),P=!1),_r_()},visibilityChangeHandle:function(){_i_("3bb:d448cf2d");"hidden"===document.visibilityState||document.hidden?this.stopCheckingPaymentStatus():this.startCheckingPaymentStatus(),_r_()},init:function(){_i_("3bb:dee149ec");var t=this;h&&2===s('input[name="stage"]')&&(u=h,t.startCheckingPaymentStatus()),document.addEventListener("visibilitychange",t.visibilityChangeHandle.bind(t)),l.on("wallet::payment::changed",function(e){_i_("3bb:e444575a"),t.enableSubmitButton(),t.stopCheckingPaymentStatus(),P=!1,s('input[name="wallet_payment_method"]')&&0==s('input[name="wallet_payment_method"]').val()&&s("#payment_method__toggle__wxpay")&&s("#payment_method__toggle__wxpay").find('input[name="payment_method"]')&&s("#payment_method__toggle__wxpay").find('input[name="payment_method"]').is(":checked")&&t.activateWeChatPayContent("payment_method__content__wxpay"),_r_()}),l.on("pay:tab:select",function(e){_i_("3bb:3198a3b2"),t.activateWeChatPayContent(e),_r_()}),T.on("click",function(){_i_("3bb:13d40a37"),t.validateBookerDetailsForm(),_r_()}),C.on("click",function(){_i_("3bb:4ae1a467"),setTimeout(function(){_i_("3bb:027892b6"),location.reload(),_r_()},300),_r_()}),_r_()}}),_r_()}),B.when({events:"ready"}).run(function(e){_i_("3bb:f31ecbf3");var t=e("jquery");t(".rc-policy-open").on("click",function(e){_i_("3bb:ebb3597e"),e.preventDefault(),t(this).parents("div.rt_resort_credits_info--policy").find(".rt_resort_credits_info--policy-details").stop(!0,!0).slideToggle("fast"),_r_()}),_r_()}),B.when({events:"bp:leaving_users_keeper:open"}).run(function(){_i_("3bb:27ef41d3"),B.et.stage("ZOEOADNBZKNFYZRAHNFaYJWcSXYRZOJKHRRKe",1),_r_()}),function(){_i_("3bb:06acdd32");var e=B.require("jquery");B.require("server-data").isImprovedDesktopUI?e(".room_policies_tooltip_icon").one("mouseenter",function(){_i_("3bb:9adc5b23"),B.et.goal("bp_room_conditions_tooltip_viewed"),_r_()}):e(".guests").one("mouseenter",".room_policies_tooltip_icon",function(){_i_("3bb:9adc5b231"),B.et.goal("bp_room_conditions_tooltip_viewed"),_r_()}),_r_()}(),B.define("component/onview-animate",function(e,t,i){_i_("3bb:a9c045a2");var o,n=e("component");o=B.tools&&B.tools.dom&&"function"==typeof B.tools.dom.watchIfBlockVisibleInViewport?B.tools.dom.watchIfBlockVisibleInViewport:e("core/utils/onview").run;var a=n.extend({init:function(){_i_("3bb:f2ef5786");var i=this.$el,n=i.attr("data-anim-type")||"",a=i.attr("data-onview-cls")||"",r=i.attr("data-onview-cls-remove")||"",_=i.attr("data-rollup-time")||1500;function s(e){_i_("3bb:078808c1");var t=e&&e.type;switch(n){case"rollover":setTimeout(function(){_i_("3bb:e5b3a704"),i.addClass("rollover-anim"),setTimeout(function(){_i_("3bb:377e5cdf"),i.removeClass("rollover-anim"),_r_()},_),_r_()},"string"==typeof t?10:(_i_("3bb:7e1a7fc5"),_r_(Math.floor(400*Math.random()+300)+500)));break;default:setTimeout(function(){_i_("3bb:46409f5e"),r.length&&i.removeClass(r),i.addClass(n).addClass(a).trigger("complete.anim"),_r_()},Math.floor(250*Math.random())+500)}_r_()}(i.attr("data-anim-trigger")||"onview").trim().split(/\s+/).forEach(function(e){_i_("3bb:13420ab3"),function(e){switch(_i_("3bb:2a8b3b37"),e){case"mouseenter":var t;"rollover"==n?(i.on("mouseenter",function(){_i_("3bb:d605800b"),clearTimeout(t),t=setTimeout(function(){_i_("3bb:7b3c01c8"),i.addClass("rollover-anim"),_r_()},100),_r_()}),i.on("mouseleave",function(){_i_("3bb:a16cbdb7"),clearTimeout(t),t=setTimeout(function(){_i_("3bb:377e5cdf1"),i.removeClass("rollover-anim"),_r_()},100),_r_()})):i.on("mouseenter",s);break;case"manual":i.on("anim.onview",s);break;case"click":i.on("click",s);break;case"onview":default:o(i,s)}_r_()}(e.trim()),_r_()}),_r_()}});i.exports=a,_r_()}),B.require(["jquery","et"],function(e,t){_i_("3bb:38880a9b"),e("#bookconditions").on("click",function(){_i_("3bb:9ce3e06e"),t.customGoal("ZOISdGHBXReEIQDdHXSHFdBaFGKQYT",1),_r_()}),_r_()}),B.define("component/pay/cc-detection",function(e,t,i){_i_("3bb:34eac11c");var n="bui-u-hidden",a="pay--persistent",r="#cc_type",_=".js__pay-cc-detection__wrapper",s='input[type="radio"]',o=".js__pay-cc-detection__content",l=".js__pay-cc-detection--trigger",c=B.require("component");i.exports=c.extend({responseHandler:function(e,t){_i_("3bb:02789ad6"),1===e.is_valid?this.setAll(e.type_name):this.resetAll(),_r_()},invalidInputHandler:function(){_i_("3bb:00b60a40"),this.resetAll(),_r_()},setAll:function(e){return _i_("3bb:e1031c10"),this.isCCAccepted(e)?this.setWrapperClass(e).updateSelectValue(e):this.resetWrapperClass().updateSelectValue().showCCNotAccepted(),_r_(this)},resetAll:function(){return _i_("3bb:4f453095"),this.resetWrapperClass().updateSelectValue(),_r_(this)},setWrapperClass:function(e){return _i_("3bb:3473f417"),e&&this.$ccInputWrapper.attr("data-card-name",e),this.$ccDetectContainer.hasClass(a)&&this.$ccDetectContainer.removeClass(a),_r_(this)},resetWrapperClass:function(){return _i_("3bb:61f5c145"),this.$ccInputWrapper.attr("data-card-name",""),_r_(this)},toggleRadioList:function(e){return _i_("3bb:5da8044e"),this.$ccDetectContainer.toggleClass(n,e),_r_(this)},onRadioChange:function(e){return _i_("3bb:168d911f"),this.toggleRadioList(!0).updateSelectValue(e,!0).setWrapperClass(e),this.$ccDetectContainer.hasClass(a)&&this.$ccDetectContainer.removeClass(a),_r_(this)},getElemByDataName:function(e,t){return _i_("3bb:c1b15ba2"),_r_(e.filter('[data-card-name="'+t+'"]'))},updateSelectValue:function(e,t){_i_("3bb:6c515fc2");var i=this.getElemByDataName(this.$cardDropdownOptions,e),n=i.length&&i.val(),a=this.$cardDropdown.find("option:first");return n?(this.$cardDropdown.val(n).change(),this.cctypeField.makeValid(),this.cctypeField.makeNeutral(),t||this.$ccRadios.filter('[data-card-name="'+e+'"]').prop("checked",!0)):(this.$cardDropdown.val(a.val()).change(),this.$ccRadios.filter(":checked").prop("checked",!1)),_r_(this)},showCCNotAccepted:function(){return _i_("3bb:147e959f"),this.ccNumberField.makeInvalid(B.jstmpl.translations("pay_bs3_predicted_cc_type_dont_accept_no_alternative")),_r_(this)},isCCAccepted:function(e){return _i_("3bb:c68d5e61"),_r_(!!this.getElemByDataName(this.$cardDropdownOptions,e).length)},bindEvents:function(){_i_("3bb:9bbc767d");var t=this;t.$ccDetectTrigger.on("click",function(e){_i_("3bb:b1640539"),e.preventDefault(),e.stopPropagation(),t.trigger("cc-detection:ccRadioList:open"),t.toggleRadioList.call(t,!1),_r_()}),t.$document.on("click",function(e){_i_("3bb:2b61e0bc"),t.toggleRadioList.call(t,!0),_r_()}),t.$ccRadios.on("click",function(e){_i_("3bb:18bd592b"),e.stopPropagation(),t.onRadioChange.call(t,$(this).data("card-name")),_r_()}),t.$ccInputWrapper.on("focus","input#cc_number",function(){_i_("3bb:90ccf7ea"),t.$ccInputWrapper.addClass("focus"),_r_()}).on("blur","input#cc_number",function(){_i_("3bb:38cc5ba1"),t.$ccInputWrapper.removeClass("focus"),_r_()}),$(this.bpModel).bind(this.bpValidationEvent,function(e){_i_("3bb:8fbbca1b"),e&&e.fullValidationData&&"cc_number"===e.fieldName&&t.responseController.call(t,e.fullValidationData),_r_()}),_r_()},responseController:function(e){_i_("3bb:75490496");var t={is_valid:"true"===e.valid?1:0,type_name:e.type};this.trigger("cc-detection:request:complete"),t.is_valid?(this.responseHandler(t),this.trigger("cc-detection:response:valid")):(this.invalidInputHandler(),this.trigger("cc-detection:response:invalid")),_r_()},setAPIOptions:function(){_i_("3bb:ef08a5a5"),B.require("event-emitter").extend(this),this.$document=$(document),this.$cardDropdown=$(r),this.$cardDropdownOptions=this.$cardDropdown.find("option"),this.$ccDetectTrigger=$(l),this.$ccDetectContainer=$(o),this.$ccInputWrapper=$(_),this.$ccRadios=this.$ccInputWrapper.find(s),this.bpModel=B.bp.Main.getModel(),this.ccNumberField=this.bpModel.fieldViews_.cc_number,this.cctypeField=this.bpModel.fieldViews_.cc_type,this.bpValidationEvent=B.bp.AbstractModel.EventType.FIELD_VALIDATION,this.bindEvents(),_r_()},init:function(){_i_("3bb:32ca2c41"),this.setAPIOptions(),_r_()}}),_r_()}),B.define("component/tooltip-loc",function(e,t,i){"use strict";_i_("3bb:0e7aa0e2");var n=e("component"),_=e("jquery");i.exports=n.extend({DEFAULTS:{template:'<div class="component-tooltip off" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',placement:"top",alignment:"center",trigger:"hover focus",animation:"true"},init:function(){_i_("3bb:4b79859f"),this._buildOptions(),this._createTooltip(),this._attachEvents(),this.$el.trigger("ready.B.tooltip",[this.$tip]),_r_()},_buildOptions:function(){_i_("3bb:2003d6d2"),this.options=_.extend({},this.DEFAULTS,this.$el.data()),this.options.intangible="intangible"in this.options,this.options.target&&(this.options.target=_(this.options.target).first()),this.options.content||(this.options.content=this.options.title||this.el.title),_r_()},_createTooltip:function(){_i_("3bb:f0d24a5f");var e="tooltip-"+this.options.placement+" tooltip-align-"+this.options.alignment;this.options.extraClass&&(e=e+" "+this.options.extraClass),"true"===this.options.animation&&(e+=" tooltip-animate"),this.$tip=_(this.options.template),this.$tip.addClass(e),this._attachContent(),this.$tip.appendTo(_("body")),this.$el.trigger("inserted.B.tooltip",[this.$tip]),_r_()},_attachContent:function(){_i_("3bb:edb36e3b");var e=this.$tip.find(".tooltip-inner");this.options.target?e.append(this.options.target.clone()):(this.options.target=[],e.text(this.options.content)),_r_()},_positionTooltip:function(){_i_("3bb:55a3c39d"),this._defineAlignmentVars(),this._placeTooltip(),this._alignTooltip(),this.$tip.css({left:this.left,top:this.top,right:"auto"}),_r_()},_defineAlignmentVars:function(){_i_("3bb:ba6d432e"),this.elOffset=this.$el.offset(),this.position="left",this.dimension="outerWidth",this.options.placement.match(/top|bottom/)&&(this.position="top",this.dimension="outerHeight"),_r_()},_accountForRTL:function(e){if(_i_("3bb:3680d328"),!B.env.rtl)return _r_(e);if("left"===e)return _r_("right");if("right"===e)return _r_("left");return _r_(e)},_placeTooltip:function(){_i_("3bb:eefd1cb5");var e=this._accountForRTL(this.position),t=this.dimension;this._accountForRTL(this.options.placement)===e?this[e]=this.elOffset[e]-this.$tip[t]():this[e]=this.elOffset[e]+this.$el[t](),_r_()},_alignTooltip:function(){var e,t;switch(_i_("3bb:d3b34b71"),"left"===this.position?(e="top",t="outerHeight"):(e="left",t="outerWidth"),this._accountForRTL(this.options.alignment)){case e:this[e]=this.elOffset[e];break;case"center":this[e]=this.$el[t]()/2+this.elOffset[e]-this.$tip[t]()/2;break;default:this[e]=this.elOffset[e]+this.$el[t]()-this.$tip[t]()}_r_()},_attachEvents:function(){if(_i_("3bb:f9224418"),this.options.trigger.match(/manual/))return _r_();var e,t,i,n=this.options.trigger.split(" "),a=n.length,r=this.$el.add(this.$tip);for(this.options.intangible&&(r=this.$el);a--;)"click"===(e=n[a])?this.$el.on("click",_.proxy(this.toggle,this)):(t="hover"==e?"mouseenter":"focusin",i="hover"==e?"mouseleave":"focusout",r.on(t,_.proxy(this.show,this)),r.on(i,_.proxy(this.hide,this)));_r_()},_trackTransitionEnd:function(t){_i_("3bb:7d5873ec");var i=this.$el;this.$tip.one("transitionend",function(e){_i_("3bb:a241ca33"),i.trigger(t,[this]),_r_()}),_r_()},show:function(){_i_("3bb:1e6fbd16"),this.$el.trigger("show.B.tooltip",[this.$tip]),this._trackTransitionEnd("shown.B.tooltip"),this.$el.attr("aria-describedby",this.el.id),this._positionTooltip(),this.$tip.addClass("on").removeClass("off"),_r_()},hide:function(){_i_("3bb:0ab21ba6"),this.$el.trigger("hide.B.tooltip",[this.$tip]),this._trackTransitionEnd("hidden.B.tooltip"),this.$el.removeAttr("aria-describedby"),this.$tip.removeClass("on").addClass("off"),_r_()},toggle:function(){_i_("3bb:1e6fe6da"),this.$tip.is(".on")?this.hide():this.show(),_r_()}}),_r_()}),B.when({events:"ready",action:["book"],condition:B.env.b_user_auth_level==B.env.auth_level_high&&2==B.env.b_stage}).run(function(e){_i_("3bb:689a3615");var i,n,t=B.require("jquery"),a=B.require("async-loader"),r=t(".js-overlapping-bookings"),_=r.data("reservationsurl"),s=B.env.b_user_auth_level_is_high||B.env.b_user_auth_level>B.env.b_auth_level_low||2<=parseInt(B.env.auth_level,10),o=B.env.b_reg_user_id,l=B.env.b_action,c=B.env.b_stage,d={lang:B.env.b_lang,fe_action:l};if(!r.length)return _r_(!1);function b(e){if(_i_("3bb:6264cf48"),!e)return _r_(!1);if(i=e.data||e,n=e.info||"",!i.length)return _r_(!1);var t={num_overlapping_bookings:i.length,short_date_start:r.data("checkinshort"),short_date_end:r.data("checkoutshort"),start_bold:"<strong>",end_bold:"</strong>"};t.start_cancel_link='<a class="js-reservations-link" target="_blank" href="'+_+'">',t.end_cancel_link="</a>",d.fe_subtitle=B.jstmpl.translations("pob_email_reminder_body",i.length,t),d.bookings=i,d.fe_pob_show_banner_cta_url=_,_i_("3bb:aed936f3"),d.fe_cta_copy=B.jstmpl.translations("cx_double_booked_message_cancel"),d.fe_pob_class__cta="c-button c-button--warning",d.fe_pob_show_banner=!0,d.fe_pob_show_table=!0,d.fe_pob_class__container="overlapping-bookings--bp",d.fe_pob_show_banner_cta=!0,d.fe_pob_show_banner_cta_icon=!0,_r_(),_i_("3bb:2cb7b30b"),a&&2==c&&o&&s&&1==n.all_free_cancellation_and_no_prepayment_only?a.load({js:"async_pob_bs2_cancel_with_slidebox_js",css:"async_pob_bs2_cancel_with_slidebox_css"}).then(function(){_i_("3bb:200953ea"),d.all_free_cancellations_and_no_prepayment_only=n.all_free_cancellation_and_no_prepayment_only||"",d.fe_user_auth_level_is_high=s||"",d.fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK=B.env.fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK||"",d.fe_stage=c,d.fe_track_stage_on_view="",p(),_r_()},function(){}):p(),_r_(),_r_()}function p(){_i_("3bb:96a8bdde");var e=(_i_("3bb:90de5788"),d.fe_on_view_track="",_r_(B.jstmpl("overlapping_bookings_banner_table").render(d)));r.append(e),B.et.initAttributesTracking(r),2==c&&o&&s&&1==n.all_free_cancellation_and_no_prepayment_only&&B.require("mybooking/no-lightbox").init(),_i_("3bb:65a66616"),r.find(".js-reservations-button").on("click",function(e){_i_("3bb:b8af8b31"),e.preventDefault(),r.hasClass("overlapping-is-active")?r.removeClass("overlapping-is-active"):r.addClass("overlapping-is-active"),_r_()}),_r_(),_r_()}function u(e){}!function(){_i_("3bb:c7717e90");var e={checkin:r.data("checkin"),checkout:r.data("checkout"),cancel_summary:!0,hotel_details:!0,hotel_ufi:"ufi",need_location_score:!0};B.require("fragment").call("mybooking.open_bookings_full",e).then(b,u),_r_()}(),_r_()}),booking.jstmpl("overlapping_bookings_banner_table",function(){_i_("3bb:a6334739");var l,c=["\n\n  ","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n  ","\n","\n\n","\n    ","\n      ","\n        ","\n          ","\n\n\n  ",'\n\n\n  <div\n    class="\n      ',"\n\n      ","--rtl\n      ","--ltr\n      ",'\n\n    "\n    data-et-view="','"\n    >\n\n  \n  \n  \n\n  ','\n    <p class="',"__title ",'">\n          ',"\n    </p>\n    ","\n\n\n  \n  \n  \n\n\n  ",'\n    <table class="',"__table ",'" ','data-et-view="',">\n        <tbody>\n          ",'\n\n              <tr class="',"__row ",'">\n\n                \n                \n                \n\n                <td class="',"__cell "," ","book_and_cancel",'">\n\n                    ','\n                      <div class="','__checklist">\n                        <label class="','__checklist-label">\n                          <input class="',"__checkbox ",'" type="checkbox" name="pob_to_cancel" value="',"disabled"," >\n                          ","\n                            ","\n                        ",'\n                           <div class="',"__checklist-body ",'">\n                        ','\n\n                          <a\n                            class="',"__property ",' js-property-link"\n                            href="','"\n                            target="','">\n                            ',"\n                              ",'\n                          </a>\n\n                          <p class="comparison-property__text--smaller--flush free-cxl">\n                            '," - ","<br>\n                            ","\n\n                            ","\n                                ","\n                                  ","\n                                    ","/private/pob_refundable_generic/name","/private/pob_refundable_simple_ja/name","/private/pob_refundable_simple/name","\n                          </p>\n                          ",'\n                            <p class="overlapping-bookings__book-cancel-price">',"</p>\n                          ","\n                          </div>\n                        ","\n                      ","\n                          ","\n                        </label>\n                    ","\n\n                      ","\n\n                    ","\n                      </div>\n                    ","\n\n                </td>\n\n                \n                \n                \n\n                ",'\n                  <td class="','">\n                    <small class="',"__label ",'">',"/private/price/name",'</small>\n                    <strong class="',"__price ","</strong>\n                  </td>\n                ","\n\n                \n                \n                \n\n\n                ","\n                    ",'\n                      <td class="','">\n                          <a class="',"__cta "," js-cta-link js-bs2-cancel-slidebox ","mb-btn mb-cancel custom_track hasSlideBox",'"\n                              ','\n                                  data-slidebox-preopen-callback="cancelOpenCallback"\n                                  data-slidebox-load="','"\n                                  data-slidebox-submit-callback="cancelButtonSubmitCallback"\n                                  data-trackname="Cancel booking, ','"\n                                  data-slidebox-target="#slidebox-cancel-pob"\n                                  data-slidebox-ajax-failure-feedback="',"true",'\n                                 href="','"\n                                 target="',"\n                            >","\n                            </a>\n\n                      </td>\n                    ","\n                ",'\n\n\n              </tr>\n              <tr class="booking-spacer"></tr>\n\n          ',"\n        </tbody>\n\n      </table>\n    \n    ",'\n    \n    <div class="slidebox slidebox--cancel-booking" id="slidebox-cancel-pob">\n        <div class="slidebox__inner  js-slidebox__inner  myBookingOptionsPanel">\n            ',"100px","80%","32px","ajax-loader-64.gif",'\n\n\n\n<div\n    class="preloader-with-text ','"\n    style="min-height: ',';"\n>\n    <div class="preloader-with-text__container">\n        <div class="preloader-with-text__table" style="width: ',';">\n            <div class="preloader-with-text__cell">\n\n                <div class="preloader-with-text__spinner">\n                    <img\n                        src="','"\n                        style="width: ',';"\n                        alt=""\n                    />\n                </div>\n\n                <div class="preloader-with-text__text">\n                    ',"/private/loading/name","...\n                    ","\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n","\n        </div>\n    </div> \x3c!-- /slidebox--cancel-booking --\x3e\n    ","\n\n    \n\n    ","","&nbsp;<i class='bicon bicon-downchevron'></i>","\n\n     ","\n\n\n\n","b-button","Button Text should be overriden","button","\n\n\n","c-button","\n\t","0","\n\t\t"," b-button_primary"," b-button_secondary"," b-button_warning"," b-button_disabled"," b-button_primary b-button_small"," b-button_secondary b-button_small"," b-button_warning b-button_small"," b-button_primary b-button_flat","\n\n\t","1",'id="','"','href="','data-title="','type="','rel="',"data-",'="'," data-",'target="','hotelUrl="','data-hotelid="',"\n\n\n<",'\n\tclass="','"\n\t',"\n\n    ",'\n        data-track-event="','"\n    ','\n\t\tvalue="','"/>\n\t','\n\t>\n\t\t<span class="b-button__text">',"</span>\n\t\t",'\n\t\t\t\t<span class="b-button__from-text" ','style="display:inline-block"',">","\n\n\t\t",'\n\t\t\t\t<span class="b-button__from-text book_now_rt_summary g-hidden"></span>\n\t\t',"\n\n\t\t</",">\n\t","js-reservations-button","a","_blank","primary","\n\n    \n\n     ","\n\n        ","__container\n          ","\n          fe_banner__unify\n          fe_banner__inherit_font_size\n        ","\n\n\n    \n\n    ","\n\n\n      ","\n\n\n\n\n\n\n",'<div data-component="onview-animate" data-anim-type="fadeInBottom"> ','<div class="fe_banner fe_banner__accessible ',"fe_banner__scale_small ","fe_banner__w-icon ","fe_banner__w-dismiss ","fe_banner__","fe_banner__w-icon-","fe_banner__bp fe_banner__inherit_font_size ",' " ','role="alert"',"> ",'<i class="fe_banner__icon ','" aria-hidden="true"></i> ','<img class="fe_banner__icon" src="','"> ','<span class="',"fe_banner__icon"," </span> ",'<div class="fe_banner__btn_container"> <div class="fe_banner__btn_container_content"> ','<h3 class="fe_banner__title"> '," </h3> ",'<div class="fe_banner__message"> '," </div> ",'</div> <div class="fe_banner__button"> ',"</div> ",'<span class="fe_banner__dismiss js-close" role="button" tabindex="1" aria-label="',"/private/a11y_cta_close_banner_new/name",'"><i class="bicon-btnclose"></i></span> ',"green","fe_banner__unify fe_banner__inherit_font_size","bicon-suitcase",'\n        <div class="js-overlapping-bookings-table ','__table"></div>\n      ',"\n\n        \n        ","\n\n\n  \n  \n  \n\n  ",'\n\n    <div class="',"__container ",'">\n\n      \n\n      ','\n        <div class="',"__subtitle ","\n        </div>\n      ","\n\n      \n\n      ","\n\n    </div>\n\n  ","\n\n  </div>\n\n","bs2-compare-table"],d=["fe_base_css_class","fe_title","fe_singular_title","active_perfectly_overlapped_bookings","fe_plural_title","fe_pob_show_banner","fe_pob_cta_target","fe_pob_property_target","fe_pob_show_price","fe_scoped_css_class","b_lang_is_rtl","fe_on_view_track","fe_pob_class__title","fe_pob_table","fe_pob_class__table","fe_track_stage_on_view","fe_pob_class__row","fe_pob_class__cell","fe_book_and_cancel","fe_pob_class__checkbox","hres_id","fe_pob_disabled__checkbox","fe_pob_class__checklist_body","fe_pob_selectable","fe_pob_class__property","mybooking_url","hname","fe_pob_property_icon","checkin_short_format","checkout_short_format","free_cancellation_deadline_until","lang","free_cancellation_deadline","cancellation_type","fe_pob_show_policies","total_price_pretty","fe_show_price","fe_show_property_block_inside_label","fe_pob_class__label","fe_pob_class__price","fe_pob_class__cta","fe_stage","fe_user_auth_level_is_high","all_free_cancellations_and_no_prepayment_only","cancel_summary_url","fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK","fe_cta_copy","fe_individual_links_are_not_clickable","fe_preloader_with_text__min_height_default","fe_preloader_with_text__min_height","fe_preloader_with_text__width_default","fe_preloader_with_text__width","fe_preloader_with_text__spinner_size_default","fe_preloader_with_text__spinner_size","fe_preloader_with_text__spinner_default","fe_preloader_with_text__spinner","fe_preloader_with_text__class","fe_preloader_with_text__text","loading","fe_pob_show_table","pb_ss_dashboard_view_booking_cta","gta_splash_view_booking_cta","b_text","fe_pob_show_banner_cta_icon","fe_banner__btn_include","b_btn_class","b_btn_id","b_btn_text","b_btn_outside_text","b_btn_caption_text","b_btn_tag","b_btn_attr_type","b_btn_attr","b_btn_href","b_btn_extra_classes","b_btn_title","b_btn_rel","b_btn_target","b_btn_data","fe_cbtn_comp_class","fe_cbtn_class","fe_cbtn_type","fe_cbtn_size","fe_cbtn_disabled","fe_cbtn_icon_only","fe_cbtn_icon_left","fe_cbtn_icon_right","fe_cbtn_track_exp","fe_cbtn_track_event","fe_btn_track_event","fe_cbtn_track_goal","fe_cbtn_track_stage","fe_cbtn_is_anchor","fe_cbtn_is_input","fe_cbtn_is_button","fe_cbtn_no_style","b_btn_hotel_url","b_btn_data_hotelid","b_outside_text","b_caption_text","b_type","b_tag","fe_btn_is_anchor","fe_btn_is_input","fe_btn_is_button","b_id","b_href","fe_btn_no_style","b_extra_classes","b_title","b_attr_type","b_attr","b_rel","b_data_id","b_data_value","b_data_id_2","b_data_value_2","b_data_id_3","b_data_value_3","b_data_id_4","b_data_value_4","b_data_id_5","b_data_value_5","b_target","b_bb_is_sabrered_app","b_hotel_url","b_data_hotelid","b_from_price_inlined","b_add_rt_summary","fe_pob_show_banner_cta_url","fe_pob_show_banner_cta","fe_pob_table__extra_classes","fe_pob_class__container","fe_pob_banner","fe_banner__data","fe_banner__data_id","fe_banner__data_value","fe_banner__data_id_2","fe_banner__data_value_2","fe_banner__data_id_3","fe_banner__data_value_3","fe_banner__data_id_4","fe_banner__data_value_4","fe_banner__data_id_5","fe_banner__data_value_5","fe_banner__animate","fe_banner__scale","fe_banner__icon_class","fe_banner__icon_img_url","fe_banner__icon_svg","fe_banner__close_button","fe_banner__color_scheme","fe_banner__color_scheme_classes","fe_banner__icon_size","b_action","fe_banner__extra_classes","fe_banner__id","fe_banner__aria_alert","fe_banner__icon_svg_class","fe_banner__title_text","fe_banner__message_text","fe_banner__banners_count","fe_subtitle","fe_table_container","fe_pob_class__subtitle","bookings"];return _r_(function(s){_i_("3bb:eed065fb");var e="",o=this.fn;return e+=c[0],s.unshift({active_perfectly_overlapped_bookings:o.MB(d[165]),fe_on_view_track:o.MB(d[11]),fe_scoped_css_class:c[221]}),e=function(e){if(_i_("3bb:0e586372"),e+=c[1],o.MD(d[0])||(e+=c[2],o.MN("fe_base_css_class","overlapping-bookings"),e+=c[3]),e+=c[4],o.MD(d[3])){if(e+=c[0],!o.MD(d[1])){if(e+=c[5],o.MJ(o.MB(d[2]))&&o.MJ(o.MB(d[4]))){e+=c[6];var t="";t+=c[7],o.MJ(1==o.array_length(o.MB(d[3])))?t+=[c[8],o.MC(d[2]),c[7]].join(""):t+=[c[8],o.MC(d[4]),c[7]].join(""),t+=c[6],o.MN(d[1],t),e+=c[5]}e+=c[2]}if(e+=c[0],o.MD(d[5])||(e+=c[5],o.MN("fe_pob_show_table",1)),e+=c[2],e+=c[9],o.MD(d[6])||(e+=c[5],o.MN("fe_pob_cta_target","_blank"),e+=c[2]),e+=c[0],o.MD(d[7])||(e+=c[5],o.MN("fe_pob_property_target","_blank"),e+=c[2]),e+=c[0],o.MD(d[8])||(e+=c[5],o.MN("fe_pob_show_price",1),e+=c[2]),e+=[c[10],o.F.entities(o.MB(d[0])),c[6],o.F.entities(o.MB(d[9])),c[11]].join(""),o.MJ(o.MC(d[10]))?e+=[c[7],o.F.entities(o.MB(d[0])),c[12]].join(""):e+=[c[7],o.F.entities(o.MB(d[0])),c[13]].join(""),e+=[c[14],o.MB(d[11]),c[15]].join(""),o.MJ(o.MB(d[1]))&&(e+=c[5],o.MD(d[5])||(e+=[c[16],o.F.entities(o.MB(d[0])),c[17],o.MB(d[12]),c[18],o.MC(d[1]),c[19]].join("")),e+=c[2]),e+=c[20],o.MD(d[59])){e+=c[5],t="",t+=[c[21],o.F.entities(o.MB(d[0])),c[22],o.MB(d[14]),c[23]].join(""),o.MD(d[15])&&(t+=[c[24],o.MC(d[15]),c[23]].join("")),t+=c[25];var i=o.MC(d[3])||[];s.unshift(null);for(var n=1,a=i.length;n<=a;n++)s[0]=i[n-1],t+=[c[26],o.F.entities(o.MB(d[0])),c[27],o.MB(d[16]),c[28],o.F.entities(o.MB(d[0])),c[29],o.MB(d[17]),c[30]].join(""),o.MD(d[18])&&(t+=c[31]),t+=c[32],o.MD(d[23])&&(t+=[c[33],o.F.entities(o.MB(d[0])),c[34],o.F.entities(o.MB(d[0])),c[35],o.F.entities(o.MB(d[0])),c[36],o.MB(d[19]),c[37],o.MC(d[20]),c[23]].join(""),o.MD(d[21])&&(t+=c[38]),t+=c[39],o.MD(d[37])&&(_=t+=c[40],_i_("3bb:8935ddff"),_+=c[41],o.MD(d[23])&&(_+=[c[42],o.F.entities(o.MB(d[0])),c[43],o.MB(d[22]),c[44]].join("")),_+=[c[45],o.F.entities(o.MB(d[0])),c[46],o.MB(d[24]),c[47],o.MB(d[25]),c[48],o.MC(d[7]),c[49]].join(""),o.MD(d[27])?_+=[c[50],o.MB(d[26]),o.MC(d[27]),c[40]].join(""):_+=[c[50],o.MB(d[26]),c[40]].join(""),_+=c[51],o.MJ(o.MB(d[28]))&&o.MJ(o.MB(d[29]))&&(_+=[c[50],o.F.entities(o.MC(d[28])),c[52],o.F.entities(o.MC(d[29])),c[53]].join("")),_+=c[54],o.MD(d[34])&&(_+=c[50],o.MD(d[18])&&(_+=c[55],o.MJ(o.MB(d[33])+""=="FREE")&&(_+=c[56],o.MK(o.MB(d[30]))?_+=[c[57],o.ME(c[58],o.MB,o.MN,null),c[56]].join(""):o.MJ(o.MB(d[31])+""=="ja")?_+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[30])}),l=o.ME(c[59],o.MB,o.MN,null),s.shift(),l),c[56]].join(""):_+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[32])}),l=o.ME(c[60],o.MB,o.MN,null),s.shift(),l),c[56]].join(""),_+=c[55]),_+=c[50]),_+=c[40]),_+=c[61],o.MD(d[36])&&(_+=[c[62],o.MC(d[35]),c[63]].join("")),_+=c[41],o.MD(d[23])&&(_+=c[64]),_+=c[65],t=_r_(_),t+=c[66]),t+=c[67]),t+=c[68],t+=c[68],o.MD(d[37])||(r=t+=c[41],_i_("3bb:8e5f7d93"),r+=c[41],o.MD(d[23])&&(r+=[c[42],o.F.entities(o.MB(d[0])),c[43],o.MB(d[22]),c[44]].join("")),r+=[c[45],o.F.entities(o.MB(d[0])),c[46],o.MB(d[24]),c[47],o.MB(d[25]),c[48],o.MC(d[7]),c[49]].join(""),o.MD(d[27])?r+=[c[50],o.MB(d[26]),o.MC(d[27]),c[40]].join(""):r+=[c[50],o.MB(d[26]),c[40]].join(""),r+=c[51],o.MJ(o.MB(d[28]))&&o.MJ(o.MB(d[29]))&&(r+=[c[50],o.F.entities(o.MC(d[28])),c[52],o.F.entities(o.MC(d[29])),c[53]].join("")),r+=c[54],o.MD(d[34])&&(r+=c[50],o.MD(d[18])&&(r+=c[55],o.MJ(o.MB(d[33])+""=="FREE")&&(r+=c[56],o.MK(o.MB(d[30]))?r+=[c[57],o.ME(c[58],o.MB,o.MN,null),c[56]].join(""):o.MJ(o.MB(d[31])+""=="ja")?r+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[30])}),l=o.ME(c[59],o.MB,o.MN,null),s.shift(),l),c[56]].join(""):r+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[32])}),l=o.ME(c[60],o.MB,o.MN,null),s.shift(),l),c[56]].join(""),r+=c[55]),r+=c[50]),r+=c[40]),r+=c[61],o.MD(d[36])&&(r+=[c[62],o.MC(d[35]),c[63]].join("")),r+=c[41],o.MD(d[23])&&(r+=c[64]),r+=c[65],t=_r_(r),t+=c[65]),t+=c[69],o.MD(d[23])&&(t+=c[70]),t+=c[71],o.MD(d[8])&&(t+=[c[72],o.F.entities(o.MB(d[0])),c[29],o.MB(d[17]),c[73],o.F.entities(o.MB(d[0])),c[74],o.MB(d[38]),c[75],o.ME(c[76],o.MB,o.MN,null),c[77],o.F.entities(o.MB(d[0])),c[78],o.MB(d[39]),c[75],o.MC(d[35]),c[79]].join("")),t+=c[80],o.MD(d[46])&&(t+=c[81],o.MD(d[47])||(t+=[c[82],o.F.entities(o.MB(d[0])),c[29],o.MB(d[17]),c[83],o.F.entities(o.MB(d[0])),c[84],o.MB(d[40]),c[85]].join(""),o.MJ(2==o.MB(d[41]))&&o.MJ(1==o.MB(d[42]))&&o.MJ(1==o.MB(d[43]))&&(t+=c[86]),t+=c[87],o.MJ(2==o.MB(d[41]))&&o.MJ(1==o.MB(d[42]))&&o.MJ(1==o.MB(d[43]))?(t+=[c[88],o.MC(d[44]),c[89],o.MC(d[33]),c[90]].join(""),o.MD(d[45])&&(t+=c[91]),t+=c[87]):t+=[c[92],o.MB(d[25]),c[93],o.MC(d[6]),c[87]].join(""),t+=[c[94],o.MC(d[46]),c[95]].join("")),t+=c[96]),t+=c[97];s.shift(),t+=c[98],o.MJ(2==o.MB(d[41]))&&o.MJ(1==o.MB(d[42]))&&o.MJ(1==o.MB(d[43]))&&(t+=c[99],s.unshift({fe_preloader_with_text__text:o.MB(d[58])}),t=function(e){_i_("3bb:8ddbd4dd"),e+=c[4];var t="";t+=c[5],o.MD(d[49])?t+=o.MC(d[49]):t+=c[100],t+=c[3],o.MN(d[48],t),e+=c[4];var t="";t+=c[5],o.MD(d[51])?t+=o.MC(d[51]):t+=c[101],t+=c[3],o.MN(d[50],t),e+=c[4];var t="";t+=c[5],o.MD(d[53])?t+=o.MC(d[53]):t+=c[102],t+=c[3],o.MN(d[52],t),e+=c[4];var t="";return o.MD(d[55])?t+=o.MC(d[55]):t+=c[103],o.MN(d[54],t),e+=[c[104],o.MC(d[56]),c[105],o.F.entities(o.MC(d[48])),c[106],o.F.entities(o.MC(d[50])),c[107],o.STATIC_HOSTNAME("/static/img/ajax-loaders/"+o.MB(d[54]),0,0,0,0),c[108],o.F.entities(o.MC(d[52])),c[109]].join(""),o.MD(d[57])?e+=[c[41],o.MC(d[57]),c[81]].join(""):e+=[c[41],o.ME(c[110],o.MB,o.MN,null),c[111]].join(""),e+=c[112],_r_(e)}(t),s.shift(),t+=c[113]),t+=c[5],o.MN(d[13],t),e+=c[2]}e+=c[20],o.MD(d[5])&&(e+=c[114],o.MD(d[130])&&(e+=c[11],o.MJ(1==o.array_length(o.MB(d[3])))?(e+=c[7],o.MN("b_text",o.MB(d[60]))):(e+=c[7],o.MN("b_text",o.MB(d[61]))),e+=c[6],e+=c[11],o.MD(d[63])&&(e+=c[7],t="",t+=[c[115],o.MC(d[62]),c[116]].join(""),o.MN(d[62],t),e+=c[6]),e+=c[117],t="",t+=c[7],s.unshift({b_extra_classes:c[166],b_href:o.MB(d[129]),b_tag:c[167],b_target:c[168],b_type:c[169]}),t=function(e){_i_("3bb:5acf9e27"),e+=c[118],o.MN(d[65],c[119]),e+=c[3],o.MN(d[66],void 0),e+=c[3],o.MN(d[67],c[120]),e+=c[3],o.MN(d[68],void 0),e+=c[3],o.MN(d[69],void 0),e+=c[3],o.MN(d[70],c[121]),e+=c[3],o.MN(d[71],void 0),e+=c[3],o.MN(d[72],void 0),e+=c[3],o.MN(d[73],void 0),e+=c[3],o.MN(d[74],void 0),e+=c[3],o.MN(d[75],void 0),e+=c[3],o.MN(d[76],void 0),e+=c[3],o.MN(d[77],void 0),e+=c[3],o.MN(d[78],void 0),e+=c[122],o.MN(d[79],c[123]),e+=c[4],o.MN(d[80],void 0),e+=c[3],o.MN(d[81],void 0),e+=c[3],o.MN(d[82],void 0),e+=c[3],o.MN(d[83],void 0),e+=c[3],o.MN(d[84],void 0),e+=c[3],o.MN(d[85],void 0),e+=c[3],o.MN(d[86],void 0),e+=c[3],o.MN(d[87],void 0),e+=c[4],o.MD(d[89])?(e+=c[124],o.MN(d[88],o.F.entities(o.MC(d[89])))):(e+=c[124],o.MN(d[88],void 0)),e+=c[3],e+=c[4],o.MN(d[90],void 0),e+=c[3],o.MN(d[91],void 0),e+=c[4],o.MN(d[92],c[125]),e+=c[3],o.MN(d[93],c[125]),e+=c[3],o.MN(d[94],c[125]),e+=c[4],o.MN(d[95],c[125]),e+=c[122],o.MN(d[96],void 0),e+=c[3],o.MN(d[97],void 0),e+=c[4],o.MD(d[62])&&(e+=c[124],o.MN(d[67],o.MC(d[62])),e+=c[3]),e+=c[4],o.MD(d[98])&&(e+=c[124],o.MN(d[68],o.MC(d[98])),e+=c[3]),e+=c[4],o.MD(d[99])&&(e+=c[124],o.MN(d[69],o.MC(d[99])),e+=c[3]),e+=c[4];var t=o.MC(d[100]);if(o.MJ(t+""=="primary")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[127]].join("")),e+=c[124]):o.MJ(t+""=="secondary")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[128]].join("")),e+=c[124]):o.MJ(t+""=="warning")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[129]].join("")),e+=c[124]):o.MJ(t+""=="disabled")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[130]].join("")),e+=c[124]):o.MJ(t+""=="primary-small")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[131]].join("")),e+=c[124]):o.MJ(t+""=="secondary-small")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[132]].join("")),e+=c[124]):o.MJ(t+""=="warning-small")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[133]].join("")),e+=c[124]):o.MJ(t+""=="primary-flat")&&(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[134]].join("")),e+=c[3]),e+=c[4],o.MD(d[101])&&(e+=c[124],o.MN(d[70],o.MC(d[101])),e+=c[135],o.MJ(/^a$/i.test(o.MC(d[70])))&&o.MN(d[102],c[136]),e+=c[124],o.MJ(/^input$/i.test(o.MC(d[70])))&&o.MN(d[103],c[136]),e+=c[124],o.MJ(/^button$/i.test(o.MC(d[70])))&&o.MN(d[104],c[136]),e+=c[3]),e+=c[4],o.MD(d[105])&&(e+=c[124],o.MN(d[66],[c[137],o.F.entities(o.MC(d[105])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[106])&&(e+=c[124],o.MN(d[73],[c[139],o.F.entities(o.MC(d[106])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[107])&&(e+=c[124],o.MN(d[95],o.F.entities(o.MC(d[107]))),e+=c[3]),e+=c[4],o.MD(d[108])){e+=c[124];var i="";o.MD(d[95])||(i+=o.F.entities(o.MC(d[65]))),i+=[c[30],o.F.entities(o.MC(d[108]))].join(""),o.MN(d[65],i),e+=c[3]}return e+=c[4],o.MD(d[109])&&(e+=c[124],o.MN(d[75],[c[140],o.F.entities(o.MC(d[109])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[110])&&(e+=c[124],o.MN(d[71],[c[141],o.F.entities(o.MC(d[110])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[111])&&(e+=c[124],o.MN(d[72],o.MC(d[111])),e+=c[3]),e+=c[4],o.MD(d[112])&&(e+=c[124],o.MN(d[76],[c[142],o.F.entities(o.MC(d[112])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[113])&&(e+=c[5],o.MN(d[78],[c[143],o.F.entities(o.MC(d[113])),c[144],o.F.entities(o.MC(d[114])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[115])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[115])),c[144],o.F.entities(o.MC(d[116])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[117])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[117])),c[144],o.F.entities(o.MC(d[118])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[119])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[119])),c[144],o.F.entities(o.MC(d[120])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[121])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[121])),c[144],o.F.entities(o.MC(d[122])),c[138]].join("")),e+=c[3]),e+=c[4],o.MJ(o.MC(d[123]))&&o.MK(o.MC(d[124]))&&(e+=c[124],o.MN(d[77],[c[146],o.F.entities(o.MC(d[123])),c[138]].join("")),e+=c[3]),e+=c[118],o.MD(d[125])&&(e+=c[124],o.MN(d[96],[c[147],o.F.entities(o.MC(d[125])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[126])&&(e+=c[124],o.MN(d[97],[c[148],o.F.entities(o.MC(d[126])),c[138]].join("")),e+=c[3]),e+=[c[149],o.F.entities(o.MC(d[70])),c[150],o.MC(d[65]),c[151],o.MC(d[73]),c[124],o.MC(d[66]),c[124],o.MC(d[71]),c[124],o.MC(d[72]),c[124],o.MC(d[75]),c[5],o.MC(d[76]),c[124],o.MC(d[78]),c[124],o.MC(d[77]),c[124],o.MC(d[96]),c[124],o.F.entities(o.MC(d[97])),c[152]].join(""),o.MD(d[88])&&(e+=[c[153],o.F.entities(o.MC(d[88])),c[154]].join("")),e+=c[135],o.MJ(o.MC(d[70])+""=="input")?e+=[c[155],o.F.entities(o.MC(d[67])),c[156]].join(""):(e+=[c[157],o.MC(d[67]),c[158]].join(""),o.MD(d[68])&&(e+=c[159],o.MD(d[127])&&(e+=c[160]),e+=[c[161],o.MC(d[68]),c[158]].join("")),e+=c[162],o.MD(d[128])&&(e+=c[163]),e+=[c[164],o.F.entities(o.MC(d[70])),c[165]].join("")),e+=c[3],_r_(e)}(t),s.shift(),t+=c[6],o.MN(d[64],t),e+=c[5]),e+=c[170],o.MD(d[59])&&(e+=c[171],o.MN(d[131],[c[8],o.F.entities(o.MB(d[0])),c[172],o.MB(d[132]),c[173]].join("")),e+=c[152]),e+=c[174],t="",t+=c[175],s.unshift({fe_banner__color_scheme:c[205],fe_banner__extra_classes:c[206],fe_banner__icon_class:c[207],fe_banner__message_text:o.MB(d[162]),fe_banner__title_text:o.MB(d[1])}),t=function(e){if(_i_("3bb:ffe25773"),e+=["",c[176]].join(""),o.MD(d[160])){e+=c[152],o.MD(d[135])&&(e+=c[7],o.MN(d[134],[c[143],o.MB(d[135]),c[144],o.MB(d[136]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[137])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[137]),c[144],o.MB(d[138]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[139])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[139]),c[144],o.MB(d[140]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[141])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[141]),c[144],o.MB(d[142]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[143])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[143]),c[144],o.MB(d[144]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[145])&&(e+=c[177]),e+=c[178];var t=o.MB(d[146]);o.MJ(t+""=="small")&&(e+=c[179]),(o.MJ(o.MB(d[147]))||o.MJ(o.MB(d[148]))||o.MJ(o.MB(d[149])))&&(e+=c[180]),o.MD(d[150])&&(e+=c[181]),o.MJ(o.MB(d[151]))&&(e+=[c[182],o.F.entities(o.MC(d[151])),o.F.entities(o.MC(d[152])),c[30]].join("")),o.MJ(o.MB(d[147]))&&o.MJ(o.MB(d[153]))&&(e+=[c[183],o.F.entities(o.MC(d[153])),c[30]].join("")),o.MJ(o.MC(d[154])+""=="book")&&(e+=c[184]),e+=[o.F.entities(o.MC(d[155])),c[185]].join(""),o.MD(d[156])&&(e+=[c[137],o.F.entities(o.MC(d[156])),c[23]].join("")),o.MD(d[134])&&(e+=[o.MC(d[134]),c[30]].join("")),o.MD(d[157])&&(e+=c[186]),e+=c[187],o.MD(d[147])?e+=[c[188],o.F.entities(o.MC(d[147])),c[189]].join(""):o.MD(d[148])?e+=[c[190],o.F.entities(o.MC(d[148])),c[191]].join(""):o.MD(d[149])&&(e+=c[192],o.MD(d[158])?e+=o.F.entities(o.MC(d[158])):e+=c[193],e+=[c[191],o.MC(d[149]),c[194]].join("")),o.MD(d[64])&&(e+=c[195]),o.MD(d[159])&&(e+=[c[196],o.MC(d[159]),c[197]].join("")),o.MD(d[160])&&(e+=[c[198],o.MC(d[160]),c[199]].join("")),o.MD(d[64])&&(e+=[c[200],o.MC(d[64]),c[199]].join("")),o.MD(d[64])&&(e+=c[201]),o.MD(d[150])&&(e+=[c[202],o.ME(c[203],o.MB,o.MN,null),c[204]].join("")),e+=c[201],o.MD(d[145])&&(e+=c[201]),e+=c[3]}return e+=c[118],o.MN(d[151],void 0),e+=c[3],o.MN(d[147],void 0),e+=c[3],o.MN(d[148],void 0),e+=c[3],o.MN(d[149],void 0),e+=c[3],o.MN(d[153],void 0),e+=c[3],o.MN(d[159],void 0),e+=c[3],o.MN(d[160],void 0),e+=c[3],o.MN(d[64],void 0),e+=c[3],o.MN(d[150],void 0),e+=c[3],o.MN(d[156],void 0),e+=c[3],o.MN(d[155],void 0),e+=c[3],o.MN(d[146],void 0),e+=c[4],o.MN(d[135],void 0),e+=c[3],o.MN(d[136],void 0),e+=c[3],o.MN(d[137],void 0),e+=c[3],o.MN(d[138],void 0),e+=c[3],o.MN(d[139],void 0),e+=c[3],o.MN(d[140],void 0),e+=c[3],o.MN(d[141],void 0),e+=c[3],o.MN(d[142],void 0),e+=c[3],o.MN(d[143],void 0),e+=c[3],o.MN(d[144],void 0),e+=c[4],o.MN(d[152],void 0),e+=c[4],o.MN(d[134],void 0),e+=c[3],o.MN("fe_banner__banners_count",o.MI(o.MB(d[161]))+o.MI(1)),e+=c[4],o.MJ(o.MC(d[154])+""=="book")&&o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))?e+=c[3]:o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1))&&(e+=c[3]),e+=[c[4],"",c[3]].join(""),_r_(e)}(t),s.shift(),t+=c[11],o.MD(d[163])?t+=[c[208],o.F.entities(o.MB(d[0])),c[209]].join(""):o.MD(d[59])&&(t+=c[210],s.unshift({fe_banner__color_scheme:c[205],fe_banner__extra_classes:o.MB(d[131]),fe_banner__icon_class:c[30],fe_banner__message_text:o.MB(d[13])}),t=function(e){if(_i_("3bb:83888935"),e+=["",c[176]].join(""),o.MD(d[160])){e+=c[152],o.MD(d[135])&&(e+=c[7],o.MN(d[134],[c[143],o.MB(d[135]),c[144],o.MB(d[136]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[137])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[137]),c[144],o.MB(d[138]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[139])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[139]),c[144],o.MB(d[140]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[141])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[141]),c[144],o.MB(d[142]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[143])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[143]),c[144],o.MB(d[144]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[145])&&(e+=c[177]),e+=c[178];var t=o.MB(d[146]);o.MJ(t+""=="small")&&(e+=c[179]),(o.MJ(o.MB(d[147]))||o.MJ(o.MB(d[148]))||o.MJ(o.MB(d[149])))&&(e+=c[180]),o.MD(d[150])&&(e+=c[181]),o.MJ(o.MB(d[151]))&&(e+=[c[182],o.F.entities(o.MC(d[151])),o.F.entities(o.MC(d[152])),c[30]].join("")),o.MJ(o.MB(d[147]))&&o.MJ(o.MB(d[153]))&&(e+=[c[183],o.F.entities(o.MC(d[153])),c[30]].join("")),o.MJ(o.MC(d[154])+""=="book")&&(e+=c[184]),e+=[o.F.entities(o.MC(d[155])),c[185]].join(""),o.MD(d[156])&&(e+=[c[137],o.F.entities(o.MC(d[156])),c[23]].join("")),o.MD(d[134])&&(e+=[o.MC(d[134]),c[30]].join("")),o.MD(d[157])&&(e+=c[186]),e+=c[187],o.MD(d[147])?e+=[c[188],o.F.entities(o.MC(d[147])),c[189]].join(""):o.MD(d[148])?e+=[c[190],o.F.entities(o.MC(d[148])),c[191]].join(""):o.MD(d[149])&&(e+=c[192],o.MD(d[158])?e+=o.F.entities(o.MC(d[158])):e+=c[193],e+=[c[191],o.MC(d[149]),c[194]].join("")),o.MD(d[64])&&(e+=c[195]),o.MD(d[159])&&(e+=[c[196],o.MC(d[159]),c[197]].join("")),o.MD(d[160])&&(e+=[c[198],o.MC(d[160]),c[199]].join("")),o.MD(d[64])&&(e+=[c[200],o.MC(d[64]),c[199]].join("")),o.MD(d[64])&&(e+=c[201]),o.MD(d[150])&&(e+=[c[202],o.ME(c[203],o.MB,o.MN,null),c[204]].join("")),e+=c[201],o.MD(d[145])&&(e+=c[201]),e+=c[3]}return e+=c[118],o.MN(d[151],void 0),e+=c[3],o.MN(d[147],void 0),e+=c[3],o.MN(d[148],void 0),e+=c[3],o.MN(d[149],void 0),e+=c[3],o.MN(d[153],void 0),e+=c[3],o.MN(d[159],void 0),e+=c[3],o.MN(d[160],void 0),e+=c[3],o.MN(d[64],void 0),e+=c[3],o.MN(d[150],void 0),e+=c[3],o.MN(d[156],void 0),e+=c[3],o.MN(d[155],void 0),e+=c[3],o.MN(d[146],void 0),e+=c[4],o.MN(d[135],void 0),e+=c[3],o.MN(d[136],void 0),e+=c[3],o.MN(d[137],void 0),e+=c[3],o.MN(d[138],void 0),e+=c[3],o.MN(d[139],void 0),e+=c[3],o.MN(d[140],void 0),e+=c[3],o.MN(d[141],void 0),e+=c[3],o.MN(d[142],void 0),e+=c[3],o.MN(d[143],void 0),e+=c[3],o.MN(d[144],void 0),e+=c[4],o.MN(d[152],void 0),e+=c[4],o.MN(d[134],void 0),e+=c[3],o.MN("fe_banner__banners_count",o.MI(o.MB(d[161]))+o.MI(1)),e+=c[4],o.MJ(o.MC(d[154])+""=="book")&&o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))?e+=c[3]:o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1))&&(e+=c[3]),e+=[c[4],"",c[3]].join(""),_r_(e)}(t),s.shift(),t+=c[11]),t+=c[152],o.MN(d[133],t),e+=c[9]),e+=c[211],o.MD(d[5])?e+=[c[5],o.MC(d[133]),c[2]].join(""):(e+=[c[212],o.F.entities(o.MB(d[0])),c[213],o.F.entities(o.MB(d[132])),c[214]].join(""),o.MD(d[162])&&(e+=[c[215],o.F.entities(o.MB(d[0])),c[216],o.MB(d[164]),c[18],o.MB(d[162]),c[217]].join("")),e+=[c[218],o.MC(d[13]),c[219]].join("")),e+=c[220]}var r;var _;return e+=c[3],_r_(e)}(e),s.shift(),e+=c[4],_r_(e)})}()),booking.jstmpl("overlapping_bookings_comparison_table",function(){_i_("3bb:31014901");var s,p,u=["\n\n  ","\n    ",'\n  <div class="comparison-container ',"lang_is_rtl","lang_is_ltr",'">\n      ','\n        <div data-et-view="','"></div>\n      ',"\n      ","\n        ","<strong>","</strong>",'\n        <p class="comparison-container__title">\n          ',"/private/pob_bp_banner_compare_bookings/name","\n        </p>\n      ",'\n\n    <div class="comparison-layout">\n\n      ','\n          <div  class="comparison-layout__item">\n            ',"\n\n\n\n","\n","\n\n\n","\n  ",'<span class="u-display-inline-block">',"</span>","/private/geo_hp_transport_hub_detail/name",'\n        - <strong class="u-display-inline-block">',"/private/sr_in_city_centre/name","</strong>\n      ",'\n        - <span class="u-display-inline-block"> ',"/private/lp_hotel_distance_from_city_centre/name","","</span>\n      ","\n\n",'\n\n\n\n\n\n\n\n\n\n<article class="comparison-property" data-id="','">\n\n  \n  \n  \n\n  <div\n    class="comparison-property__block--image"\n      ','\n        style="background-image:url(',')"\n      ',"\n    >\n\n    ",'\n\n      <div class="comparison-property__overlay">\n\n          <div class="comparison-property__review">\n            ',"\n\n\n\n\n\n\n",'\n\t<div style="color:#fff;background:#ff0000;padding:0.5em;border-radius:0.5em;max-width:30em;">Uh oh! looks like you are giving me a formatted score value, please give me a non formatted one</div>\n',"\n\t","none","auto","num_reviews_sr_page","   ","        ","             ","    "," ","     ","         ","      ","  ","/private/review_adj_superb/name","\n\n\t","\n\t\n\t","\n\t\t","review-score-widget__","review-score-widget__score-only ","review-score-widget__12 ","review-score-widget__14 ","review-score-widget__20 ","review-score-widget__24 "," review-score-widget "," review-score-widget__no-subtext"," review-score-widget__flipped",'id="','"',"\n\n\n\n\n\n\n\n\n","\n\t\t<",'a href="',' target="',"span",' class="review-score-widget__text" aria-label="',"/private/a11y_adjective_rating/name",'">\n\t\t\t',"\n\t\t</","a",">\n\t","span\n        ",' class="review-score-widget__subtext" aria-label="',"/private/acc_sr_review_score_rated_with_score_end/name",'"\n        >\n        ',"\n\n\n\n\n","\n\n\t\n\t\n\t\n\n\t\n\n\t<span\n\t\t",'\n\t\tclass="'," review-score-widget__debug",'"\n\t\t\t',"\n\t\t\t\t","\n\t\t\t",'\n\t\t\t\tdata-et-view="',"\n\t>\n\t\t","\n\t\t\t\n\t\t","\n\n\t\t","\n\n\t\t\n\t\t","\n\n\t\t\t","\n\t\t\t\t\n\t\t\t\t","\n\t<",' class="review-score-badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'">\n\t\t',"\n\t</",">\n","\n\t\t\t\t\t\n\t\t\t\t\t","\n\t\t\t\t\t",'\n\t\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</span>\n\t\t\t\t\t",'\n\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</span>\n\t\t\t\t","\n\t</span>\n\n\t\n\t\n\n","\n\n\n\n\n\n\n\n\n\n","\n\t\n\t\n","text-only","\n          </div>\n\n      </div>\n\n    ",'\n\n  </div>\n\n\n  \n  \n  \n\n\n  \n\n  <div class="comparison-property__block--title">\n\n    <p class=" comparison-property__text--large">\n      ','\n        <a href="','" class="comparison-property__link js-view_booking--cta u-text-decoration:none" title="','"><strong class="u-font-weight:bold">',"</strong></a>\n      ",'\n        <strong class="u-font-weight:bold">','\n    </p>\n\n\n\n  \n\n\n  </div>\n\n\n  <div class="comparison-property__block">\n\n  \n\n    ','\n      <p class="comparison-property__text">\n\n          <strong class="u-font-weight:bold">\n            ',"\n              ",",\n            ","\n            ","\n          </strong>\n\n          ","\n          ","\n\n      </p>\n    ","\n\n    ",'\n        <p class="comparison-property__text--media">\n          <i class="bicon media-icon bicon-airport"></i> ',"\n        </p>\n    ",'\n        <p class="comparison-property__text--media">\n          <i class="bicon media-icon bicon-metro"></i> ','\n\n        <p class="comparison-property__text--media">\n          <i class="bicon media-icon bicon-train"></i> ',"\n        </p>\n\n    ",'\n\n\n\n  </div>\n\n\n  \n  \n  \n\n  <div class="comparison-property__block--alternate--price">\n      <p class="comparison-property__text--smaller--flush">',"/private/bp_room_for_x_nights/name",'</p>\n      <p class="comparison-property__text--large"><strong class="u-font-weight:bold">',"</strong></p>\n\n      \n      ",'\n        <div class="comparison-property__text comparison-property__text--non-free-cancel fe_banner fe_banner__scale_small fe_banner__red">\n            ',"/private/bhep_bs_pob_warning_no_free_cxln/name","\n        </div>\n      ",'\n\n  </div>\n\n\n  \n  \n  \n\n  <div class="comparison-property__block--centered--cta">\n    ','\n\n      <p class="comparison-property__text">\n         <strong class="u-font-weight:bold comparison-property__link u-text-decoration:none js-continue-booking">',"/private/bs3_check_booking_button/name","</strong>\n      </p>\n\n    ",'\n  <p class="comparison-property__text">\n    <a target="_blank" href="','" class="c-button u-padding:10">',"/private/pb_ss_hp_banner_view_booking_cta/name","</a>\n  </p>\n\n","b-button","Button Text should be overriden","button","c-button","0"," b-button_primary"," b-button_secondary"," b-button_warning"," b-button_disabled"," b-button_primary b-button_small"," b-button_secondary b-button_small"," b-button_warning b-button_small"," b-button_primary b-button_flat","1",'href="','data-title="','type="','rel="',"data-",'="'," data-",'target="','hotelUrl="','data-hotelid="',"\n\n\n<",'\n\tclass="','"\n\t','\n        data-track-event="','"\n    ','\n\t\tvalue="','"/>\n\t','\n\t>\n\t\t<span class="b-button__text">',"</span>\n\t\t",'\n\t\t\t\t<span class="b-button__from-text" ','style="display:inline-block"',">",'\n\t\t\t\t<span class="b-button__from-text book_now_rt_summary g-hidden"></span>\n\t\t',"\n\n\t\t</","comparison-property__cta js-view_booking--cta","_blank","primary",'\n    \n    <div class="slidebox  slidebox--cancel-booking" id="slidebox-cancel-pob">\n        <div class="slidebox__inner  js-slidebox__inner  myBookingOptionsPanel">\n            ',"100px","80%","32px","ajax-loader-64.gif",'\n\n\n\n<div\n    class="preloader-with-text ','"\n    style="min-height: ',';"\n>\n    <div class="preloader-with-text__container">\n        <div class="preloader-with-text__table" style="width: ',';">\n            <div class="preloader-with-text__cell">\n\n                <div class="preloader-with-text__spinner">\n                    <img\n                        src="','"\n                        style="width: ',';"\n                        alt=""\n                    />\n                </div>\n\n                <div class="preloader-with-text__text">\n                    ',"\n                        ","\n                    ","/private/loading/name","...\n                    ","\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n","\n        </div>\n    </div> \x3c!-- /slidebox--cancel-booking --\x3e\n",'\n        <a\n            class="b-button b-button_primary c-button--warning comparison-property__cta"\n            href="','"\n            target="_blank"\n            data-et-click="','"\n        >\n            <span class="b-button__text">',"/private/cx_double_booked_message_cancel/name","</span>\n        </a>\n    ","\n\n        ","true","Cancel booking, ",'\n        <a\n            class="b-button b-button_primary c-button--warning js-cxl-btn mb-btn mb-cancel custom_track hasSlideBox js-bs2-cancel-slidebox js-cancel-lightbox js-cancel-in-same-page comparison-property__cta"\n            data-slidebox-preopen-callback="cancelOpenCallback"\n            data-slidebox-load="','"\n            data-slidebox-submit-callback="cancelButtonSubmitCallback"\n            data-trackname="','"\n            data-slidebox-target="#slidebox-cancel-pob"\n            data-slidebox-ajax-failure-feedback="','"\n            data-et-click="','\n        <a\n            class="b-button b-button_primary c-button--warning js-cxl-btn mb-btn mb-cancel custom_track hasSlideBox js-cancel-lightbox js-bs2-cancel-slidebox js-cancel-in-same-page comparison-property__cta"\n            data-slidebox-preopen-callback="cancelOpenCallback"\n            data-slidebox-load="',"pbsource=mybooking_widget_cancel",'\n        <a\n            class="b-button b-button_primary c-button--warning js-cxl-btn js-cancel-in-same-page js-bs2-cancel-slidebox comparison-property__cta"\n            href=cancellation_link\n            target="_blank"\n        >\n            <span class="b-button__text">',"\n\n  </div>\n\n</article>\n",'\n          </div>\n          <div  class="comparison-layout__spacer"> </div>\n        ',"\n\n\n      ",'\n\n        <div  class="comparison-layout__item">\n          ',"\n        </div>\n\n      ",'\n\n      <div  class="comparison-layout__spacer--empty"> </div>\n\n    </div>\n  </div>\n','<div data-component="onview-animate" data-anim-type="fadeInBottom"> ','<div class="fe_banner fe_banner__accessible ',"fe_banner__scale_small ","fe_banner__w-icon ","fe_banner__w-dismiss ","fe_banner__","fe_banner__w-icon-","fe_banner__bp fe_banner__inherit_font_size ",' " ','" ','role="alert"',"> ",'<i class="fe_banner__icon ','" aria-hidden="true"></i> ','<img class="fe_banner__icon" src="','"> ','<span class="',"fe_banner__icon"," </span> ",'<div class="fe_banner__btn_container"> <div class="fe_banner__btn_container_content"> ','<h3 class="fe_banner__title"> '," </h3> ",'<div class="fe_banner__message"> '," </div> ",'</div> <div class="fe_banner__button"> ',"</div> ",'<span class="fe_banner__dismiss js-close" role="button" tabindex="1" aria-label="',"/private/a11y_cta_close_banner_new/name",'"><i class="bicon-btnclose"></i></span> ',"green","fe_banner__message overlapping-bookings--bp fe_banner__unify"],h=["pob_comparison_component_table","b_lang_is_rtl","fe_track_stage_on_view","comparison_property","hotel_name","hname","active_perfectly_overlapped_bookings","num_bookings","review_nr","total_score","location_details","distance_to_hub","distance_formatted","property_distance_to_airport","airport_name","type","property_distance_to_train","station_name","property_distance_to_metro","property_distance_from_city_center","distance","referenceCityCenterName","hid","main_photo_url","b_dev_server","score","dont_format_score","fe_text","text","fe_subtext","subtext","fe_widget_subtext","sample_size","fe_formatted_sample_size","align","wrapper_tag_name","fe_review_score_word_class_list","fe_review_score","custom_class","review_adj_very_poor","review_adj_poor","review_adj_disappointing","review_adj_average_passable","review_adj_average_okay","review_adj_pleasant","low_score_adjectives","fd_lp_header_rs","review_adj_good","review_adj_very_good","review_adj_fabulous","fe_review_score_word_copy","review_adj_exceptional","fe_widget_text","prepend_text","append_text","fe_score","prefix","fe_score_word_name","suffix","fe_classname","fe_widget_style","style","score_only","fe_widget_layout","layout","fe_widget_align","fe_widget_size","size","fe_badge_style","fe_widget_class","flip","extra_classes","fe_widget_id","widget_id","fe_rating","fe_widget_text_element","text_link_url","text_link_target","fe_rating_adj","fe_widget_subtext_element","subtext_link_url","subtext_link_target","review_score_widget","b_site_type","extra_attributes","track_view","prepend_html","badge_link_url","badge_link_target","fe_formatted_score","fe_is_alt_version","append_html","render","fe_show_overlay","mybooking_url","property_name","district","city","num_nights","total_price_pretty","fe_show_non_free","cancel_fee","unbooked","b_btn_class","b_btn_id","b_btn_text","b_btn_outside_text","b_btn_caption_text","b_btn_tag","b_btn_attr_type","b_btn_attr","b_btn_href","b_btn_extra_classes","b_btn_title","b_btn_rel","b_btn_target","b_btn_data","fe_cbtn_comp_class","fe_cbtn_class","fe_cbtn_type","fe_cbtn_size","fe_cbtn_disabled","fe_cbtn_icon_only","fe_cbtn_icon_left","fe_cbtn_icon_right","fe_cbtn_track_exp","fe_cbtn_track_event","fe_btn_track_event","fe_cbtn_track_goal","fe_cbtn_track_stage","fe_cbtn_is_anchor","fe_cbtn_is_input","fe_cbtn_is_button","fe_cbtn_no_style","b_btn_hotel_url","b_btn_data_hotelid","b_text","b_outside_text","b_caption_text","b_type","b_tag","fe_btn_is_anchor","fe_btn_is_input","fe_btn_is_button","b_id","b_href","fe_btn_no_style","b_extra_classes","b_title","b_attr_type","b_attr","b_rel","b_data_id","b_data_value","b_data_id_2","b_data_value_2","b_data_id_3","b_data_value_3","b_data_id_4","b_data_value_4","b_data_id_5","b_data_value_5","b_target","b_bb_is_sabrered_app","b_hotel_url","b_data_hotelid","b_from_price_inlined","b_add_rt_summary","pb_ss_hp_banner_view_booking_cta","res_is_eligible_for_new_cancellation_flow","cancel_button_et_click","fe_preloader_with_text__min_height_default","fe_preloader_with_text__min_height","fe_preloader_with_text__width_default","fe_preloader_with_text__width","fe_preloader_with_text__spinner_size_default","fe_preloader_with_text__spinner_size","fe_preloader_with_text__spinner_default","fe_preloader_with_text__spinner","fe_preloader_with_text__class","fe_preloader_with_text__text","loading","fe_action","fe_user_auth_level_is_high","all_free_cancellations_and_no_prepayment_only","fe_new_cancel_funnel","fe_stage","new_cancellation_redirect_url","fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK_copy","fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK","cancellation_type_copy","cancellation_type","cancel_summary_url_copy","cancel_summary_url","cancellation_link","b_query_params_delimiter","show_cancel_cta","bookings","fe_banner__data","fe_banner__data_id","fe_banner__data_value","fe_banner__data_id_2","fe_banner__data_value_2","fe_banner__data_id_3","fe_banner__data_value_3","fe_banner__data_id_4","fe_banner__data_value_4","fe_banner__data_id_5","fe_banner__data_value_5","fe_banner__animate","fe_banner__scale","fe_banner__icon_class","fe_banner__icon_img_url","fe_banner__icon_svg","fe_banner__close_button","fe_banner__color_scheme","fe_banner__color_scheme_classes","fe_banner__icon_size","b_action","fe_banner__extra_classes","fe_banner__id","fe_banner__aria_alert","fe_banner__icon_svg_class","fe_banner__btn_include","fe_banner__title_text","fe_banner__message_text","fe_banner__banners_count"];return _r_(function(o){_i_("3bb:5842c3a0");var e="",l=this.fn;function a(e){_i_("3bb:dd370e65"),e+=u[17],l.MN("distance_to_hub",0),e+=u[18],l.MN("property_distance_to_airport",0),e+=u[18],l.MN("property_distance_to_train",0),e+=u[18],l.MN("property_distance_to_metro",0),e+=u[18],l.MN("property_distance_from_city_center",0),e+=u[18],l.MN("fe_show_overlay",0),e+=u[19],l.MJ(4<l.MB(h[8]))&&l.MJ(l.MB(h[9]))&&(e+=u[20],l.MN("fe_show_overlay",1),e+=u[18]),e+=u[19];var t=r,i=a,n=_,a=l.MC(h[10])||[];o.unshift(null);for(var r=1,_=a.length;r<=_;r++){if(o[0]=a[r-1],e+=u[0],l.MN(h[11],[u[21],l.MC(h[12]),u[22]].join("")),e+=u[0],l.MJ(l.MB(h[15])+""=="airport")&&(e+=u[1],l.MN(h[13],[u[8],(o.unshift({hub_name:l.MB(h[14])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[1]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[15])+""=="train_station")&&(e+=u[1],l.MN(h[16],[u[8],(o.unshift({hub_name:l.MB(h[17])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[1]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[15])+""=="metro")&&(e+=u[1],l.MN(h[18],[u[8],(o.unshift({hub_name:l.MB(h[17])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[1]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[15])+""=="city_centre")){e+=u[1];var s="";s+=u[8],l.MJ(0==l.MB(h[20]))?s+=[u[24],l.ME(u[25],l.MB,l.MN,null),u[26]].join(""):s+=[u[27],(o.unshift({city_name:l.MB(h[21]),measurement_unit:u[29],num_distance:l.MB(h[12])}),p=l.ME(u[28],l.MB,l.MN,null),o.shift(),p),u[30]].join(""),s+=u[1],l.MN(h[19],s),e+=u[20]}e+=u[31]}return o.shift(),r=t,a=i,_=n,e+=[u[32],l.MC(h[22]),u[33]].join(""),l.MD(h[23])&&(e+=[u[34],l.STATIC_HOSTNAME(l.MB(h[23]),0,0,0,0),u[35]].join("")),e+=u[36],l.MD(h[93])&&(e+=u[37],o.unshift({sample_size:l.MB(h[8]),score:l.MB(h[9]),style:u[114]}),e=function(e){_i_("3bb:6a664397"),e+=u[38],l.MJ(l.MC(h[24]))&&l.MJ(/,/.test(l.MB(h[25])))&&(e+=u[39]);e+=u[19],l.MJ(l.MB(h[26]))||l.MJ(/,/.test(l.MB(h[25])))?(e+=u[40],l.MN("fe_formatted_score",l.MB(h[25]))):(e+=u[40],l.MN("fe_formatted_score",l.format_review_score_plain(l.MI(0)+l.MI(l.MB(h[25]))))),e+=u[18];e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[28]))?t+=l.MB(h[28]):t+=u[41];t+=u[29],l.MN(h[27],t),e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[30]))?(t+=u[29],l.MJ(l.MB(h[30])+""!="none")&&l.MJ(l.MB(h[27])+""=="none")?t+=u[42]:t+=[u[29],l.MB(h[30]),u[29]].join(""),t+=u[29]):t+=u[41];t+=u[29],l.MN(h[29],t),e+=u[19];var t="";t+=u[29],(l.MJ(l.MB(h[30]))&&l.MJ(l.MB(h[30])+""=="auto")||l.MK(l.MB(h[30])))&&l.MJ(l.MB(h[32]))?(t+=u[29],l.MN("fe_formatted_sample_size",l.format_number(l.MB(h[32]))),t+=[u[29],(o.unshift({num_reviews:l.MB(h[33])}),p=l.VP(u[43],l.MO(l.MI(l.MC(h[32]))+l.MI(0),null,u[43])),o.shift(),p),u[29]].join("")):l.MJ(l.MB(h[30])+""!="none")&&l.MJ(l.MB(h[30])+""!="auto")&&(t+=[u[29],l.MB(h[30]),u[29]].join(""));t+=u[29],l.MN(h[31],t),e+=u[19],l.MN("fe_is_alt_version",l.MJ(l.MB(h[34])+""=="right")),e+=u[19],o.unshift({low_score_adjectives:l.MB(h[45]),score:l.MI(0)+l.MI(l.MB(h[25]))}),e=function(e){_i_("3bb:44c57d03"),e+=u[18],l.MN("fe_review_score",l.MI(l.MB(h[25]))+l.MI(0)),e+=u[19],l.MN("fe_review_score_word_tag",l.MB(h[35])||"p"),e+=u[19],l.MN("fe_review_score_word_class_list","review-score-word"),e+=u[19],l.MJ(7<=l.MB(h[37]))&&(e+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[36])+" review-score-word--highlighted"),e+=u[18]);e+=u[31],l.MD(h[38])&&(e+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[36])+" "+l.MB(h[38])),e+=u[18]);e+=u[17],l.MD(h[45])?(e+=u[20],l.MJ(0<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<3)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[39])),e+=u[45]),e+=u[20],l.MJ(3<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<4)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[40])),e+=u[46]),e+=u[20],l.MJ(4<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<5)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[41])),e+=u[47]),e+=u[20],l.MJ(5<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<5.6)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[42])),e+=u[48]),e+=u[20],l.MJ(5.6<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<6)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[43])),e+=u[49]),e+=u[20],l.MJ(6<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<7)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[44])),e+=u[50])):(e+=u[20],l.MJ(0<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<7)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[46])),e+=u[48])),e+=u[18];e+=u[18],l.MJ(7<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<8)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[47])),e+=u[51]);e+=u[18],l.MJ(8<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<8.6)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[48])),e+=u[48]);e+=u[18],l.MJ(8.6<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<9)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[49])),e+=u[52]);e+=u[31],l.MJ(9<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<9.5)&&(e+=u[48],l.MN(h[50],l.ME(u[53],l.MB,l.MN,null)),e+=u[48]);e+=u[19],l.MJ(9.5<=l.MB(h[37]))&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[51])),e+=u[48]);return e+=u[19],e+=u[18],_r_(e)}(e),o.shift(),e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[28]))&&l.MJ(l.MB(h[28])+""=="auto")||(l.MK(l.MB(h[28]))||l.MJ(l.MB(h[28])+""=="none"))&&l.MJ(l.MB(h[31])+""!="")?t+=[u[29],l.MB(h[50]),u[29]].join(""):l.MJ(l.MB(h[28]))&&l.MJ(l.MB(h[28])+""!="none")&&(t+=[u[29],l.MB(h[28]),u[29]].join(""));t+=u[29],l.MN(h[52],t),e+=u[31],l.MD(h[52])&&(e+=u[40],l.MN("fe_widget_text",l.MB(h[53])+""+l.MB(h[52])+l.MB(h[54])),e+=u[18]);e+=u[19],l.MN("score_only",l.MJ(l.MB(h[52])+""=="")&&l.MJ(l.MB(h[31])+""=="")),e+=u[38],o.unshift({prefix:u[57],score:l.MI(0)+l.MI(l.MB(h[25]))}),i=e,_i_("3bb:f5acfbef"),i+=u[17],l.MN("fe_score",l.MI(l.MB(h[25]))+l.MI(0)),i+=u[19],l.MN("fe_score_word_name",""),i+=u[18],l.MJ(0<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<3)&&(i+=u[40],l.MN("fe_score_word_name","very_poor"),i+=u[18]),i+=u[31],l.MJ(3<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<4)&&(i+=u[40],l.MN("fe_score_word_name","poor"),i+=u[18]),i+=u[31],l.MJ(4<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<5)&&(i+=u[40],l.MN("fe_score_word_name","disappointing"),i+=u[18]),i+=u[31],l.MJ(5<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<5.6)&&(i+=u[40],l.MN("fe_score_word_name","average_passable"),i+=u[18]),i+=u[31],l.MJ(5.6<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<6)&&(i+=u[40],l.MN("fe_score_word_name","average_okay"),i+=u[18]),i+=u[31],l.MJ(6<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<7)&&(i+=u[40],l.MN("fe_score_word_name","pleasant"),i+=u[18]),i+=u[31],l.MJ(7<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<8)&&(i+=u[40],l.MN("fe_score_word_name","good"),i+=u[18]),i+=u[31],l.MJ(8<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<8.6)&&(i+=u[40],l.MN("fe_score_word_name","very_good"),i+=u[18]),i+=u[31],l.MJ(8.6<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<9)&&(i+=u[40],l.MN("fe_score_word_name","fabulous"),i+=u[18]),i+=u[31],l.MJ(9<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<9.5)&&(i+=u[40],l.MN("fe_score_word_name","superb"),i+=u[18]),i+=u[31],l.MJ(9.5<=l.MB(h[55]))&&(i+=u[40],l.MN("fe_score_word_name","exceptional"),i+=u[18]),i+=u[19],l.MN("fe_classname",""),i+=u[18],l.MJ(0<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<=10)&&(i+=u[54],l.MN("fe_classname",l.MB(h[56])+""+l.MB(h[57])+l.MB(h[58])),i+=u[55],l.MJ(l.MB(h[55])<7)&&(i+=u[56],l.MN("fe_classname",l.MB(h[59])+" "+l.MB(h[56])+"low"+l.MB(h[58])),i+=u[40]),i+=u[31]),i+=u[18],e=_r_(i),o.shift(),e+=u[18],l.MN("fe_widget_class",l.MB(h[59])),e+=u[31],l.MJ(l.MB(h[25])<1)&&(e+=u[40],l.MN("fe_widget_class","review-score-widget__empty"),e+=u[18]);var i;e+=u[17];var t="";l.MD(h[61])&&(t+=[u[57],l.F.entities(l.MB(h[61])),u[48]].join(""));l.MD(h[62])&&(t+=u[58]);l.MN(h[60],t),e+=u[17];var t="";l.MJ(l.MB(h[64]))&&l.MK(l.MB(h[62]))&&(t+=[u[57],l.F.entities(l.MB(h[64])),u[48]].join(""));l.MN(h[63],t),e+=u[17];var t="";l.MJ(l.MB(h[34])+""=="right")&&l.MK(l.MB(h[62]))&&(t+=[u[57],l.F.entities(l.MB(h[34])),u[48]].join(""));l.MN(h[65],t),e+=u[17];var t="";l.MJ(l.MB(h[67])+""=="smaller")?t+=u[59]:l.MJ(l.MB(h[67])+""=="small")?t+=u[60]:l.MJ(l.MB(h[67])+""=="large")?t+=u[61]:l.MJ(l.MB(h[67])+""=="larger")&&(t+=u[62]);l.MN(h[66],t),e+=u[19];var t="";(l.MJ(l.MB(h[61])+""=="outlined")||l.MJ(l.MB(h[61])+""=="text-only"))&&(t+=[l.F.entities(l.MB(h[61])),u[48]].join(""));l.MN(h[68],t),e+=u[19];var t="";t+=[u[63],l.F.entities(l.MB(h[69])),u[48],l.F.entities(l.MB(h[60])),u[48],l.F.entities(l.MB(h[63])),u[48],l.F.entities(l.MB(h[65])),u[48],l.F.entities(l.MB(h[66])),u[48]].join(""),l.MK(l.MB(h[31]))&&(t+=u[64]);t+=u[48],l.MD(h[70])&&(t+=u[65]);t+=u[48],l.MD(h[71])&&(t+=[u[48],l.F.entities(l.MB(h[71]))].join(""));t+=u[48],l.MN(h[69],t),e+=u[19];var t="";l.MD(h[73])&&(t+=[u[66],l.MB(h[73]),u[67]].join(""));l.MN(h[72],t),n=e+=u[68],_i_("3bb:2281b9e0"),l.MN("fe_rating",l.MI(l.MB(h[25]))+l.MI(0)),n+=u[19],l.MN("fe_rating_adj",""),n+=u[18],l.MJ(0<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<3)&&(n+=u[40],l.MN("fe_rating_adj","1"),n+=u[18]),n+=u[31],l.MJ(3<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<4)&&(n+=u[40],l.MN("fe_rating_adj","2"),n+=u[18]),n+=u[31],l.MJ(4<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<5)&&(n+=u[40],l.MN("fe_rating_adj","3"),n+=u[18]),n+=u[31],l.MJ(5<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<5.6)&&(n+=u[40],l.MN("fe_rating_adj","4"),n+=u[18]),n+=u[31],l.MJ(5.6<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<6)&&(n+=u[40],l.MN("fe_rating_adj","5"),n+=u[18]),n+=u[31],l.MJ(6<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<7)&&(n+=u[40],l.MN("fe_rating_adj","6"),n+=u[18]),n+=u[31],l.MJ(7<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<8)&&(n+=u[40],l.MN("fe_rating_adj","7"),n+=u[18]),n+=u[31],l.MJ(8<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<8.6)&&(n+=u[40],l.MN("fe_rating_adj","8"),n+=u[18]),n+=u[31],l.MJ(8.6<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<9)&&(n+=u[40],l.MN("fe_rating_adj","9"),n+=u[18]),n+=u[31],l.MJ(9<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<9.5)&&(n+=u[40],l.MN("fe_rating_adj","10"),n+=u[18]),n+=u[31],l.MJ(9.5<=l.MB(h[74]))&&(n+=u[40],l.MN("fe_rating_adj","11"),n+=u[18]),e=_r_(n),e+=u[31],e+=u[31];var n;var t="";t+=u[40],l.MD(h[52])&&(t+=u[69],l.MD(h[76])?(t+=[u[70],l.MB(h[76]),u[67]].join(""),l.MD(h[77])&&(t+=[u[71],l.MB(h[77]),u[67]].join(""))):t+=u[72],t+=[u[73],(o.unshift({rating_adjective:l.MB(h[78])}),p=l.ME(u[74],l.MB,l.MN,null),o.shift(),p),u[75],l.MB(h[52]),u[76]].join(""),l.MD(h[76])?t+=u[77]:t+=u[72],t+=u[78]);t+=u[18],l.MN(h[75],t),e+=u[31];var t="";t+=u[40],l.MD(h[31])&&(t+=u[69],l.MD(h[80])?(t+=[u[70],l.MB(h[80]),u[67]].join(""),l.MD(h[81])&&(t+=[u[71],l.MB(h[81]),u[67]].join(""))):t+=u[79],t+=[u[80],(o.unshift({num_reviews:l.MB(h[33])}),p=l.ME(u[81],l.MB,l.MN,null),o.shift(),p),u[82],l.F.entities(l.MB(h[31])),u[76]].join(""),l.MD(h[80])?t+=u[77]:t+=u[72],t+=u[78]);t+=u[18],l.MN(h[79],t),e+=u[83];var t="";t+=[u[84],l.MB(h[72]),u[85]].join(""),t+=l.F.entities(l.MB(h[69])),l.MJ(l.MC(h[24]))&&l.MJ(l.MC(h[83])+""=="www")&&l.MJ(!1)&&(t+=u[86]);t+=u[87],l.MD(h[84])&&(t+=[u[88],l.MB(h[84]),u[89]].join(""));t+=u[89],l.MD(h[85])&&(t+=[u[90],l.MC(h[85]),u[87]].join(""));t+=u[91],l.MJ(l.MB(h[25])<1)?t+=u[92]:(t+=u[93],l.MD(h[86])&&(t+=[u[89],l.MB(h[86]),u[56]].join("")),t+=u[94],l.MD(h[90])?(t+=u[95],l.MJ(l.MB(h[64])+""=="inline")?t=b(t+=[u[96],l.MB(h[79]),u[88],l.MB(h[75]),u[88]].join("")):(t+=u[88],l.MJ(l.MB(h[61])+""=="text-only")?(t=d(t+=[u[103],l.MB(h[75]),u[104]].join("")),t+=[u[104],l.MB(h[79]),u[88]].join("")):(t+=u[103],(l.MJ(l.MB(h[52]))||l.MJ(l.MB(h[31])))&&(t+=[u[105],l.MB(h[75]),u[106],l.MB(h[79]),u[107]].join("")),t=d(t+=u[104]),t+=u[88])),t+=u[89]):(t+=u[95],l.MJ(l.MB(h[61])+""=="text-only")||l.MJ(l.MB(h[64])+""=="inline")?(t=b(t+=u[96]),t+=[u[88],l.MB(h[75]),u[88],l.MB(h[79]),u[89]].join("")):(t=b(t+=u[96]),t+=u[88],(l.MJ(l.MB(h[52]))||l.MJ(l.MB(h[31])))&&(t+=[u[108],l.MB(h[75]),u[109],l.MB(h[79]),u[110]].join("")),t+=u[89])),t+=u[93],t+=u[93],l.MD(h[91])&&(t+=[u[89],l.MB(h[91]),u[56]].join("")),t+=u[93]);t+=u[111],l.MN(h[82],t),e+=u[112],l.MN(h[28],void 0),e+=u[18],l.MN(h[30],void 0),e+=u[18],l.MN(h[25],void 0),e+=u[18],l.MN(h[32],void 0),e+=u[18],l.MN(h[92],void 0),e+=u[18],l.MN(h[71],void 0),e+=u[18],l.MN(h[84],void 0),e+=u[18],l.MN(h[67],void 0),e+=u[18],l.MN(h[61],void 0),e+=u[18],l.MN(h[64],void 0),e+=u[18],l.MN(h[34],void 0),e+=u[18],l.MN(h[45],void 0),e+=u[18],l.MN(h[73],void 0),e+=u[83],l.MJ(l.MB(h[92])+""=="no")?e+=u[113]:e+=[u[55],l.MB(h[82]),u[18]].join("");return e+=u[18],_r_(e)}(e),o.shift(),e+=u[115]),e+=u[116],l.MD(h[94])?e+=[u[117],l.MC(h[94]),u[118],l.MC(h[95]),u[119],l.MC(h[95]),u[120]].join(""):e+=[u[121],l.MC(h[95]),u[26]].join(""),e+=u[122],(l.MJ(l.MB(h[96]))||l.MJ(l.MB(h[97])))&&(e+=u[123],l.MD(h[96])&&(e+=[u[124],l.MC(h[96]),u[125]].join("")),e+=u[126],l.MD(h[97])&&(e+=[u[124],l.MC(h[97]),u[126]].join("")),e+=u[127],l.MD(h[19])&&(e+=[u[126],l.MC(h[19]),u[128]].join("")),e+=u[129]),e+=u[130],l.MD(h[13])&&(e+=[u[131],l.MC(h[13]),u[132]].join("")),e+=u[130],l.MD(h[18])&&(e+=[u[133],l.MC(h[18]),u[132]].join("")),e+=u[130],l.MD(h[16])&&(e+=[u[134],l.MC(h[16]),u[135]].join("")),e+=[u[136],l.ME(u[137],l.MB,l.MN,l.MO(l.MC(h[98]),null,u[137])),u[138],l.MC(h[99]),u[139]].join(""),l.MJ(l.MB(h[100]))&&l.MJ(0<l.MC(h[101]).amount)&&(e+=[u[140],l.ME(u[141],l.MB,l.MN,null),u[142]].join("")),e+=u[143],l.MD(h[102])?e+=[u[144],l.ME(u[145],l.MB,l.MN,null),u[146]].join(""):(e=function(e){_i_("3bb:bdd29d5d"),e+=u[38],l.MJ(l.MC(h[83])+""=="mdot")?e+=[u[147],l.MC(h[94]),u[148],l.ME(u[149],l.MB,l.MN,null),u[150]].join(""):(e+=u[0],o.unshift({b_extra_classes:u[189],b_href:l.MB(h[94]),b_tag:u[77],b_target:u[190],b_text:l.MB(h[168]),b_type:u[191]}),e=function(e){_i_("3bb:0c3e027e"),e+=u[17],l.MN(h[103],u[151]),e+=u[18],l.MN(h[104],void 0),e+=u[18],l.MN(h[105],u[152]),e+=u[18],l.MN(h[106],void 0),e+=u[18],l.MN(h[107],void 0),e+=u[18],l.MN(h[108],u[153]),e+=u[18],l.MN(h[109],void 0),e+=u[18],l.MN(h[110],void 0),e+=u[18],l.MN(h[111],void 0),e+=u[18],l.MN(h[112],void 0),e+=u[18],l.MN(h[113],void 0),e+=u[18],l.MN(h[114],void 0),e+=u[18],l.MN(h[115],void 0),e+=u[18],l.MN(h[116],void 0),e+=u[19],l.MN(h[117],u[154]),e+=u[31],l.MN(h[118],void 0),e+=u[18],l.MN(h[119],void 0),e+=u[18],l.MN(h[120],void 0),e+=u[18],l.MN(h[121],void 0),e+=u[18],l.MN(h[122],void 0),e+=u[18],l.MN(h[123],void 0),e+=u[18],l.MN(h[124],void 0),e+=u[18],l.MN(h[125],void 0),e+=u[31],l.MD(h[127])?(e+=u[40],l.MN(h[126],l.F.entities(l.MC(h[127])))):(e+=u[40],l.MN(h[126],void 0)),e+=u[18],e+=u[31],l.MN(h[128],void 0),e+=u[18],l.MN(h[129],void 0),e+=u[31],l.MN(h[130],u[155]),e+=u[18],l.MN(h[131],u[155]),e+=u[18],l.MN(h[132],u[155]),e+=u[31],l.MN(h[133],u[155]),e+=u[19],l.MN(h[134],void 0),e+=u[18],l.MN(h[135],void 0),e+=u[31],l.MD(h[136])&&(e+=u[40],l.MN(h[105],l.MC(h[136])),e+=u[18]),e+=u[31],l.MD(h[137])&&(e+=u[40],l.MN(h[106],l.MC(h[137])),e+=u[18]),e+=u[31],l.MD(h[138])&&(e+=u[40],l.MN(h[107],l.MC(h[138])),e+=u[18]),e+=u[31];var t=l.MC(h[139]);if(l.MJ(t+""=="primary")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[156]].join("")),e+=u[40]):l.MJ(t+""=="secondary")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[157]].join("")),e+=u[40]):l.MJ(t+""=="warning")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[158]].join("")),e+=u[40]):l.MJ(t+""=="disabled")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[159]].join("")),e+=u[40]):l.MJ(t+""=="primary-small")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[160]].join("")),e+=u[40]):l.MJ(t+""=="secondary-small")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[161]].join("")),e+=u[40]):l.MJ(t+""=="warning-small")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[162]].join("")),e+=u[40]):l.MJ(t+""=="primary-flat")&&(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[163]].join("")),e+=u[18]),e+=u[31],l.MD(h[140])&&(e+=u[40],l.MN(h[108],l.MC(h[140])),e+=u[54],l.MJ(/^a$/i.test(l.MC(h[108])))&&l.MN(h[141],u[164]),e+=u[40],l.MJ(/^input$/i.test(l.MC(h[108])))&&l.MN(h[142],u[164]),e+=u[40],l.MJ(/^button$/i.test(l.MC(h[108])))&&l.MN(h[143],u[164]),e+=u[18]),e+=u[31],l.MD(h[144])&&(e+=u[40],l.MN(h[104],[u[66],l.F.entities(l.MC(h[144])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[145])&&(e+=u[40],l.MN(h[111],[u[165],l.F.entities(l.MC(h[145])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[146])&&(e+=u[40],l.MN(h[133],l.F.entities(l.MC(h[146]))),e+=u[18]),e+=u[31],l.MD(h[147])){e+=u[40];var i="";l.MD(h[133])||(i+=l.F.entities(l.MC(h[103]))),i+=[u[48],l.F.entities(l.MC(h[147]))].join(""),l.MN(h[103],i),e+=u[18]}return e+=u[31],l.MD(h[148])&&(e+=u[40],l.MN(h[113],[u[166],l.F.entities(l.MC(h[148])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[149])&&(e+=u[40],l.MN(h[109],[u[167],l.F.entities(l.MC(h[149])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[150])&&(e+=u[40],l.MN(h[110],l.MC(h[150])),e+=u[18]),e+=u[31],l.MD(h[151])&&(e+=u[40],l.MN(h[114],[u[168],l.F.entities(l.MC(h[151])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[152])&&(e+=u[1],l.MN(h[116],[u[169],l.F.entities(l.MC(h[152])),u[170],l.F.entities(l.MC(h[153])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[154])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[154])),u[170],l.F.entities(l.MC(h[155])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[156])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[156])),u[170],l.F.entities(l.MC(h[157])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[158])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[158])),u[170],l.F.entities(l.MC(h[159])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[160])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[160])),u[170],l.F.entities(l.MC(h[161])),u[67]].join("")),e+=u[18]),e+=u[31],l.MJ(l.MC(h[162]))&&l.MK(l.MC(h[163]))&&(e+=u[40],l.MN(h[115],[u[172],l.F.entities(l.MC(h[162])),u[67]].join("")),e+=u[18]),e+=u[17],l.MD(h[164])&&(e+=u[40],l.MN(h[134],[u[173],l.F.entities(l.MC(h[164])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[165])&&(e+=u[40],l.MN(h[135],[u[174],l.F.entities(l.MC(h[165])),u[67]].join("")),e+=u[18]),e+=[u[175],l.F.entities(l.MC(h[108])),u[176],l.MC(h[103]),u[177],l.MC(h[111]),u[40],l.MC(h[104]),u[40],l.MC(h[109]),u[40],l.MC(h[110]),u[40],l.MC(h[113]),u[1],l.MC(h[114]),u[40],l.MC(h[116]),u[40],l.MC(h[115]),u[40],l.MC(h[134]),u[40],l.F.entities(l.MC(h[135])),u[130]].join(""),l.MD(h[126])&&(e+=[u[178],l.F.entities(l.MC(h[126])),u[179]].join("")),e+=u[54],l.MJ(l.MC(h[108])+""=="input")?e+=[u[180],l.F.entities(l.MC(h[105])),u[181]].join(""):(e+=[u[182],l.MC(h[105]),u[183]].join(""),l.MD(h[106])&&(e+=u[184],l.MD(h[166])&&(e+=u[185]),e+=[u[186],l.MC(h[106]),u[183]].join("")),e+=u[93],l.MD(h[167])&&(e+=u[187]),e+=[u[188],l.F.entities(l.MC(h[108])),u[78]].join("")),e+=u[18],_r_(e)}(e),o.shift(),e+=u[31]);e+=u[31],l.MN("fe_new_cancel_funnel",l.MB(h[169])),e+=u[18];var t="";t+=u[48],l.MN(h[170],t),e+=u[31],l.MJ(l.MB(h[182])+""=="confirmation")&&l.MJ(l.MB(h[183]))&&l.MJ(l.MB(h[184]))&&l.MK(l.MB(h[185]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[181])}),e=c(e),o.shift(),e+=u[208]);e+=u[31],l.MJ(2==l.MB(h[186]))&&l.MJ(1==l.MB(h[183]))&&l.MJ(1==l.MB(h[184]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[181])}),e=c(e),o.shift(),e+=u[208]);if(e+=u[31],l.MD(h[196])){if(e+=u[1],l.MD(h[185]))e+=[u[209],l.F.entities(l.MC(h[187])),u[210],l.F.entities(l.MC(h[170])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");else if(l.MJ(l.MB(h[182])+""=="confirmation")&&l.MJ(l.MB(h[183]))&&l.MJ(l.MB(h[184]))){e+=u[214];var t="";l.MD(h[189])&&(t+=u[215]),l.MN(h[188],t),e+=u[9],l.MN(h[190],[u[216],l.F.entities(l.MC(h[191]))].join("")),e+=u[9],l.MN(h[192],l.MC(h[193])),e+=[u[217],l.F.entities(l.MC(h[192])),u[218],l.F.entities(l.MC(h[190])),u[219],l.F.entities(l.MC(h[188])),u[220],l.F.entities(l.MC(h[170])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else if(l.MJ(2==l.MB(h[186]))&&l.MJ(1==l.MB(h[183]))&&l.MJ(1==l.MB(h[184]))){e+=u[214];var t="";l.MD(h[189])&&(t+=u[215]),l.MN(h[188],t),e+=u[9],l.MN(h[190],[u[216],l.F.entities(l.MC(h[191]))].join("")),e+=u[9],l.MN(h[192],l.MC(h[193])),e+=[u[221],l.F.entities(l.MC(h[192])),u[218],l.F.entities(l.MC(h[190])),u[219],l.F.entities(l.MC(h[188])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else e+=u[214],l.MN(h[194],[l.MC(h[94]),l.F.entities(l.MC(h[195])),u[222]].join("")),e+=[u[223],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");e+=u[18]}return e+=u[18],_r_(e)}(e+=u[8]),e+=u[1]),e+=u[224],_r_(e)}function r(e){_i_("3bb:2987b6f8"),e+=u[31];var t="";t+=u[1],l.MD(h[172])?t+=l.MC(h[172]):t+=u[193],t+=u[18],l.MN(h[171],t),e+=u[31];t="";t+=u[1],l.MD(h[174])?t+=l.MC(h[174]):t+=u[194],t+=u[18],l.MN(h[173],t),e+=u[31];t="";t+=u[1],l.MD(h[176])?t+=l.MC(h[176]):t+=u[195],t+=u[18],l.MN(h[175],t),e+=u[31];t="";return l.MD(h[178])?t+=l.MC(h[178]):t+=u[196],l.MN(h[177],t),e+=[u[197],l.MC(h[179]),u[198],l.F.entities(l.MC(h[171])),u[199],l.F.entities(l.MC(h[173])),u[200],l.STATIC_HOSTNAME("/static/img/ajax-loaders/"+l.MB(h[177]),0,0,0,0),u[201],l.F.entities(l.MC(h[175])),u[202]].join(""),l.MD(h[180])?e+=[u[203],l.MC(h[180]),u[204]].join(""):e+=[u[203],l.ME(u[205],l.MB,l.MN,null),u[206]].join(""),e+=u[207],_r_(e)}function c(e){_i_("3bb:b59ecad0"),e+=u[31];var t="";t+=u[1],l.MD(h[172])?t+=l.MC(h[172]):t+=u[193],t+=u[18],l.MN(h[171],t),e+=u[31];t="";t+=u[1],l.MD(h[174])?t+=l.MC(h[174]):t+=u[194],t+=u[18],l.MN(h[173],t),e+=u[31];t="";t+=u[1],l.MD(h[176])?t+=l.MC(h[176]):t+=u[195],t+=u[18],l.MN(h[175],t),e+=u[31];t="";return l.MD(h[178])?t+=l.MC(h[178]):t+=u[196],l.MN(h[177],t),e+=[u[197],l.MC(h[179]),u[198],l.F.entities(l.MC(h[171])),u[199],l.F.entities(l.MC(h[173])),u[200],l.STATIC_HOSTNAME("/static/img/ajax-loaders/"+l.MB(h[177]),0,0,0,0),u[201],l.F.entities(l.MC(h[175])),u[202]].join(""),l.MD(h[180])?e+=[u[203],l.MC(h[180]),u[204]].join(""):e+=[u[203],l.ME(u[205],l.MB,l.MN,null),u[206]].join(""),e+=u[207],_r_(e)}function _(e){return _i_("3bb:ab390db6"),e+=u[97],l.MD(h[87])?(e+=[u[70],l.MB(h[87]),u[67]].join(""),l.MD(h[88])&&(e+=[u[71],l.MB(h[88]),u[67]].join(""))):e+=u[72],e+=[u[98],(o.unshift({review_score_number:l.MB(h[89])}),p=l.ME(u[99],l.MB,l.MN,null),o.shift(),p),u[100],l.F.entities(l.MB(h[89])),u[101]].join(""),l.MD(h[87])?e+=u[77]:e+=u[72],e+=u[102],_r_(e)}function d(e){return _i_("3bb:a03ea915"),e+=u[97],l.MD(h[87])?(e+=[u[70],l.MB(h[87]),u[67]].join(""),l.MD(h[88])&&(e+=[u[71],l.MB(h[88]),u[67]].join(""))):e+=u[72],e+=[u[98],(o.unshift({review_score_number:l.MB(h[89])}),p=l.ME(u[99],l.MB,l.MN,null),o.shift(),p),u[100],l.F.entities(l.MB(h[89])),u[101]].join(""),l.MD(h[87])?e+=u[77]:e+=u[72],e+=u[102],_r_(e)}function b(e){return _i_("3bb:47834992"),e+=u[97],l.MD(h[87])?(e+=[u[70],l.MB(h[87]),u[67]].join(""),l.MD(h[88])&&(e+=[u[71],l.MB(h[88]),u[67]].join(""))):e+=u[72],e+=[u[98],(o.unshift({review_score_number:l.MB(h[89])}),p=l.ME(u[99],l.MB,l.MN,null),o.shift(),p),u[100],l.F.entities(l.MB(h[89])),u[101]].join(""),l.MD(h[87])?e+=u[77]:e+=u[72],e+=u[102],_r_(e)}e+=u[0];var t="";return t+=u[1],o.unshift({active_perfectly_overlapped_bookings:l.MB(h[197])}),t=function(e){if(_i_("3bb:2c9bd5c2"),l.MD(h[6])){e+=u[2],l.MD(h[1])?e+=u[3]:e+=u[4],e+=u[5],l.MD(h[2])&&(e+=[u[6],l.MC(h[2]),u[7]].join("")),e+=u[1],l.MD(h[3])&&(e+=u[8],l.MJ(s=l.MC(h[3]))&&!l.IS_EMPTY_OBJECT(s)&&(o.unshift(s),e+=u[9],l.MN(h[4],[u[10],l.MC(h[5]),u[11]].join("")),e+=u[9],l.MN("num_bookings",l.array_length(l.MB(h[6]))),e+=[u[12],l.ME(u[13],l.MB,l.MN,l.MO(l.MC(h[7]),null,u[13])),u[14]].join(""),o.shift()),e+=u[1]),e+=u[15],l.MD(h[3])&&(e+=u[9],l.MJ(s=l.MC(h[3]))&&!l.IS_EMPTY_OBJECT(s)&&(o.unshift(s),e+=u[16],o.unshift({b_lang_is_rtl:l.MC(h[1]),b_site_type:l.MC(h[83]),fe_show_non_free:u[155],hid:l.MB(h[22]),mybooking_url:l.MB(h[94]),num_nights:l.MB(h[98]),property_name:l.MB(h[5]),total_price_pretty:l.MB(h[99])}),e=function(e){_i_("3bb:6275d2b2"),e+=u[17],l.MN("distance_to_hub",0),e+=u[18],l.MN("property_distance_to_airport",0),e+=u[18],l.MN("property_distance_to_train",0),e+=u[18],l.MN("property_distance_to_metro",0),e+=u[18],l.MN("property_distance_from_city_center",0),e+=u[18],l.MN("fe_show_overlay",0),e+=u[19],l.MJ(4<l.MB(h[8]))&&l.MJ(l.MB(h[9]))&&(e+=u[20],l.MN("fe_show_overlay",1),e+=u[18]),e+=u[19];var t=l.MC(h[10])||[];o.unshift(null);for(var i=1,n=t.length;i<=n;i++){if(o[0]=t[i-1],e+=u[0],l.MN(h[11],[u[21],l.MC(h[12]),u[22]].join("")),e+=u[0],l.MJ(l.MB(h[15])+""=="airport")&&(e+=u[1],l.MN(h[13],[u[8],(o.unshift({hub_name:l.MB(h[14])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[1]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[15])+""=="train_station")&&(e+=u[1],l.MN(h[16],[u[8],(o.unshift({hub_name:l.MB(h[17])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[1]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[15])+""=="metro")&&(e+=u[1],l.MN(h[18],[u[8],(o.unshift({hub_name:l.MB(h[17])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[1]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[15])+""=="city_centre")){e+=u[1];var a="";a+=u[8],l.MJ(0==l.MB(h[20]))?a+=[u[24],l.ME(u[25],l.MB,l.MN,null),u[26]].join(""):a+=[u[27],(o.unshift({city_name:l.MB(h[21]),measurement_unit:u[29],num_distance:l.MB(h[12])}),p=l.ME(u[28],l.MB,l.MN,null),o.shift(),p),u[30]].join(""),a+=u[1],l.MN(h[19],a),e+=u[20]}e+=u[31]}return o.shift(),e+=[u[32],l.MC(h[22]),u[33]].join(""),l.MD(h[23])&&(e+=[u[34],l.STATIC_HOSTNAME(l.MB(h[23]),0,0,0,0),u[35]].join("")),e+=u[36],l.MD(h[93])&&(e+=u[37],o.unshift({sample_size:l.MB(h[8]),score:l.MB(h[9]),style:u[114]}),e=function(e){_i_("3bb:296e94e7"),e+=u[38],l.MJ(l.MC(h[24]))&&l.MJ(/,/.test(l.MB(h[25])))&&(e+=u[39]),e+=u[19],l.MJ(l.MB(h[26]))||l.MJ(/,/.test(l.MB(h[25])))?(e+=u[40],l.MN("fe_formatted_score",l.MB(h[25]))):(e+=u[40],l.MN("fe_formatted_score",l.format_review_score_plain(l.MI(0)+l.MI(l.MB(h[25]))))),e+=u[18],e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[28]))?t+=l.MB(h[28]):t+=u[41],t+=u[29],l.MN(h[27],t),e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[30]))?(t+=u[29],l.MJ(l.MB(h[30])+""!="none")&&l.MJ(l.MB(h[27])+""=="none")?t+=u[42]:t+=[u[29],l.MB(h[30]),u[29]].join(""),t+=u[29]):t+=u[41],t+=u[29],l.MN(h[29],t),e+=u[19];var i,t="";t+=u[29],(l.MJ(l.MB(h[30]))&&l.MJ(l.MB(h[30])+""=="auto")||l.MK(l.MB(h[30])))&&l.MJ(l.MB(h[32]))?(t+=u[29],l.MN("fe_formatted_sample_size",l.format_number(l.MB(h[32]))),t+=[u[29],(o.unshift({num_reviews:l.MB(h[33])}),p=l.VP(u[43],l.MO(l.MI(l.MC(h[32]))+l.MI(0),null,u[43])),o.shift(),p),u[29]].join("")):l.MJ(l.MB(h[30])+""!="none")&&l.MJ(l.MB(h[30])+""!="auto")&&(t+=[u[29],l.MB(h[30]),u[29]].join("")),t+=u[29],l.MN(h[31],t),e+=u[19],l.MN("fe_is_alt_version",l.MJ(l.MB(h[34])+""=="right")),e+=u[19],o.unshift({low_score_adjectives:l.MB(h[45]),score:l.MI(0)+l.MI(l.MB(h[25]))}),i=e,_i_("3bb:db35d164"),i+=u[18],l.MN("fe_review_score",l.MI(l.MB(h[25]))+l.MI(0)),i+=u[19],l.MN("fe_review_score_word_tag",l.MB(h[35])||"p"),i+=u[19],l.MN("fe_review_score_word_class_list","review-score-word"),i+=u[19],l.MJ(7<=l.MB(h[37]))&&(i+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[36])+" review-score-word--highlighted"),i+=u[18]),i+=u[31],l.MD(h[38])&&(i+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[36])+" "+l.MB(h[38])),i+=u[18]),i+=u[17],l.MD(h[45])?(i+=u[20],l.MJ(0<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<3)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[39])),i+=u[45]),i+=u[20],l.MJ(3<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<4)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[40])),i+=u[46]),i+=u[20],l.MJ(4<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<5)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[41])),i+=u[47]),i+=u[20],l.MJ(5<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<5.6)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[42])),i+=u[48]),i+=u[20],l.MJ(5.6<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<6)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[43])),i+=u[49]),i+=u[20],l.MJ(6<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<7)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[44])),i+=u[50])):(i+=u[20],l.MJ(0<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<7)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[46])),i+=u[48])),i+=u[18],i+=u[18],l.MJ(7<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<8)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[47])),i+=u[51]),i+=u[18],l.MJ(8<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<8.6)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[48])),i+=u[48]),i+=u[18],l.MJ(8.6<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<9)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[49])),i+=u[52]),i+=u[31],l.MJ(9<=l.MB(h[37]))&&l.MJ(l.MB(h[37])<9.5)&&(i+=u[48],l.MN(h[50],l.ME(u[53],l.MB,l.MN,null)),i+=u[48]),i+=u[19],l.MJ(9.5<=l.MB(h[37]))&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[51])),i+=u[48]),i+=u[19],i+=u[18],e=_r_(i),o.shift(),e+=u[31];var n,t="";t+=u[29],l.MJ(l.MB(h[28]))&&l.MJ(l.MB(h[28])+""=="auto")||(l.MK(l.MB(h[28]))||l.MJ(l.MB(h[28])+""=="none"))&&l.MJ(l.MB(h[31])+""!="")?t+=[u[29],l.MB(h[50]),u[29]].join(""):l.MJ(l.MB(h[28]))&&l.MJ(l.MB(h[28])+""!="none")&&(t+=[u[29],l.MB(h[28]),u[29]].join("")),t+=u[29],l.MN(h[52],t),e+=u[31],l.MD(h[52])&&(e+=u[40],l.MN("fe_widget_text",l.MB(h[53])+""+l.MB(h[52])+l.MB(h[54])),e+=u[18]),e+=u[19],l.MN("score_only",l.MJ(l.MB(h[52])+""=="")&&l.MJ(l.MB(h[31])+""=="")),e+=u[38],o.unshift({prefix:u[57],score:l.MI(0)+l.MI(l.MB(h[25]))}),n=e,_i_("3bb:8d518ef3"),n+=u[17],l.MN("fe_score",l.MI(l.MB(h[25]))+l.MI(0)),n+=u[19],l.MN("fe_score_word_name",""),n+=u[18],l.MJ(0<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<3)&&(n+=u[40],l.MN("fe_score_word_name","very_poor"),n+=u[18]),n+=u[31],l.MJ(3<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<4)&&(n+=u[40],l.MN("fe_score_word_name","poor"),n+=u[18]),n+=u[31],l.MJ(4<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<5)&&(n+=u[40],l.MN("fe_score_word_name","disappointing"),n+=u[18]),n+=u[31],l.MJ(5<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<5.6)&&(n+=u[40],l.MN("fe_score_word_name","average_passable"),n+=u[18]),n+=u[31],l.MJ(5.6<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<6)&&(n+=u[40],l.MN("fe_score_word_name","average_okay"),n+=u[18]),n+=u[31],l.MJ(6<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<7)&&(n+=u[40],l.MN("fe_score_word_name","pleasant"),n+=u[18]),n+=u[31],l.MJ(7<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<8)&&(n+=u[40],l.MN("fe_score_word_name","good"),n+=u[18]),n+=u[31],l.MJ(8<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<8.6)&&(n+=u[40],l.MN("fe_score_word_name","very_good"),n+=u[18]),n+=u[31],l.MJ(8.6<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<9)&&(n+=u[40],l.MN("fe_score_word_name","fabulous"),n+=u[18]),n+=u[31],l.MJ(9<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<9.5)&&(n+=u[40],l.MN("fe_score_word_name","superb"),n+=u[18]),n+=u[31],l.MJ(9.5<=l.MB(h[55]))&&(n+=u[40],l.MN("fe_score_word_name","exceptional"),n+=u[18]),n+=u[19],l.MN("fe_classname",""),n+=u[18],l.MJ(0<=l.MB(h[55]))&&l.MJ(l.MB(h[55])<=10)&&(n+=u[54],l.MN("fe_classname",l.MB(h[56])+""+l.MB(h[57])+l.MB(h[58])),n+=u[55],l.MJ(l.MB(h[55])<7)&&(n+=u[56],l.MN("fe_classname",l.MB(h[59])+" "+l.MB(h[56])+"low"+l.MB(h[58])),n+=u[40]),n+=u[31]),n+=u[18],e=_r_(n),o.shift(),e+=u[18],l.MN("fe_widget_class",l.MB(h[59])),e+=u[31],l.MJ(l.MB(h[25])<1)&&(e+=u[40],l.MN("fe_widget_class","review-score-widget__empty"),e+=u[18]),e+=u[17];var t="";l.MD(h[61])&&(t+=[u[57],l.F.entities(l.MB(h[61])),u[48]].join("")),l.MD(h[62])&&(t+=u[58]),l.MN(h[60],t),e+=u[17];var t="";l.MJ(l.MB(h[64]))&&l.MK(l.MB(h[62]))&&(t+=[u[57],l.F.entities(l.MB(h[64])),u[48]].join("")),l.MN(h[63],t),e+=u[17];var t="";l.MJ(l.MB(h[34])+""=="right")&&l.MK(l.MB(h[62]))&&(t+=[u[57],l.F.entities(l.MB(h[34])),u[48]].join("")),l.MN(h[65],t),e+=u[17];var t="";l.MJ(l.MB(h[67])+""=="smaller")?t+=u[59]:l.MJ(l.MB(h[67])+""=="small")?t+=u[60]:l.MJ(l.MB(h[67])+""=="large")?t+=u[61]:l.MJ(l.MB(h[67])+""=="larger")&&(t+=u[62]),l.MN(h[66],t),e+=u[19];var t="";(l.MJ(l.MB(h[61])+""=="outlined")||l.MJ(l.MB(h[61])+""=="text-only"))&&(t+=[l.F.entities(l.MB(h[61])),u[48]].join("")),l.MN(h[68],t),e+=u[19];var t="";t+=[u[63],l.F.entities(l.MB(h[69])),u[48],l.F.entities(l.MB(h[60])),u[48],l.F.entities(l.MB(h[63])),u[48],l.F.entities(l.MB(h[65])),u[48],l.F.entities(l.MB(h[66])),u[48]].join(""),l.MK(l.MB(h[31]))&&(t+=u[64]),t+=u[48],l.MD(h[70])&&(t+=u[65]),t+=u[48],l.MD(h[71])&&(t+=[u[48],l.F.entities(l.MB(h[71]))].join("")),t+=u[48],l.MN(h[69],t),e+=u[19];var a,t="";l.MD(h[73])&&(t+=[u[66],l.MB(h[73]),u[67]].join("")),l.MN(h[72],t),a=e+=u[68],_i_("3bb:bc2b5f28"),l.MN("fe_rating",l.MI(l.MB(h[25]))+l.MI(0)),a+=u[19],l.MN("fe_rating_adj",""),a+=u[18],l.MJ(0<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<3)&&(a+=u[40],l.MN("fe_rating_adj","1"),a+=u[18]),a+=u[31],l.MJ(3<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<4)&&(a+=u[40],l.MN("fe_rating_adj","2"),a+=u[18]),a+=u[31],l.MJ(4<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<5)&&(a+=u[40],l.MN("fe_rating_adj","3"),a+=u[18]),a+=u[31],l.MJ(5<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<5.6)&&(a+=u[40],l.MN("fe_rating_adj","4"),a+=u[18]),a+=u[31],l.MJ(5.6<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<6)&&(a+=u[40],l.MN("fe_rating_adj","5"),a+=u[18]),a+=u[31],l.MJ(6<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<7)&&(a+=u[40],l.MN("fe_rating_adj","6"),a+=u[18]),a+=u[31],l.MJ(7<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<8)&&(a+=u[40],l.MN("fe_rating_adj","7"),a+=u[18]),a+=u[31],l.MJ(8<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<8.6)&&(a+=u[40],l.MN("fe_rating_adj","8"),a+=u[18]),a+=u[31],l.MJ(8.6<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<9)&&(a+=u[40],l.MN("fe_rating_adj","9"),a+=u[18]),a+=u[31],l.MJ(9<=l.MB(h[74]))&&l.MJ(l.MB(h[74])<9.5)&&(a+=u[40],l.MN("fe_rating_adj","10"),a+=u[18]),a+=u[31],l.MJ(9.5<=l.MB(h[74]))&&(a+=u[40],l.MN("fe_rating_adj","11"),a+=u[18]),e=_r_(a),e+=u[31],e+=u[31];var t="";t+=u[40],l.MD(h[52])&&(t+=u[69],l.MD(h[76])?(t+=[u[70],l.MB(h[76]),u[67]].join(""),l.MD(h[77])&&(t+=[u[71],l.MB(h[77]),u[67]].join(""))):t+=u[72],t+=[u[73],(o.unshift({rating_adjective:l.MB(h[78])}),p=l.ME(u[74],l.MB,l.MN,null),o.shift(),p),u[75],l.MB(h[52]),u[76]].join(""),l.MD(h[76])?t+=u[77]:t+=u[72],t+=u[78]),t+=u[18],l.MN(h[75],t),e+=u[31];var t="";t+=u[40],l.MD(h[31])&&(t+=u[69],l.MD(h[80])?(t+=[u[70],l.MB(h[80]),u[67]].join(""),l.MD(h[81])&&(t+=[u[71],l.MB(h[81]),u[67]].join(""))):t+=u[79],t+=[u[80],(o.unshift({num_reviews:l.MB(h[33])}),p=l.ME(u[81],l.MB,l.MN,null),o.shift(),p),u[82],l.F.entities(l.MB(h[31])),u[76]].join(""),l.MD(h[80])?t+=u[77]:t+=u[72],t+=u[78]),t+=u[18],l.MN(h[79],t),e+=u[83];var t="";return t+=[u[84],l.MB(h[72]),u[85]].join(""),t+=l.F.entities(l.MB(h[69])),l.MJ(l.MC(h[24]))&&l.MJ(l.MC(h[83])+""=="www")&&l.MJ(!1)&&(t+=u[86]),t+=u[87],l.MD(h[84])&&(t+=[u[88],l.MB(h[84]),u[89]].join("")),t+=u[89],l.MD(h[85])&&(t+=[u[90],l.MC(h[85]),u[87]].join("")),t+=u[91],l.MJ(l.MB(h[25])<1)?t+=u[92]:(t+=u[93],l.MD(h[86])&&(t+=[u[89],l.MB(h[86]),u[56]].join("")),t+=u[94],l.MD(h[90])?(t+=u[95],l.MJ(l.MB(h[64])+""=="inline")?t=d(t+=[u[96],l.MB(h[79]),u[88],l.MB(h[75]),u[88]].join("")):(t+=u[88],l.MJ(l.MB(h[61])+""=="text-only")?(t=_(t+=[u[103],l.MB(h[75]),u[104]].join("")),t+=[u[104],l.MB(h[79]),u[88]].join("")):(t+=u[103],(l.MJ(l.MB(h[52]))||l.MJ(l.MB(h[31])))&&(t+=[u[105],l.MB(h[75]),u[106],l.MB(h[79]),u[107]].join("")),t=_(t+=u[104]),t+=u[88])),t+=u[89]):(t+=u[95],l.MJ(l.MB(h[61])+""=="text-only")||l.MJ(l.MB(h[64])+""=="inline")?(t=d(t+=u[96]),t+=[u[88],l.MB(h[75]),u[88],l.MB(h[79]),u[89]].join("")):(t=d(t+=u[96]),t+=u[88],(l.MJ(l.MB(h[52]))||l.MJ(l.MB(h[31])))&&(t+=[u[108],l.MB(h[75]),u[109],l.MB(h[79]),u[110]].join("")),t+=u[89])),t+=u[93],t+=u[93],l.MD(h[91])&&(t+=[u[89],l.MB(h[91]),u[56]].join("")),t+=u[93]),t+=u[111],l.MN(h[82],t),e+=u[112],l.MN(h[28],void 0),e+=u[18],l.MN(h[30],void 0),e+=u[18],l.MN(h[25],void 0),e+=u[18],l.MN(h[32],void 0),e+=u[18],l.MN(h[92],void 0),e+=u[18],l.MN(h[71],void 0),e+=u[18],l.MN(h[84],void 0),e+=u[18],l.MN(h[67],void 0),e+=u[18],l.MN(h[61],void 0),e+=u[18],l.MN(h[64],void 0),e+=u[18],l.MN(h[34],void 0),e+=u[18],l.MN(h[45],void 0),e+=u[18],l.MN(h[73],void 0),e+=u[83],l.MJ(l.MB(h[92])+""=="no")?e+=u[113]:e+=[u[55],l.MB(h[82]),u[18]].join(""),e+=u[18],_r_(e)}(e),o.shift(),e+=u[115]),e+=u[116],l.MD(h[94])?e+=[u[117],l.MC(h[94]),u[118],l.MC(h[95]),u[119],l.MC(h[95]),u[120]].join(""):e+=[u[121],l.MC(h[95]),u[26]].join(""),e+=u[122],(l.MJ(l.MB(h[96]))||l.MJ(l.MB(h[97])))&&(e+=u[123],l.MD(h[96])&&(e+=[u[124],l.MC(h[96]),u[125]].join("")),e+=u[126],l.MD(h[97])&&(e+=[u[124],l.MC(h[97]),u[126]].join("")),e+=u[127],l.MD(h[19])&&(e+=[u[126],l.MC(h[19]),u[128]].join("")),e+=u[129]),e+=u[130],l.MD(h[13])&&(e+=[u[131],l.MC(h[13]),u[132]].join("")),e+=u[130],l.MD(h[18])&&(e+=[u[133],l.MC(h[18]),u[132]].join("")),e+=u[130],l.MD(h[16])&&(e+=[u[134],l.MC(h[16]),u[135]].join("")),e+=[u[136],l.ME(u[137],l.MB,l.MN,l.MO(l.MC(h[98]),null,u[137])),u[138],l.MC(h[99]),u[139]].join(""),l.MJ(l.MB(h[100]))&&l.MJ(0<l.MC(h[101]).amount)&&(e+=[u[140],l.ME(u[141],l.MB,l.MN,null),u[142]].join("")),e+=u[143],l.MD(h[102])?e+=[u[144],l.ME(u[145],l.MB,l.MN,null),u[146]].join(""):(e=function(e){_i_("3bb:695e1c17"),e+=u[38],l.MJ(l.MC(h[83])+""=="mdot")?e+=[u[147],l.MC(h[94]),u[148],l.ME(u[149],l.MB,l.MN,null),u[150]].join(""):(e+=u[0],o.unshift({b_extra_classes:u[189],b_href:l.MB(h[94]),b_tag:u[77],b_target:u[190],b_text:l.MB(h[168]),b_type:u[191]}),e=function(e){_i_("3bb:71b03b6b"),e+=u[17],l.MN(h[103],u[151]),e+=u[18],l.MN(h[104],void 0),e+=u[18],l.MN(h[105],u[152]),e+=u[18],l.MN(h[106],void 0),e+=u[18],l.MN(h[107],void 0),e+=u[18],l.MN(h[108],u[153]),e+=u[18],l.MN(h[109],void 0),e+=u[18],l.MN(h[110],void 0),e+=u[18],l.MN(h[111],void 0),e+=u[18],l.MN(h[112],void 0),e+=u[18],l.MN(h[113],void 0),e+=u[18],l.MN(h[114],void 0),e+=u[18],l.MN(h[115],void 0),e+=u[18],l.MN(h[116],void 0),e+=u[19],l.MN(h[117],u[154]),e+=u[31],l.MN(h[118],void 0),e+=u[18],l.MN(h[119],void 0),e+=u[18],l.MN(h[120],void 0),e+=u[18],l.MN(h[121],void 0),e+=u[18],l.MN(h[122],void 0),e+=u[18],l.MN(h[123],void 0),e+=u[18],l.MN(h[124],void 0),e+=u[18],l.MN(h[125],void 0),e+=u[31],l.MD(h[127])?(e+=u[40],l.MN(h[126],l.F.entities(l.MC(h[127])))):(e+=u[40],l.MN(h[126],void 0)),e+=u[18],e+=u[31],l.MN(h[128],void 0),e+=u[18],l.MN(h[129],void 0),e+=u[31],l.MN(h[130],u[155]),e+=u[18],l.MN(h[131],u[155]),e+=u[18],l.MN(h[132],u[155]),e+=u[31],l.MN(h[133],u[155]),e+=u[19],l.MN(h[134],void 0),e+=u[18],l.MN(h[135],void 0),e+=u[31],l.MD(h[136])&&(e+=u[40],l.MN(h[105],l.MC(h[136])),e+=u[18]),e+=u[31],l.MD(h[137])&&(e+=u[40],l.MN(h[106],l.MC(h[137])),e+=u[18]),e+=u[31],l.MD(h[138])&&(e+=u[40],l.MN(h[107],l.MC(h[138])),e+=u[18]),e+=u[31];var t=l.MC(h[139]);if(l.MJ(t+""=="primary")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[156]].join("")),e+=u[40]):l.MJ(t+""=="secondary")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[157]].join("")),e+=u[40]):l.MJ(t+""=="warning")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[158]].join("")),e+=u[40]):l.MJ(t+""=="disabled")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[159]].join("")),e+=u[40]):l.MJ(t+""=="primary-small")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[160]].join("")),e+=u[40]):l.MJ(t+""=="secondary-small")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[161]].join("")),e+=u[40]):l.MJ(t+""=="warning-small")?(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[162]].join("")),e+=u[40]):l.MJ(t+""=="primary-flat")&&(e+=u[56],l.MN(h[103],[l.F.entities(l.MC(h[103])),u[163]].join("")),e+=u[18]),e+=u[31],l.MD(h[140])&&(e+=u[40],l.MN(h[108],l.MC(h[140])),e+=u[54],l.MJ(/^a$/i.test(l.MC(h[108])))&&l.MN(h[141],u[164]),e+=u[40],l.MJ(/^input$/i.test(l.MC(h[108])))&&l.MN(h[142],u[164]),e+=u[40],l.MJ(/^button$/i.test(l.MC(h[108])))&&l.MN(h[143],u[164]),e+=u[18]),e+=u[31],l.MD(h[144])&&(e+=u[40],l.MN(h[104],[u[66],l.F.entities(l.MC(h[144])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[145])&&(e+=u[40],l.MN(h[111],[u[165],l.F.entities(l.MC(h[145])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[146])&&(e+=u[40],l.MN(h[133],l.F.entities(l.MC(h[146]))),e+=u[18]),e+=u[31],l.MD(h[147])){e+=u[40];var i="";l.MD(h[133])||(i+=l.F.entities(l.MC(h[103]))),i+=[u[48],l.F.entities(l.MC(h[147]))].join(""),l.MN(h[103],i),e+=u[18]}return e+=u[31],l.MD(h[148])&&(e+=u[40],l.MN(h[113],[u[166],l.F.entities(l.MC(h[148])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[149])&&(e+=u[40],l.MN(h[109],[u[167],l.F.entities(l.MC(h[149])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[150])&&(e+=u[40],l.MN(h[110],l.MC(h[150])),e+=u[18]),e+=u[31],l.MD(h[151])&&(e+=u[40],l.MN(h[114],[u[168],l.F.entities(l.MC(h[151])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[152])&&(e+=u[1],l.MN(h[116],[u[169],l.F.entities(l.MC(h[152])),u[170],l.F.entities(l.MC(h[153])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[154])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[154])),u[170],l.F.entities(l.MC(h[155])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[156])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[156])),u[170],l.F.entities(l.MC(h[157])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[158])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[158])),u[170],l.F.entities(l.MC(h[159])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[160])&&(e+=u[1],l.MN(h[116],[l.MC(h[116]),u[171],l.F.entities(l.MC(h[160])),u[170],l.F.entities(l.MC(h[161])),u[67]].join("")),e+=u[18]),e+=u[31],l.MJ(l.MC(h[162]))&&l.MK(l.MC(h[163]))&&(e+=u[40],l.MN(h[115],[u[172],l.F.entities(l.MC(h[162])),u[67]].join("")),e+=u[18]),e+=u[17],l.MD(h[164])&&(e+=u[40],l.MN(h[134],[u[173],l.F.entities(l.MC(h[164])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[165])&&(e+=u[40],l.MN(h[135],[u[174],l.F.entities(l.MC(h[165])),u[67]].join("")),e+=u[18]),e+=[u[175],l.F.entities(l.MC(h[108])),u[176],l.MC(h[103]),u[177],l.MC(h[111]),u[40],l.MC(h[104]),u[40],l.MC(h[109]),u[40],l.MC(h[110]),u[40],l.MC(h[113]),u[1],l.MC(h[114]),u[40],l.MC(h[116]),u[40],l.MC(h[115]),u[40],l.MC(h[134]),u[40],l.F.entities(l.MC(h[135])),u[130]].join(""),l.MD(h[126])&&(e+=[u[178],l.F.entities(l.MC(h[126])),u[179]].join("")),e+=u[54],l.MJ(l.MC(h[108])+""=="input")?e+=[u[180],l.F.entities(l.MC(h[105])),u[181]].join(""):(e+=[u[182],l.MC(h[105]),u[183]].join(""),l.MD(h[106])&&(e+=u[184],l.MD(h[166])&&(e+=u[185]),e+=[u[186],l.MC(h[106]),u[183]].join("")),e+=u[93],l.MD(h[167])&&(e+=u[187]),e+=[u[188],l.F.entities(l.MC(h[108])),u[78]].join("")),e+=u[18],_r_(e)}(e),o.shift(),e+=u[31]),e+=u[31],l.MN("fe_new_cancel_funnel",l.MB(h[169])),e+=u[18];var t="";if(t+=u[48],l.MN(h[170],t),e+=u[31],l.MJ(l.MB(h[182])+""=="confirmation")&&l.MJ(l.MB(h[183]))&&l.MJ(l.MB(h[184]))&&l.MK(l.MB(h[185]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[181])}),e=r(e),o.shift(),e+=u[208]),e+=u[31],l.MJ(2==l.MB(h[186]))&&l.MJ(1==l.MB(h[183]))&&l.MJ(1==l.MB(h[184]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[181])}),e=r(e),o.shift(),e+=u[208]),e+=u[31],l.MD(h[196])){if(e+=u[1],l.MD(h[185]))e+=[u[209],l.F.entities(l.MC(h[187])),u[210],l.F.entities(l.MC(h[170])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");else if(l.MJ(l.MB(h[182])+""=="confirmation")&&l.MJ(l.MB(h[183]))&&l.MJ(l.MB(h[184]))){e+=u[214];var t="";l.MD(h[189])&&(t+=u[215]),l.MN(h[188],t),e+=u[9],l.MN(h[190],[u[216],l.F.entities(l.MC(h[191]))].join("")),e+=u[9],l.MN(h[192],l.MC(h[193])),e+=[u[217],l.F.entities(l.MC(h[192])),u[218],l.F.entities(l.MC(h[190])),u[219],l.F.entities(l.MC(h[188])),u[220],l.F.entities(l.MC(h[170])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else if(l.MJ(2==l.MB(h[186]))&&l.MJ(1==l.MB(h[183]))&&l.MJ(1==l.MB(h[184]))){e+=u[214];var t="";l.MD(h[189])&&(t+=u[215]),l.MN(h[188],t),e+=u[9],l.MN(h[190],[u[216],l.F.entities(l.MC(h[191]))].join("")),e+=u[9],l.MN(h[192],l.MC(h[193])),e+=[u[221],l.F.entities(l.MC(h[192])),u[218],l.F.entities(l.MC(h[190])),u[219],l.F.entities(l.MC(h[188])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else e+=u[214],l.MN(h[194],[l.MC(h[94]),l.F.entities(l.MC(h[195])),u[222]].join("")),e+=[u[223],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");e+=u[18]}return e+=u[18],_r_(e)}(e+=u[8]),e+=u[1]),e+=u[224],_r_(e)}(e),o.shift(),e+=u[225],o.shift()),e+=u[8]),e+=u[226];var t=l.MC(h[6])||[];o.unshift(null);for(var i=1,n=t.length;i<=n;i++)o[0]=t[i-1],e+=u[227],o.unshift({b_lang_is_rtl:l.MC(h[1]),b_site_type:l.MC(h[83]),fe_show_non_free:l.MB(h[100]),hid:l.MB(h[22]),mybooking_url:l.MB(h[94]),num_nights:l.MB(h[98]),property_name:l.MB(h[5]),total_price_pretty:l.MB(h[99])}),e=a(e),o.shift(),e+=u[228];o.shift(),e+=u[229]}return e+=u[18],_r_(e)}(t),o.shift(),t+=u[20],l.MN(h[0],t),e+=u[0],o.unshift({fe_banner__color_scheme:u[259],fe_banner__extra_classes:u[260],fe_banner__message_text:l.MB(h[0])}),e=function(e){if(_i_("3bb:ff6a7799"),e+=["",u[38]].join(""),l.MD(h[225])){e+=u[130],l.MD(h[199])&&(e+=u[9],l.MN(h[198],[u[169],l.MB(h[199]),u[170],l.MB(h[200]),u[67]].join("")),e+=u[1]),e+=u[130],l.MD(h[201])&&(e+=u[9],l.MN(h[198],[l.MB(h[198]),u[171],l.MB(h[201]),u[170],l.MB(h[202]),u[67]].join("")),e+=u[1]),e+=u[130],l.MD(h[203])&&(e+=u[9],l.MN(h[198],[l.MB(h[198]),u[171],l.MB(h[203]),u[170],l.MB(h[204]),u[67]].join("")),e+=u[1]),e+=u[130],l.MD(h[205])&&(e+=u[9],l.MN(h[198],[l.MB(h[198]),u[171],l.MB(h[205]),u[170],l.MB(h[206]),u[67]].join("")),e+=u[1]),e+=u[130],l.MD(h[207])&&(e+=u[9],l.MN(h[198],[l.MB(h[198]),u[171],l.MB(h[207]),u[170],l.MB(h[208]),u[67]].join("")),e+=u[1]),e+=u[130],l.MD(h[209])&&(e+=u[230]),e+=u[231];var t=l.MB(h[210]);l.MJ(t+""=="small")&&(e+=u[232]),(l.MJ(l.MB(h[211]))||l.MJ(l.MB(h[212]))||l.MJ(l.MB(h[213])))&&(e+=u[233]),l.MD(h[214])&&(e+=u[234]),l.MJ(l.MB(h[215]))&&(e+=[u[235],l.F.entities(l.MC(h[215])),l.F.entities(l.MC(h[216])),u[48]].join("")),l.MJ(l.MB(h[211]))&&l.MJ(l.MB(h[217]))&&(e+=[u[236],l.F.entities(l.MC(h[217])),u[48]].join("")),l.MJ(l.MC(h[218])+""=="book")&&(e+=u[237]),e+=[l.F.entities(l.MC(h[219])),u[238]].join(""),l.MD(h[220])&&(e+=[u[66],l.F.entities(l.MC(h[220])),u[239]].join("")),l.MD(h[198])&&(e+=[l.MC(h[198]),u[48]].join("")),l.MD(h[221])&&(e+=u[240]),e+=u[241],l.MD(h[211])?e+=[u[242],l.F.entities(l.MC(h[211])),u[243]].join(""):l.MD(h[212])?e+=[u[244],l.F.entities(l.MC(h[212])),u[245]].join(""):l.MD(h[213])&&(e+=u[246],l.MD(h[222])?e+=l.F.entities(l.MC(h[222])):e+=u[247],e+=[u[245],l.MC(h[213]),u[248]].join("")),l.MD(h[223])&&(e+=u[249]),l.MD(h[224])&&(e+=[u[250],l.MC(h[224]),u[251]].join("")),l.MD(h[225])&&(e+=[u[252],l.MC(h[225]),u[253]].join("")),l.MD(h[223])&&(e+=[u[254],l.MC(h[223]),u[253]].join("")),l.MD(h[223])&&(e+=u[255]),l.MD(h[214])&&(e+=[u[256],l.ME(u[257],l.MB,l.MN,null),u[258]].join("")),e+=u[255],l.MD(h[209])&&(e+=u[255]),e+=u[18]}return e+=u[17],l.MN(h[215],void 0),e+=u[18],l.MN(h[211],void 0),e+=u[18],l.MN(h[212],void 0),e+=u[18],l.MN(h[213],void 0),e+=u[18],l.MN(h[217],void 0),e+=u[18],l.MN(h[224],void 0),e+=u[18],l.MN(h[225],void 0),e+=u[18],l.MN(h[223],void 0),e+=u[18],l.MN(h[214],void 0),e+=u[18],l.MN(h[220],void 0),e+=u[18],l.MN(h[219],void 0),e+=u[18],l.MN(h[210],void 0),e+=u[31],l.MN(h[199],void 0),e+=u[18],l.MN(h[200],void 0),e+=u[18],l.MN(h[201],void 0),e+=u[18],l.MN(h[202],void 0),e+=u[18],l.MN(h[203],void 0),e+=u[18],l.MN(h[204],void 0),e+=u[18],l.MN(h[205],void 0),e+=u[18],l.MN(h[206],void 0),e+=u[18],l.MN(h[207],void 0),e+=u[18],l.MN(h[208],void 0),e+=u[31],l.MN(h[216],void 0),e+=u[31],l.MN(h[198],void 0),e+=u[18],l.MN("fe_banner__banners_count",l.MI(l.MB(h[226]))+l.MI(1)),e+=u[31],l.MJ(l.MC(h[218])+""=="book")&&l.MJ(l.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))?e+=u[18]:l.MJ(l.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1))&&(e+=u[18]),e+=[u[31],"",u[18]].join(""),_r_(e)}(e),o.shift(),e+=u[31],_r_(e)})}()),B.when({events:"ready",action:["book"],condition:(B.env.b_user_auth_level_is_high||B.env.b_user_auth_level&&B.env.b_user_auth_level==B.env.auth_level_high)&&3==B.env.b_stage}).run(function(){_i_("3bb:91758c09");var a,t,n,r,_=B.require("jquery"),s=B.require("ga-tracker"),o=_(".js-overlapping-bookings"),l=o.data("reservationsurl"),c={hname:B.env.b_hotel_name,city:B.env.b_city_name,ufi:B.env.b_ufi,hid:B.env.b_hotel_id,main_photo_url:B.env.b_main_photo_840x460,total_price_pretty:B.env.b_user_total_pretty,total_score:B.env.b_review_score_detailed,review_nr:B.env.b_review_nr,cancellation_policy:B.env.b_hotel_cancellation_policy,cancellation_date:B.env.b_hotel_cancellation_date,cancellation_date_until:B.env.b_hotel_cancellation_until_date,lang:B.env.b_lang,unbooked:!0};if(!o.length)return _r_(!1);function e(e){if(_i_("3bb:445decbf"),!e)return _r_(!1);if(a=e.data,t=e.info,!a||!a.length)return _r_(!1);if(t.all_free_cancellation_and_no_prepayment_only)return _r_(!1);if(t.all_non_refundable_or_partial_payment&&B.env.av_retention_pob_modify_resv_instead_create)i();else{if(B.env.av_retention_pob_modify_resv_instead_create)return _r_(!1);i()}_r_()}function i(){_i_("3bb:1ff2e911"),n=function(){_i_("3bb:e4dda019");for(var e={},t=[],i=!1,n=0;n<a.length;n++){var i=a[n].ufi;t.indexOf(-1==i)&&t.push(i),e[i]=e[i]?e[i]+1:1}for(var n=0;n<t.length;n++)0<=e[t[n]]&&(i=t[n]);return _r_(i)}(),r=function(e){_i_("3bb:42b084b6");for(var t=0;t<a.length;t++)if(a[t].ufi==e)return _r_(a[t].city);_r_()}(n);var e=function(){_i_("3bb:6a0a2c4d");for(var e=[],t=0;t<a.length;t++)e.indexOf(-1==a[t].hid)&&e.push(a[t].hid);return _r_(e)}().concat(c.hid);B.require("fragment").call("geo.hotels_location_details",{hotel_ids:e,ufi:n,load_city_centre:1,load_metro_station:1,load_airport:1,load_train_station:1}).then(d,b),_r_()}function d(e){_i_("3bb:3b1cf178");for(var t=0;t<a.length;t++){var i=a[t].hid;a[t].location_details=e[i],a[t].cityCenterUFI=n,a[t].referenceCityCenterName=r}c.location_details=e[c.hid],c.cityCenterUFI=n,c.referenceCityCenterName=r,function(){_i_("3bb:5e9a5d05");var e=function(){_i_("3bb:caeb6b1c");var e={num_overlapping_bookings:a.length,short_date_start:o.data("checkinshort"),short_date_end:o.data("checkoutshort"),start_bold:"<strong>",end_bold:"</strong>"};e.start_cancel_link='<a class="js-reservations-link" target="_blank" href="'+l+'">',e.end_cancel_link="</a>";var t={b_lang_is_rtl:B.env.rtl,bookings:a,fe_subtitle:B.jstmpl.translations("pob_email_reminder_body",a.length,e),fe_cta_copy:B.jstmpl.translations("cx_double_booked_message_cancel"),fe_pob_class__cta:"c-button c-button--warning",fe_pob_show_banner:!0,fe_pob_show_banner_cta:!0,fe_pob_show_banner_cta_url:l,fe_pob_show_table:!0,fe_pob_class__container:"overlapping-bookings--bp",fe_pob_show_banner_cta_icon:!0,fe_table_container:!0,fe_on_view_track:""};return _r_(B.jstmpl("overlapping_bookings_banner").render(t))}(),t=function(){_i_("3bb:1057426b");var e={b_lang_is_rtl:B.env.rtl,b_query_params_delimiter:B.env.b_query_params_delimiter,num_nights:o.data("nights"),bookings:a,comparison_property:c,show_cancel_cta:!0},t=a&&a.length&&1===a.length&&a[0].cancel_fee&&a[0].cancel_fee.amount&&0<a[0].cancel_fee.amount;return e.fe_show_non_free=t,e.fe_track_stage_on_view="",_r_(B.jstmpl("overlapping_bookings_comparison").render(e))}();o.append(e),o.find(".js-overlapping-bookings-table").append(t),B.et.initAttributesTracking(o),_i_("3bb:b089eb4b"),o.find(".js-reservations-button").on("click",function(e){_i_("3bb:e89a4fd6"),e.preventDefault();var t=o.hasClass("overlapping-is-active");t?o.removeClass("overlapping-is-active"):o.addClass("overlapping-is-active"),_r_()}),o.find(".js-continue-booking").on("click",function(e){_i_("3bb:7b63afad"),o.removeClass("overlapping-is-active"),_(window).scrollTop(o.position().top-20),_r_()}),_r_(),_i_("3bb:bd89c9e9"),s.pageviewIsTracked().then(function(){_i_("3bb:d47dca75"),s.trackEvent("POB","BS3","Comparison"),_r_()}),_r_(),3==B.env.b_stage&&B.env.b_reg_user_id&&2==B.env.b_user_logged_in_auth_level&&""!=o.find(".js-overlapping-bookings-table").html()&&o.find(".js-reservations-button").trigger("click");_r_()}(),_r_()}function b(e){_i_("3bb:9694fa84"),o.removeClass("overlapping-is-active"),_r_()}B.env.av_retention_pob_modify_resv_instead_create?B.require("fragment").call("mybooking.open_bookings_full",{checkin:o.data("checkin"),checkout:o.data("checkout"),hotel_details:1,prepayment:1,cancel_summary:1,subtract_days_to_checkin:5,add_days_to_checkout:5,single_hotel_id:B.env.b_hotel_id,av_retention_total_nr_rooms:B.env.av_retention_pob_selected_nr_rooms}).then(e,b):B.require("fragment").call("mybooking.open_bookings_full",{checkin:o.data("checkin"),checkout:o.data("checkout"),hotel_details:1,prepayment:1,cancel_summary:1}).then(e,b),_r_()}),booking.jstmpl("overlapping_bookings_banner",function(){_i_("3bb:8d2d7d68");var l,c=["\n\n  ","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n  ","\n","\n\n","\n    ","\n      ","\n        ","\n          ","\n\n\n  ",'\n\n\n  <div\n    class="\n      ',"\n\n      ","--rtl\n      ","--ltr\n      ",'\n\n    "\n    data-et-view="','"\n    >\n\n  \n  \n  \n\n  ','\n    <p class="',"__title ",'">\n          ',"\n    </p>\n    ","\n\n\n  \n  \n  \n\n\n  ",'\n    <table class="',"__table ",'" ','data-et-view="',">\n        <tbody>\n          ",'\n\n              <tr class="',"__row ",'">\n\n                \n                \n                \n\n                <td class="',"__cell "," ","book_and_cancel",'">\n\n                    ','\n                      <div class="','__checklist">\n                        <label class="','__checklist-label">\n                          <input class="',"__checkbox ",'" type="checkbox" name="pob_to_cancel" value="',"disabled"," >\n                          ","\n                            ","\n                        ",'\n                           <div class="',"__checklist-body ",'">\n                        ','\n\n                          <a\n                            class="',"__property ",' js-property-link"\n                            href="','"\n                            target="','">\n                            ',"\n                              ",'\n                          </a>\n\n                          <p class="comparison-property__text--smaller--flush free-cxl">\n                            '," - ","<br>\n                            ","\n\n                            ","\n                                ","\n                                  ","\n                                    ","/private/pob_refundable_generic/name","/private/pob_refundable_simple_ja/name","/private/pob_refundable_simple/name","\n                          </p>\n                          ",'\n                            <p class="overlapping-bookings__book-cancel-price">',"</p>\n                          ","\n                          </div>\n                        ","\n                      ","\n                          ","\n                        </label>\n                    ","\n\n                      ","\n\n                    ","\n                      </div>\n                    ","\n\n                </td>\n\n                \n                \n                \n\n                ",'\n                  <td class="','">\n                    <small class="',"__label ",'">',"/private/price/name",'</small>\n                    <strong class="',"__price ","</strong>\n                  </td>\n                ","\n\n                \n                \n                \n\n\n                ","\n                    ",'\n                      <td class="','">\n                          <a class="',"__cta "," js-cta-link js-bs2-cancel-slidebox ","mb-btn mb-cancel custom_track hasSlideBox",'"\n                              ','\n                                  data-slidebox-preopen-callback="cancelOpenCallback"\n                                  data-slidebox-load="','"\n                                  data-slidebox-submit-callback="cancelButtonSubmitCallback"\n                                  data-trackname="Cancel booking, ','"\n                                  data-slidebox-target="#slidebox-cancel-pob"\n                                  data-slidebox-ajax-failure-feedback="',"true",'\n                                 href="','"\n                                 target="',"\n                            >","\n                            </a>\n\n                      </td>\n                    ","\n                ",'\n\n\n              </tr>\n              <tr class="booking-spacer"></tr>\n\n          ',"\n        </tbody>\n\n      </table>\n    \n    ",'\n    \n    <div class="slidebox slidebox--cancel-booking" id="slidebox-cancel-pob">\n        <div class="slidebox__inner  js-slidebox__inner  myBookingOptionsPanel">\n            ',"100px","80%","32px","ajax-loader-64.gif",'\n\n\n\n<div\n    class="preloader-with-text ','"\n    style="min-height: ',';"\n>\n    <div class="preloader-with-text__container">\n        <div class="preloader-with-text__table" style="width: ',';">\n            <div class="preloader-with-text__cell">\n\n                <div class="preloader-with-text__spinner">\n                    <img\n                        src="','"\n                        style="width: ',';"\n                        alt=""\n                    />\n                </div>\n\n                <div class="preloader-with-text__text">\n                    ',"/private/loading/name","...\n                    ","\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n","\n        </div>\n    </div> \x3c!-- /slidebox--cancel-booking --\x3e\n    ","\n\n    \n\n    ","","&nbsp;<i class='bicon bicon-downchevron'></i>","\n\n     ","\n\n\n\n","b-button","Button Text should be overriden","button","\n\n\n","c-button","\n\t","0","\n\t\t"," b-button_primary"," b-button_secondary"," b-button_warning"," b-button_disabled"," b-button_primary b-button_small"," b-button_secondary b-button_small"," b-button_warning b-button_small"," b-button_primary b-button_flat","\n\n\t","1",'id="','"','href="','data-title="','type="','rel="',"data-",'="'," data-",'target="','hotelUrl="','data-hotelid="',"\n\n\n<",'\n\tclass="','"\n\t',"\n\n    ",'\n        data-track-event="','"\n    ','\n\t\tvalue="','"/>\n\t','\n\t>\n\t\t<span class="b-button__text">',"</span>\n\t\t",'\n\t\t\t\t<span class="b-button__from-text" ','style="display:inline-block"',">","\n\n\t\t",'\n\t\t\t\t<span class="b-button__from-text book_now_rt_summary g-hidden"></span>\n\t\t',"\n\n\t\t</",">\n\t","js-reservations-button","a","_blank","primary","\n\n    \n\n     ","\n\n        ","__container\n          ","\n          fe_banner__unify\n          fe_banner__inherit_font_size\n        ","\n\n\n    \n\n    ","\n\n\n      ","\n\n\n\n\n\n\n",'<div data-component="onview-animate" data-anim-type="fadeInBottom"> ','<div class="fe_banner fe_banner__accessible ',"fe_banner__scale_small ","fe_banner__w-icon ","fe_banner__w-dismiss ","fe_banner__","fe_banner__w-icon-","fe_banner__bp fe_banner__inherit_font_size ",' " ','role="alert"',"> ",'<i class="fe_banner__icon ','" aria-hidden="true"></i> ','<img class="fe_banner__icon" src="','"> ','<span class="',"fe_banner__icon"," </span> ",'<div class="fe_banner__btn_container"> <div class="fe_banner__btn_container_content"> ','<h3 class="fe_banner__title"> '," </h3> ",'<div class="fe_banner__message"> '," </div> ",'</div> <div class="fe_banner__button"> ',"</div> ",'<span class="fe_banner__dismiss js-close" role="button" tabindex="1" aria-label="',"/private/a11y_cta_close_banner_new/name",'"><i class="bicon-btnclose"></i></span> ',"green","fe_banner__unify fe_banner__inherit_font_size","bicon-suitcase",'\n        <div class="js-overlapping-bookings-table ','__table"></div>\n      ',"\n\n        \n        ","\n\n\n  \n  \n  \n\n  ",'\n\n    <div class="',"__container ",'">\n\n      \n\n      ','\n        <div class="',"__subtitle ","\n        </div>\n      ","\n\n      \n\n      ","\n\n    </div>\n\n  ","\n\n  </div>\n\n"],d=["fe_base_css_class","fe_title","fe_singular_title","active_perfectly_overlapped_bookings","fe_plural_title","fe_pob_show_banner","fe_pob_cta_target","fe_pob_property_target","fe_pob_show_price","fe_scoped_css_class","b_lang_is_rtl","fe_on_view_track","fe_pob_class__title","fe_pob_table","fe_pob_class__table","fe_track_stage_on_view","fe_pob_class__row","fe_pob_class__cell","fe_book_and_cancel","fe_pob_class__checkbox","hres_id","fe_pob_disabled__checkbox","fe_pob_class__checklist_body","fe_pob_selectable","fe_pob_class__property","mybooking_url","hname","fe_pob_property_icon","checkin_short_format","checkout_short_format","free_cancellation_deadline_until","lang","free_cancellation_deadline","cancellation_type","fe_pob_show_policies","total_price_pretty","fe_show_price","fe_show_property_block_inside_label","fe_pob_class__label","fe_pob_class__price","fe_pob_class__cta","fe_stage","fe_user_auth_level_is_high","all_free_cancellations_and_no_prepayment_only","cancel_summary_url","fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK","fe_cta_copy","fe_individual_links_are_not_clickable","fe_preloader_with_text__min_height_default","fe_preloader_with_text__min_height","fe_preloader_with_text__width_default","fe_preloader_with_text__width","fe_preloader_with_text__spinner_size_default","fe_preloader_with_text__spinner_size","fe_preloader_with_text__spinner_default","fe_preloader_with_text__spinner","fe_preloader_with_text__class","fe_preloader_with_text__text","loading","fe_pob_show_table","pb_ss_dashboard_view_booking_cta","gta_splash_view_booking_cta","b_text","fe_pob_show_banner_cta_icon","fe_banner__btn_include","b_btn_class","b_btn_id","b_btn_text","b_btn_outside_text","b_btn_caption_text","b_btn_tag","b_btn_attr_type","b_btn_attr","b_btn_href","b_btn_extra_classes","b_btn_title","b_btn_rel","b_btn_target","b_btn_data","fe_cbtn_comp_class","fe_cbtn_class","fe_cbtn_type","fe_cbtn_size","fe_cbtn_disabled","fe_cbtn_icon_only","fe_cbtn_icon_left","fe_cbtn_icon_right","fe_cbtn_track_exp","fe_cbtn_track_event","fe_btn_track_event","fe_cbtn_track_goal","fe_cbtn_track_stage","fe_cbtn_is_anchor","fe_cbtn_is_input","fe_cbtn_is_button","fe_cbtn_no_style","b_btn_hotel_url","b_btn_data_hotelid","b_outside_text","b_caption_text","b_type","b_tag","fe_btn_is_anchor","fe_btn_is_input","fe_btn_is_button","b_id","b_href","fe_btn_no_style","b_extra_classes","b_title","b_attr_type","b_attr","b_rel","b_data_id","b_data_value","b_data_id_2","b_data_value_2","b_data_id_3","b_data_value_3","b_data_id_4","b_data_value_4","b_data_id_5","b_data_value_5","b_target","b_bb_is_sabrered_app","b_hotel_url","b_data_hotelid","b_from_price_inlined","b_add_rt_summary","fe_pob_show_banner_cta_url","fe_pob_show_banner_cta","fe_pob_table__extra_classes","fe_pob_class__container","fe_pob_banner","fe_banner__data","fe_banner__data_id","fe_banner__data_value","fe_banner__data_id_2","fe_banner__data_value_2","fe_banner__data_id_3","fe_banner__data_value_3","fe_banner__data_id_4","fe_banner__data_value_4","fe_banner__data_id_5","fe_banner__data_value_5","fe_banner__animate","fe_banner__scale","fe_banner__icon_class","fe_banner__icon_img_url","fe_banner__icon_svg","fe_banner__close_button","fe_banner__color_scheme","fe_banner__color_scheme_classes","fe_banner__icon_size","b_action","fe_banner__extra_classes","fe_banner__id","fe_banner__aria_alert","fe_banner__icon_svg_class","fe_banner__title_text","fe_banner__message_text","fe_banner__banners_count","fe_subtitle","fe_table_container","fe_pob_class__subtitle","bookings"];return _r_(function(s){_i_("3bb:d7df83cb");var e="",o=this.fn;return e+=c[0],s.unshift({active_perfectly_overlapped_bookings:o.MB(d[165]),fe_scoped_css_class:c[115]}),e=function(e){if(_i_("3bb:0e5863721"),e+=c[1],o.MD(d[0])||(e+=c[2],o.MN("fe_base_css_class","overlapping-bookings"),e+=c[3]),e+=c[4],o.MD(d[3])){if(e+=c[0],!o.MD(d[1])){if(e+=c[5],o.MJ(o.MB(d[2]))&&o.MJ(o.MB(d[4]))){e+=c[6];var t="";t+=c[7],o.MJ(1==o.array_length(o.MB(d[3])))?t+=[c[8],o.MC(d[2]),c[7]].join(""):t+=[c[8],o.MC(d[4]),c[7]].join(""),t+=c[6],o.MN(d[1],t),e+=c[5]}e+=c[2]}if(e+=c[0],o.MD(d[5])||(e+=c[5],o.MN("fe_pob_show_table",1)),e+=c[2],e+=c[9],o.MD(d[6])||(e+=c[5],o.MN("fe_pob_cta_target","_blank"),e+=c[2]),e+=c[0],o.MD(d[7])||(e+=c[5],o.MN("fe_pob_property_target","_blank"),e+=c[2]),e+=c[0],o.MD(d[8])||(e+=c[5],o.MN("fe_pob_show_price",1),e+=c[2]),e+=[c[10],o.F.entities(o.MB(d[0])),c[6],o.F.entities(o.MB(d[9])),c[11]].join(""),o.MJ(o.MC(d[10]))?e+=[c[7],o.F.entities(o.MB(d[0])),c[12]].join(""):e+=[c[7],o.F.entities(o.MB(d[0])),c[13]].join(""),e+=[c[14],o.MB(d[11]),c[15]].join(""),o.MJ(o.MB(d[1]))&&(e+=c[5],o.MD(d[5])||(e+=[c[16],o.F.entities(o.MB(d[0])),c[17],o.MB(d[12]),c[18],o.MC(d[1]),c[19]].join("")),e+=c[2]),e+=c[20],o.MD(d[59])){e+=c[5],t="",t+=[c[21],o.F.entities(o.MB(d[0])),c[22],o.MB(d[14]),c[23]].join(""),o.MD(d[15])&&(t+=[c[24],o.MC(d[15]),c[23]].join("")),t+=c[25];var i=o.MC(d[3])||[];s.unshift(null);for(var n=1,a=i.length;n<=a;n++)s[0]=i[n-1],t+=[c[26],o.F.entities(o.MB(d[0])),c[27],o.MB(d[16]),c[28],o.F.entities(o.MB(d[0])),c[29],o.MB(d[17]),c[30]].join(""),o.MD(d[18])&&(t+=c[31]),t+=c[32],o.MD(d[23])&&(t+=[c[33],o.F.entities(o.MB(d[0])),c[34],o.F.entities(o.MB(d[0])),c[35],o.F.entities(o.MB(d[0])),c[36],o.MB(d[19]),c[37],o.MC(d[20]),c[23]].join(""),o.MD(d[21])&&(t+=c[38]),t+=c[39],o.MD(d[37])&&(_=t+=c[40],_i_("3bb:8935ddff1"),_+=c[41],o.MD(d[23])&&(_+=[c[42],o.F.entities(o.MB(d[0])),c[43],o.MB(d[22]),c[44]].join("")),_+=[c[45],o.F.entities(o.MB(d[0])),c[46],o.MB(d[24]),c[47],o.MB(d[25]),c[48],o.MC(d[7]),c[49]].join(""),o.MD(d[27])?_+=[c[50],o.MB(d[26]),o.MC(d[27]),c[40]].join(""):_+=[c[50],o.MB(d[26]),c[40]].join(""),_+=c[51],o.MJ(o.MB(d[28]))&&o.MJ(o.MB(d[29]))&&(_+=[c[50],o.F.entities(o.MC(d[28])),c[52],o.F.entities(o.MC(d[29])),c[53]].join("")),_+=c[54],o.MD(d[34])&&(_+=c[50],o.MD(d[18])&&(_+=c[55],o.MJ(o.MB(d[33])+""=="FREE")&&(_+=c[56],o.MK(o.MB(d[30]))?_+=[c[57],o.ME(c[58],o.MB,o.MN,null),c[56]].join(""):o.MJ(o.MB(d[31])+""=="ja")?_+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[30])}),l=o.ME(c[59],o.MB,o.MN,null),s.shift(),l),c[56]].join(""):_+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[32])}),l=o.ME(c[60],o.MB,o.MN,null),s.shift(),l),c[56]].join(""),_+=c[55]),_+=c[50]),_+=c[40]),_+=c[61],o.MD(d[36])&&(_+=[c[62],o.MC(d[35]),c[63]].join("")),_+=c[41],o.MD(d[23])&&(_+=c[64]),_+=c[65],t=_r_(_),t+=c[66]),t+=c[67]),t+=c[68],t+=c[68],o.MD(d[37])||(r=t+=c[41],_i_("3bb:8e5f7d931"),r+=c[41],o.MD(d[23])&&(r+=[c[42],o.F.entities(o.MB(d[0])),c[43],o.MB(d[22]),c[44]].join("")),r+=[c[45],o.F.entities(o.MB(d[0])),c[46],o.MB(d[24]),c[47],o.MB(d[25]),c[48],o.MC(d[7]),c[49]].join(""),o.MD(d[27])?r+=[c[50],o.MB(d[26]),o.MC(d[27]),c[40]].join(""):r+=[c[50],o.MB(d[26]),c[40]].join(""),r+=c[51],o.MJ(o.MB(d[28]))&&o.MJ(o.MB(d[29]))&&(r+=[c[50],o.F.entities(o.MC(d[28])),c[52],o.F.entities(o.MC(d[29])),c[53]].join("")),r+=c[54],o.MD(d[34])&&(r+=c[50],o.MD(d[18])&&(r+=c[55],o.MJ(o.MB(d[33])+""=="FREE")&&(r+=c[56],o.MK(o.MB(d[30]))?r+=[c[57],o.ME(c[58],o.MB,o.MN,null),c[56]].join(""):o.MJ(o.MB(d[31])+""=="ja")?r+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[30])}),l=o.ME(c[59],o.MB,o.MN,null),s.shift(),l),c[56]].join(""):r+=[c[57],(s.unshift({date_with_short_weekday_with_year:o.MB(d[32])}),l=o.ME(c[60],o.MB,o.MN,null),s.shift(),l),c[56]].join(""),r+=c[55]),r+=c[50]),r+=c[40]),r+=c[61],o.MD(d[36])&&(r+=[c[62],o.MC(d[35]),c[63]].join("")),r+=c[41],o.MD(d[23])&&(r+=c[64]),r+=c[65],t=_r_(r),t+=c[65]),t+=c[69],o.MD(d[23])&&(t+=c[70]),t+=c[71],o.MD(d[8])&&(t+=[c[72],o.F.entities(o.MB(d[0])),c[29],o.MB(d[17]),c[73],o.F.entities(o.MB(d[0])),c[74],o.MB(d[38]),c[75],o.ME(c[76],o.MB,o.MN,null),c[77],o.F.entities(o.MB(d[0])),c[78],o.MB(d[39]),c[75],o.MC(d[35]),c[79]].join("")),t+=c[80],o.MD(d[46])&&(t+=c[81],o.MD(d[47])||(t+=[c[82],o.F.entities(o.MB(d[0])),c[29],o.MB(d[17]),c[83],o.F.entities(o.MB(d[0])),c[84],o.MB(d[40]),c[85]].join(""),o.MJ(2==o.MB(d[41]))&&o.MJ(1==o.MB(d[42]))&&o.MJ(1==o.MB(d[43]))&&(t+=c[86]),t+=c[87],o.MJ(2==o.MB(d[41]))&&o.MJ(1==o.MB(d[42]))&&o.MJ(1==o.MB(d[43]))?(t+=[c[88],o.MC(d[44]),c[89],o.MC(d[33]),c[90]].join(""),o.MD(d[45])&&(t+=c[91]),t+=c[87]):t+=[c[92],o.MB(d[25]),c[93],o.MC(d[6]),c[87]].join(""),t+=[c[94],o.MC(d[46]),c[95]].join("")),t+=c[96]),t+=c[97];s.shift(),t+=c[98],o.MJ(2==o.MB(d[41]))&&o.MJ(1==o.MB(d[42]))&&o.MJ(1==o.MB(d[43]))&&(t+=c[99],s.unshift({fe_preloader_with_text__text:o.MB(d[58])}),t=function(e){_i_("3bb:8ddbd4dd1"),e+=c[4];var t="";t+=c[5],o.MD(d[49])?t+=o.MC(d[49]):t+=c[100],t+=c[3],o.MN(d[48],t),e+=c[4];var t="";t+=c[5],o.MD(d[51])?t+=o.MC(d[51]):t+=c[101],t+=c[3],o.MN(d[50],t),e+=c[4];var t="";t+=c[5],o.MD(d[53])?t+=o.MC(d[53]):t+=c[102],t+=c[3],o.MN(d[52],t),e+=c[4];var t="";return o.MD(d[55])?t+=o.MC(d[55]):t+=c[103],o.MN(d[54],t),e+=[c[104],o.MC(d[56]),c[105],o.F.entities(o.MC(d[48])),c[106],o.F.entities(o.MC(d[50])),c[107],o.STATIC_HOSTNAME("/static/img/ajax-loaders/"+o.MB(d[54]),0,0,0,0),c[108],o.F.entities(o.MC(d[52])),c[109]].join(""),o.MD(d[57])?e+=[c[41],o.MC(d[57]),c[81]].join(""):e+=[c[41],o.ME(c[110],o.MB,o.MN,null),c[111]].join(""),e+=c[112],_r_(e)}(t),s.shift(),t+=c[113]),t+=c[5],o.MN(d[13],t),e+=c[2]}e+=c[20],o.MD(d[5])&&(e+=c[114],o.MD(d[130])&&(e+=c[11],o.MJ(1==o.array_length(o.MB(d[3])))?(e+=c[7],o.MN("b_text",o.MB(d[60]))):(e+=c[7],o.MN("b_text",o.MB(d[61]))),e+=c[6],e+=c[11],o.MD(d[63])&&(e+=c[7],t="",t+=[c[115],o.MC(d[62]),c[116]].join(""),o.MN(d[62],t),e+=c[6]),e+=c[117],t="",t+=c[7],s.unshift({b_extra_classes:c[166],b_href:o.MB(d[129]),b_tag:c[167],b_target:c[168],b_type:c[169]}),t=function(e){_i_("3bb:5acf9e271"),e+=c[118],o.MN(d[65],c[119]),e+=c[3],o.MN(d[66],void 0),e+=c[3],o.MN(d[67],c[120]),e+=c[3],o.MN(d[68],void 0),e+=c[3],o.MN(d[69],void 0),e+=c[3],o.MN(d[70],c[121]),e+=c[3],o.MN(d[71],void 0),e+=c[3],o.MN(d[72],void 0),e+=c[3],o.MN(d[73],void 0),e+=c[3],o.MN(d[74],void 0),e+=c[3],o.MN(d[75],void 0),e+=c[3],o.MN(d[76],void 0),e+=c[3],o.MN(d[77],void 0),e+=c[3],o.MN(d[78],void 0),e+=c[122],o.MN(d[79],c[123]),e+=c[4],o.MN(d[80],void 0),e+=c[3],o.MN(d[81],void 0),e+=c[3],o.MN(d[82],void 0),e+=c[3],o.MN(d[83],void 0),e+=c[3],o.MN(d[84],void 0),e+=c[3],o.MN(d[85],void 0),e+=c[3],o.MN(d[86],void 0),e+=c[3],o.MN(d[87],void 0),e+=c[4],o.MD(d[89])?(e+=c[124],o.MN(d[88],o.F.entities(o.MC(d[89])))):(e+=c[124],o.MN(d[88],void 0)),e+=c[3],e+=c[4],o.MN(d[90],void 0),e+=c[3],o.MN(d[91],void 0),e+=c[4],o.MN(d[92],c[125]),e+=c[3],o.MN(d[93],c[125]),e+=c[3],o.MN(d[94],c[125]),e+=c[4],o.MN(d[95],c[125]),e+=c[122],o.MN(d[96],void 0),e+=c[3],o.MN(d[97],void 0),e+=c[4],o.MD(d[62])&&(e+=c[124],o.MN(d[67],o.MC(d[62])),e+=c[3]),e+=c[4],o.MD(d[98])&&(e+=c[124],o.MN(d[68],o.MC(d[98])),e+=c[3]),e+=c[4],o.MD(d[99])&&(e+=c[124],o.MN(d[69],o.MC(d[99])),e+=c[3]),e+=c[4];var t=o.MC(d[100]);if(o.MJ(t+""=="primary")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[127]].join("")),e+=c[124]):o.MJ(t+""=="secondary")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[128]].join("")),e+=c[124]):o.MJ(t+""=="warning")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[129]].join("")),e+=c[124]):o.MJ(t+""=="disabled")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[130]].join("")),e+=c[124]):o.MJ(t+""=="primary-small")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[131]].join("")),e+=c[124]):o.MJ(t+""=="secondary-small")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[132]].join("")),e+=c[124]):o.MJ(t+""=="warning-small")?(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[133]].join("")),e+=c[124]):o.MJ(t+""=="primary-flat")&&(e+=c[126],o.MN(d[65],[o.F.entities(o.MC(d[65])),c[134]].join("")),e+=c[3]),e+=c[4],o.MD(d[101])&&(e+=c[124],o.MN(d[70],o.MC(d[101])),e+=c[135],o.MJ(/^a$/i.test(o.MC(d[70])))&&o.MN(d[102],c[136]),e+=c[124],o.MJ(/^input$/i.test(o.MC(d[70])))&&o.MN(d[103],c[136]),e+=c[124],o.MJ(/^button$/i.test(o.MC(d[70])))&&o.MN(d[104],c[136]),e+=c[3]),e+=c[4],o.MD(d[105])&&(e+=c[124],o.MN(d[66],[c[137],o.F.entities(o.MC(d[105])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[106])&&(e+=c[124],o.MN(d[73],[c[139],o.F.entities(o.MC(d[106])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[107])&&(e+=c[124],o.MN(d[95],o.F.entities(o.MC(d[107]))),e+=c[3]),e+=c[4],o.MD(d[108])){e+=c[124];var i="";o.MD(d[95])||(i+=o.F.entities(o.MC(d[65]))),i+=[c[30],o.F.entities(o.MC(d[108]))].join(""),o.MN(d[65],i),e+=c[3]}return e+=c[4],o.MD(d[109])&&(e+=c[124],o.MN(d[75],[c[140],o.F.entities(o.MC(d[109])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[110])&&(e+=c[124],o.MN(d[71],[c[141],o.F.entities(o.MC(d[110])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[111])&&(e+=c[124],o.MN(d[72],o.MC(d[111])),e+=c[3]),e+=c[4],o.MD(d[112])&&(e+=c[124],o.MN(d[76],[c[142],o.F.entities(o.MC(d[112])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[113])&&(e+=c[5],o.MN(d[78],[c[143],o.F.entities(o.MC(d[113])),c[144],o.F.entities(o.MC(d[114])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[115])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[115])),c[144],o.F.entities(o.MC(d[116])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[117])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[117])),c[144],o.F.entities(o.MC(d[118])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[119])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[119])),c[144],o.F.entities(o.MC(d[120])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[121])&&(e+=c[5],o.MN(d[78],[o.MC(d[78]),c[145],o.F.entities(o.MC(d[121])),c[144],o.F.entities(o.MC(d[122])),c[138]].join("")),e+=c[3]),e+=c[4],o.MJ(o.MC(d[123]))&&o.MK(o.MC(d[124]))&&(e+=c[124],o.MN(d[77],[c[146],o.F.entities(o.MC(d[123])),c[138]].join("")),e+=c[3]),e+=c[118],o.MD(d[125])&&(e+=c[124],o.MN(d[96],[c[147],o.F.entities(o.MC(d[125])),c[138]].join("")),e+=c[3]),e+=c[4],o.MD(d[126])&&(e+=c[124],o.MN(d[97],[c[148],o.F.entities(o.MC(d[126])),c[138]].join("")),e+=c[3]),e+=[c[149],o.F.entities(o.MC(d[70])),c[150],o.MC(d[65]),c[151],o.MC(d[73]),c[124],o.MC(d[66]),c[124],o.MC(d[71]),c[124],o.MC(d[72]),c[124],o.MC(d[75]),c[5],o.MC(d[76]),c[124],o.MC(d[78]),c[124],o.MC(d[77]),c[124],o.MC(d[96]),c[124],o.F.entities(o.MC(d[97])),c[152]].join(""),o.MD(d[88])&&(e+=[c[153],o.F.entities(o.MC(d[88])),c[154]].join("")),e+=c[135],o.MJ(o.MC(d[70])+""=="input")?e+=[c[155],o.F.entities(o.MC(d[67])),c[156]].join(""):(e+=[c[157],o.MC(d[67]),c[158]].join(""),o.MD(d[68])&&(e+=c[159],o.MD(d[127])&&(e+=c[160]),e+=[c[161],o.MC(d[68]),c[158]].join("")),e+=c[162],o.MD(d[128])&&(e+=c[163]),e+=[c[164],o.F.entities(o.MC(d[70])),c[165]].join("")),e+=c[3],_r_(e)}(t),s.shift(),t+=c[6],o.MN(d[64],t),e+=c[5]),e+=c[170],o.MD(d[59])&&(e+=c[171],o.MN(d[131],[c[8],o.F.entities(o.MB(d[0])),c[172],o.MB(d[132]),c[173]].join("")),e+=c[152]),e+=c[174],t="",t+=c[175],s.unshift({fe_banner__color_scheme:c[205],fe_banner__extra_classes:c[206],fe_banner__icon_class:c[207],fe_banner__message_text:o.MB(d[162]),fe_banner__title_text:o.MB(d[1])}),t=function(e){if(_i_("3bb:ffe257731"),e+=["",c[176]].join(""),o.MD(d[160])){e+=c[152],o.MD(d[135])&&(e+=c[7],o.MN(d[134],[c[143],o.MB(d[135]),c[144],o.MB(d[136]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[137])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[137]),c[144],o.MB(d[138]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[139])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[139]),c[144],o.MB(d[140]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[141])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[141]),c[144],o.MB(d[142]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[143])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[143]),c[144],o.MB(d[144]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[145])&&(e+=c[177]),e+=c[178];var t=o.MB(d[146]);o.MJ(t+""=="small")&&(e+=c[179]),(o.MJ(o.MB(d[147]))||o.MJ(o.MB(d[148]))||o.MJ(o.MB(d[149])))&&(e+=c[180]),o.MD(d[150])&&(e+=c[181]),o.MJ(o.MB(d[151]))&&(e+=[c[182],o.F.entities(o.MC(d[151])),o.F.entities(o.MC(d[152])),c[30]].join("")),o.MJ(o.MB(d[147]))&&o.MJ(o.MB(d[153]))&&(e+=[c[183],o.F.entities(o.MC(d[153])),c[30]].join("")),o.MJ(o.MC(d[154])+""=="book")&&(e+=c[184]),e+=[o.F.entities(o.MC(d[155])),c[185]].join(""),o.MD(d[156])&&(e+=[c[137],o.F.entities(o.MC(d[156])),c[23]].join("")),o.MD(d[134])&&(e+=[o.MC(d[134]),c[30]].join("")),o.MD(d[157])&&(e+=c[186]),e+=c[187],o.MD(d[147])?e+=[c[188],o.F.entities(o.MC(d[147])),c[189]].join(""):o.MD(d[148])?e+=[c[190],o.F.entities(o.MC(d[148])),c[191]].join(""):o.MD(d[149])&&(e+=c[192],o.MD(d[158])?e+=o.F.entities(o.MC(d[158])):e+=c[193],e+=[c[191],o.MC(d[149]),c[194]].join("")),o.MD(d[64])&&(e+=c[195]),o.MD(d[159])&&(e+=[c[196],o.MC(d[159]),c[197]].join("")),o.MD(d[160])&&(e+=[c[198],o.MC(d[160]),c[199]].join("")),o.MD(d[64])&&(e+=[c[200],o.MC(d[64]),c[199]].join("")),o.MD(d[64])&&(e+=c[201]),o.MD(d[150])&&(e+=[c[202],o.ME(c[203],o.MB,o.MN,null),c[204]].join("")),e+=c[201],o.MD(d[145])&&(e+=c[201]),e+=c[3]}return e+=c[118],o.MN(d[151],void 0),e+=c[3],o.MN(d[147],void 0),e+=c[3],o.MN(d[148],void 0),e+=c[3],o.MN(d[149],void 0),e+=c[3],o.MN(d[153],void 0),e+=c[3],o.MN(d[159],void 0),e+=c[3],o.MN(d[160],void 0),e+=c[3],o.MN(d[64],void 0),e+=c[3],o.MN(d[150],void 0),e+=c[3],o.MN(d[156],void 0),e+=c[3],o.MN(d[155],void 0),e+=c[3],o.MN(d[146],void 0),e+=c[4],o.MN(d[135],void 0),e+=c[3],o.MN(d[136],void 0),e+=c[3],o.MN(d[137],void 0),e+=c[3],o.MN(d[138],void 0),e+=c[3],o.MN(d[139],void 0),e+=c[3],o.MN(d[140],void 0),e+=c[3],o.MN(d[141],void 0),e+=c[3],o.MN(d[142],void 0),e+=c[3],o.MN(d[143],void 0),e+=c[3],o.MN(d[144],void 0),e+=c[4],o.MN(d[152],void 0),e+=c[4],o.MN(d[134],void 0),e+=c[3],o.MN("fe_banner__banners_count",o.MI(o.MB(d[161]))+o.MI(1)),e+=c[4],o.MJ(o.MC(d[154])+""=="book")&&o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))?e+=c[3]:o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1))&&(e+=c[3]),e+=[c[4],"",c[3]].join(""),_r_(e)}(t),s.shift(),t+=c[11],o.MD(d[163])?t+=[c[208],o.F.entities(o.MB(d[0])),c[209]].join(""):o.MD(d[59])&&(t+=c[210],s.unshift({fe_banner__color_scheme:c[205],fe_banner__extra_classes:o.MB(d[131]),fe_banner__icon_class:c[30],fe_banner__message_text:o.MB(d[13])}),t=function(e){if(_i_("3bb:838889351"),e+=["",c[176]].join(""),o.MD(d[160])){e+=c[152],o.MD(d[135])&&(e+=c[7],o.MN(d[134],[c[143],o.MB(d[135]),c[144],o.MB(d[136]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[137])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[137]),c[144],o.MB(d[138]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[139])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[139]),c[144],o.MB(d[140]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[141])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[141]),c[144],o.MB(d[142]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[143])&&(e+=c[7],o.MN(d[134],[o.MB(d[134]),c[145],o.MB(d[143]),c[144],o.MB(d[144]),c[138]].join("")),e+=c[5]),e+=c[152],o.MD(d[145])&&(e+=c[177]),e+=c[178];var t=o.MB(d[146]);o.MJ(t+""=="small")&&(e+=c[179]),(o.MJ(o.MB(d[147]))||o.MJ(o.MB(d[148]))||o.MJ(o.MB(d[149])))&&(e+=c[180]),o.MD(d[150])&&(e+=c[181]),o.MJ(o.MB(d[151]))&&(e+=[c[182],o.F.entities(o.MC(d[151])),o.F.entities(o.MC(d[152])),c[30]].join("")),o.MJ(o.MB(d[147]))&&o.MJ(o.MB(d[153]))&&(e+=[c[183],o.F.entities(o.MC(d[153])),c[30]].join("")),o.MJ(o.MC(d[154])+""=="book")&&(e+=c[184]),e+=[o.F.entities(o.MC(d[155])),c[185]].join(""),o.MD(d[156])&&(e+=[c[137],o.F.entities(o.MC(d[156])),c[23]].join("")),o.MD(d[134])&&(e+=[o.MC(d[134]),c[30]].join("")),o.MD(d[157])&&(e+=c[186]),e+=c[187],o.MD(d[147])?e+=[c[188],o.F.entities(o.MC(d[147])),c[189]].join(""):o.MD(d[148])?e+=[c[190],o.F.entities(o.MC(d[148])),c[191]].join(""):o.MD(d[149])&&(e+=c[192],o.MD(d[158])?e+=o.F.entities(o.MC(d[158])):e+=c[193],e+=[c[191],o.MC(d[149]),c[194]].join("")),o.MD(d[64])&&(e+=c[195]),o.MD(d[159])&&(e+=[c[196],o.MC(d[159]),c[197]].join("")),o.MD(d[160])&&(e+=[c[198],o.MC(d[160]),c[199]].join("")),o.MD(d[64])&&(e+=[c[200],o.MC(d[64]),c[199]].join("")),o.MD(d[64])&&(e+=c[201]),o.MD(d[150])&&(e+=[c[202],o.ME(c[203],o.MB,o.MN,null),c[204]].join("")),e+=c[201],o.MD(d[145])&&(e+=c[201]),e+=c[3]}return e+=c[118],o.MN(d[151],void 0),e+=c[3],o.MN(d[147],void 0),e+=c[3],o.MN(d[148],void 0),e+=c[3],o.MN(d[149],void 0),e+=c[3],o.MN(d[153],void 0),e+=c[3],o.MN(d[159],void 0),e+=c[3],o.MN(d[160],void 0),e+=c[3],o.MN(d[64],void 0),e+=c[3],o.MN(d[150],void 0),e+=c[3],o.MN(d[156],void 0),e+=c[3],o.MN(d[155],void 0),e+=c[3],o.MN(d[146],void 0),e+=c[4],o.MN(d[135],void 0),e+=c[3],o.MN(d[136],void 0),e+=c[3],o.MN(d[137],void 0),e+=c[3],o.MN(d[138],void 0),e+=c[3],o.MN(d[139],void 0),e+=c[3],o.MN(d[140],void 0),e+=c[3],o.MN(d[141],void 0),e+=c[3],o.MN(d[142],void 0),e+=c[3],o.MN(d[143],void 0),e+=c[3],o.MN(d[144],void 0),e+=c[4],o.MN(d[152],void 0),e+=c[4],o.MN(d[134],void 0),e+=c[3],o.MN("fe_banner__banners_count",o.MI(o.MB(d[161]))+o.MI(1)),e+=c[4],o.MJ(o.MC(d[154])+""=="book")&&o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))?e+=c[3]:o.MJ(o.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1))&&(e+=c[3]),e+=[c[4],"",c[3]].join(""),_r_(e)}(t),s.shift(),t+=c[11]),t+=c[152],o.MN(d[133],t),e+=c[9]),e+=c[211],o.MD(d[5])?e+=[c[5],o.MC(d[133]),c[2]].join(""):(e+=[c[212],o.F.entities(o.MB(d[0])),c[213],o.F.entities(o.MB(d[132])),c[214]].join(""),o.MD(d[162])&&(e+=[c[215],o.F.entities(o.MB(d[0])),c[216],o.MB(d[164]),c[18],o.MB(d[162]),c[217]].join("")),e+=[c[218],o.MC(d[13]),c[219]].join("")),e+=c[220]}var r;var _;return e+=c[3],_r_(e)}(e),s.shift(),e+=c[4],_r_(e)})}()),booking.jstmpl("overlapping_bookings_comparison",function(){_i_("3bb:bd8dd47e");var s,p,u=["\n\n  ",'\n  <div class="comparison-container ',"lang_is_rtl","lang_is_ltr",'">\n      ','\n        <div data-et-view="','"></div>\n      ',"\n    ","\n      ","\n        ","<strong>","</strong>",'\n        <p class="comparison-container__title">\n          ',"/private/pob_bp_banner_compare_bookings/name","\n        </p>\n      ",'\n\n    <div class="comparison-layout">\n\n      ','\n          <div  class="comparison-layout__item">\n            ',"\n\n\n\n","\n","\n\n\n","\n  ",'<span class="u-display-inline-block">',"</span>","/private/geo_hp_transport_hub_detail/name",'\n        - <strong class="u-display-inline-block">',"/private/sr_in_city_centre/name","</strong>\n      ",'\n        - <span class="u-display-inline-block"> ',"/private/lp_hotel_distance_from_city_centre/name","","</span>\n      ","\n\n",'\n\n\n\n\n\n\n\n\n\n<article class="comparison-property" data-id="','">\n\n  \n  \n  \n\n  <div\n    class="comparison-property__block--image"\n      ','\n        style="background-image:url(',')"\n      ',"\n    >\n\n    ",'\n\n      <div class="comparison-property__overlay">\n\n          <div class="comparison-property__review">\n            ',"\n\n\n\n\n\n\n",'\n\t<div style="color:#fff;background:#ff0000;padding:0.5em;border-radius:0.5em;max-width:30em;">Uh oh! looks like you are giving me a formatted score value, please give me a non formatted one</div>\n',"\n\t","none","auto","num_reviews_sr_page","   ","        ","             ","    "," ","     ","         ","      ","  ","/private/review_adj_superb/name","\n\n\t","\n\t\n\t","\n\t\t","review-score-widget__","review-score-widget__score-only ","review-score-widget__12 ","review-score-widget__14 ","review-score-widget__20 ","review-score-widget__24 "," review-score-widget "," review-score-widget__no-subtext"," review-score-widget__flipped",'id="','"',"\n\n\n\n\n\n\n\n\n","\n\t\t<",'a href="',' target="',"span",' class="review-score-widget__text" aria-label="',"/private/a11y_adjective_rating/name",'">\n\t\t\t',"\n\t\t</","a",">\n\t","span\n        ",' class="review-score-widget__subtext" aria-label="',"/private/acc_sr_review_score_rated_with_score_end/name",'"\n        >\n        ',"\n\n\n\n\n","\n\n\t\n\t\n\t\n\n\t\n\n\t<span\n\t\t",'\n\t\tclass="'," review-score-widget__debug",'"\n\t\t\t',"\n\t\t\t\t","\n\t\t\t",'\n\t\t\t\tdata-et-view="',"\n\t>\n\t\t","\n\t\t\t\n\t\t","\n\n\t\t","\n\n\t\t\n\t\t","\n\n\t\t\t","\n\t\t\t\t\n\t\t\t\t","\n\t<",' class="review-score-badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'">\n\t\t',"\n\t</",">\n","\n\t\t\t\t\t\n\t\t\t\t\t","\n\t\t\t\t\t",'\n\t\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</span>\n\t\t\t\t\t",'\n\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</span>\n\t\t\t\t","\n\t</span>\n\n\t\n\t\n\n","\n\n\n\n\n\n\n\n\n\n","\n\t\n\t\n","text-only","\n          </div>\n\n      </div>\n\n    ",'\n\n  </div>\n\n\n  \n  \n  \n\n\n  \n\n  <div class="comparison-property__block--title">\n\n    <p class=" comparison-property__text--large">\n      ','\n        <a href="','" class="comparison-property__link js-view_booking--cta u-text-decoration:none" title="','"><strong class="u-font-weight:bold">',"</strong></a>\n      ",'\n        <strong class="u-font-weight:bold">','\n    </p>\n\n\n\n  \n\n\n  </div>\n\n\n  <div class="comparison-property__block">\n\n  \n\n    ','\n      <p class="comparison-property__text">\n\n          <strong class="u-font-weight:bold">\n            ',"\n              ",",\n            ","\n            ","\n          </strong>\n\n          ","\n          ","\n\n      </p>\n    ","\n\n    ",'\n        <p class="comparison-property__text--media">\n          <i class="bicon media-icon bicon-airport"></i> ',"\n        </p>\n    ",'\n        <p class="comparison-property__text--media">\n          <i class="bicon media-icon bicon-metro"></i> ','\n\n        <p class="comparison-property__text--media">\n          <i class="bicon media-icon bicon-train"></i> ',"\n        </p>\n\n    ",'\n\n\n\n  </div>\n\n\n  \n  \n  \n\n  <div class="comparison-property__block--alternate--price">\n      <p class="comparison-property__text--smaller--flush">',"/private/bp_room_for_x_nights/name",'</p>\n      <p class="comparison-property__text--large"><strong class="u-font-weight:bold">',"</strong></p>\n\n      \n      ",'\n        <div class="comparison-property__text comparison-property__text--non-free-cancel fe_banner fe_banner__scale_small fe_banner__red">\n            ',"/private/bhep_bs_pob_warning_no_free_cxln/name","\n        </div>\n      ",'\n\n  </div>\n\n\n  \n  \n  \n\n  <div class="comparison-property__block--centered--cta">\n    ','\n\n      <p class="comparison-property__text">\n         <strong class="u-font-weight:bold comparison-property__link u-text-decoration:none js-continue-booking">',"/private/bs3_check_booking_button/name","</strong>\n      </p>\n\n    ",'\n  <p class="comparison-property__text">\n    <a target="_blank" href="','" class="c-button u-padding:10">',"/private/pb_ss_hp_banner_view_booking_cta/name","</a>\n  </p>\n\n","b-button","Button Text should be overriden","button","c-button","0"," b-button_primary"," b-button_secondary"," b-button_warning"," b-button_disabled"," b-button_primary b-button_small"," b-button_secondary b-button_small"," b-button_warning b-button_small"," b-button_primary b-button_flat","1",'href="','data-title="','type="','rel="',"data-",'="'," data-",'target="','hotelUrl="','data-hotelid="',"\n\n\n<",'\n\tclass="','"\n\t','\n        data-track-event="','"\n    ','\n\t\tvalue="','"/>\n\t','\n\t>\n\t\t<span class="b-button__text">',"</span>\n\t\t",'\n\t\t\t\t<span class="b-button__from-text" ','style="display:inline-block"',">",'\n\t\t\t\t<span class="b-button__from-text book_now_rt_summary g-hidden"></span>\n\t\t',"\n\n\t\t</","comparison-property__cta js-view_booking--cta","_blank","primary",'\n    \n    <div class="slidebox  slidebox--cancel-booking" id="slidebox-cancel-pob">\n        <div class="slidebox__inner  js-slidebox__inner  myBookingOptionsPanel">\n            ',"100px","80%","32px","ajax-loader-64.gif",'\n\n\n\n<div\n    class="preloader-with-text ','"\n    style="min-height: ',';"\n>\n    <div class="preloader-with-text__container">\n        <div class="preloader-with-text__table" style="width: ',';">\n            <div class="preloader-with-text__cell">\n\n                <div class="preloader-with-text__spinner">\n                    <img\n                        src="','"\n                        style="width: ',';"\n                        alt=""\n                    />\n                </div>\n\n                <div class="preloader-with-text__text">\n                    ',"\n                        ","\n                    ","/private/loading/name","...\n                    ","\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n","\n        </div>\n    </div> \x3c!-- /slidebox--cancel-booking --\x3e\n",'\n        <a\n            class="b-button b-button_primary c-button--warning comparison-property__cta"\n            href="','"\n            target="_blank"\n            data-et-click="','"\n        >\n            <span class="b-button__text">',"/private/cx_double_booked_message_cancel/name","</span>\n        </a>\n    ","\n\n        ","true","Cancel booking, ",'\n        <a\n            class="b-button b-button_primary c-button--warning js-cxl-btn mb-btn mb-cancel custom_track hasSlideBox js-bs2-cancel-slidebox js-cancel-lightbox js-cancel-in-same-page comparison-property__cta"\n            data-slidebox-preopen-callback="cancelOpenCallback"\n            data-slidebox-load="','"\n            data-slidebox-submit-callback="cancelButtonSubmitCallback"\n            data-trackname="','"\n            data-slidebox-target="#slidebox-cancel-pob"\n            data-slidebox-ajax-failure-feedback="','"\n            data-et-click="','\n        <a\n            class="b-button b-button_primary c-button--warning js-cxl-btn mb-btn mb-cancel custom_track hasSlideBox js-cancel-lightbox js-bs2-cancel-slidebox js-cancel-in-same-page comparison-property__cta"\n            data-slidebox-preopen-callback="cancelOpenCallback"\n            data-slidebox-load="',"pbsource=mybooking_widget_cancel",'\n        <a\n            class="b-button b-button_primary c-button--warning js-cxl-btn js-cancel-in-same-page js-bs2-cancel-slidebox comparison-property__cta"\n            href=cancellation_link\n            target="_blank"\n        >\n            <span class="b-button__text">',"\n\n  </div>\n\n</article>\n",'\n          </div>\n          <div  class="comparison-layout__spacer"> </div>\n        ',"\n\n\n      ",'\n\n        <div  class="comparison-layout__item">\n          ',"\n        </div>\n\n      ",'\n\n      <div  class="comparison-layout__spacer--empty"> </div>\n\n    </div>\n  </div>\n',"mb-overlapping-bookings"],h=["b_lang_is_rtl","fe_track_stage_on_view","comparison_property","hotel_name","hname","active_perfectly_overlapped_bookings","num_bookings","review_nr","total_score","location_details","distance_to_hub","distance_formatted","property_distance_to_airport","airport_name","type","property_distance_to_train","station_name","property_distance_to_metro","property_distance_from_city_center","distance","referenceCityCenterName","hid","main_photo_url","b_dev_server","score","dont_format_score","fe_text","text","fe_subtext","subtext","fe_widget_subtext","sample_size","fe_formatted_sample_size","align","wrapper_tag_name","fe_review_score_word_class_list","fe_review_score","custom_class","review_adj_very_poor","review_adj_poor","review_adj_disappointing","review_adj_average_passable","review_adj_average_okay","review_adj_pleasant","low_score_adjectives","fd_lp_header_rs","review_adj_good","review_adj_very_good","review_adj_fabulous","fe_review_score_word_copy","review_adj_exceptional","fe_widget_text","prepend_text","append_text","fe_score","prefix","fe_score_word_name","suffix","fe_classname","fe_widget_style","style","score_only","fe_widget_layout","layout","fe_widget_align","fe_widget_size","size","fe_badge_style","fe_widget_class","flip","extra_classes","fe_widget_id","widget_id","fe_rating","fe_widget_text_element","text_link_url","text_link_target","fe_rating_adj","fe_widget_subtext_element","subtext_link_url","subtext_link_target","review_score_widget","b_site_type","extra_attributes","track_view","prepend_html","badge_link_url","badge_link_target","fe_formatted_score","fe_is_alt_version","append_html","render","fe_show_overlay","mybooking_url","property_name","district","city","num_nights","total_price_pretty","fe_show_non_free","cancel_fee","unbooked","b_btn_class","b_btn_id","b_btn_text","b_btn_outside_text","b_btn_caption_text","b_btn_tag","b_btn_attr_type","b_btn_attr","b_btn_href","b_btn_extra_classes","b_btn_title","b_btn_rel","b_btn_target","b_btn_data","fe_cbtn_comp_class","fe_cbtn_class","fe_cbtn_type","fe_cbtn_size","fe_cbtn_disabled","fe_cbtn_icon_only","fe_cbtn_icon_left","fe_cbtn_icon_right","fe_cbtn_track_exp","fe_cbtn_track_event","fe_btn_track_event","fe_cbtn_track_goal","fe_cbtn_track_stage","fe_cbtn_is_anchor","fe_cbtn_is_input","fe_cbtn_is_button","fe_cbtn_no_style","b_btn_hotel_url","b_btn_data_hotelid","b_text","b_outside_text","b_caption_text","b_type","b_tag","fe_btn_is_anchor","fe_btn_is_input","fe_btn_is_button","b_id","b_href","fe_btn_no_style","b_extra_classes","b_title","b_attr_type","b_attr","b_rel","b_data_id","b_data_value","b_data_id_2","b_data_value_2","b_data_id_3","b_data_value_3","b_data_id_4","b_data_value_4","b_data_id_5","b_data_value_5","b_target","b_bb_is_sabrered_app","b_hotel_url","b_data_hotelid","b_from_price_inlined","b_add_rt_summary","pb_ss_hp_banner_view_booking_cta","res_is_eligible_for_new_cancellation_flow","cancel_button_et_click","fe_preloader_with_text__min_height_default","fe_preloader_with_text__min_height","fe_preloader_with_text__width_default","fe_preloader_with_text__width","fe_preloader_with_text__spinner_size_default","fe_preloader_with_text__spinner_size","fe_preloader_with_text__spinner_default","fe_preloader_with_text__spinner","fe_preloader_with_text__class","fe_preloader_with_text__text","loading","fe_action","fe_user_auth_level_is_high","all_free_cancellations_and_no_prepayment_only","fe_new_cancel_funnel","fe_stage","new_cancellation_redirect_url","fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK_copy","fe_feature_running_MYBOOKING_AJAX_FAILURE_FEEDBACK","cancellation_type_copy","cancellation_type","cancel_summary_url_copy","cancel_summary_url","cancellation_link","b_query_params_delimiter","show_cancel_cta","bookings"];return _r_(function(o){_i_("3bb:e7714a67");var e="",l=this.fn;function a(e){_i_("3bb:65f75831"),e+=u[17],l.MN("distance_to_hub",0),e+=u[18],l.MN("property_distance_to_airport",0),e+=u[18],l.MN("property_distance_to_train",0),e+=u[18],l.MN("property_distance_to_metro",0),e+=u[18],l.MN("property_distance_from_city_center",0),e+=u[18],l.MN("fe_show_overlay",0),e+=u[19],l.MJ(4<l.MB(h[7]))&&l.MJ(l.MB(h[8]))&&(e+=u[20],l.MN("fe_show_overlay",1),e+=u[18]),e+=u[19];var t=r,i=a,n=_,a=l.MC(h[9])||[];o.unshift(null);for(var r=1,_=a.length;r<=_;r++){if(o[0]=a[r-1],e+=u[0],l.MN(h[10],[u[21],l.MC(h[11]),u[22]].join("")),e+=u[0],l.MJ(l.MB(h[14])+""=="airport")&&(e+=u[7],l.MN(h[12],[u[8],(o.unshift({hub_name:l.MB(h[13])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[7]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[14])+""=="train_station")&&(e+=u[7],l.MN(h[15],[u[8],(o.unshift({hub_name:l.MB(h[16])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[7]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[14])+""=="metro")&&(e+=u[7],l.MN(h[17],[u[8],(o.unshift({hub_name:l.MB(h[16])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[7]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[14])+""=="city_centre")){e+=u[7];var s="";s+=u[8],l.MJ(0==l.MB(h[19]))?s+=[u[24],l.ME(u[25],l.MB,l.MN,null),u[26]].join(""):s+=[u[27],(o.unshift({city_name:l.MB(h[20]),measurement_unit:u[29],num_distance:l.MB(h[11])}),p=l.ME(u[28],l.MB,l.MN,null),o.shift(),p),u[30]].join(""),s+=u[7],l.MN(h[18],s),e+=u[20]}e+=u[31]}return o.shift(),r=t,a=i,_=n,e+=[u[32],l.MC(h[21]),u[33]].join(""),l.MD(h[22])&&(e+=[u[34],l.STATIC_HOSTNAME(l.MB(h[22]),0,0,0,0),u[35]].join("")),e+=u[36],l.MD(h[92])&&(e+=u[37],o.unshift({sample_size:l.MB(h[7]),score:l.MB(h[8]),style:u[114]}),e=function(e){_i_("3bb:21cfff77"),e+=u[38],l.MJ(l.MC(h[23]))&&l.MJ(/,/.test(l.MB(h[24])))&&(e+=u[39]);e+=u[19],l.MJ(l.MB(h[25]))||l.MJ(/,/.test(l.MB(h[24])))?(e+=u[40],l.MN("fe_formatted_score",l.MB(h[24]))):(e+=u[40],l.MN("fe_formatted_score",l.format_review_score_plain(l.MI(0)+l.MI(l.MB(h[24]))))),e+=u[18];e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[27]))?t+=l.MB(h[27]):t+=u[41];t+=u[29],l.MN(h[26],t),e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[29]))?(t+=u[29],l.MJ(l.MB(h[29])+""!="none")&&l.MJ(l.MB(h[26])+""=="none")?t+=u[42]:t+=[u[29],l.MB(h[29]),u[29]].join(""),t+=u[29]):t+=u[41];t+=u[29],l.MN(h[28],t),e+=u[19];var t="";t+=u[29],(l.MJ(l.MB(h[29]))&&l.MJ(l.MB(h[29])+""=="auto")||l.MK(l.MB(h[29])))&&l.MJ(l.MB(h[31]))?(t+=u[29],l.MN("fe_formatted_sample_size",l.format_number(l.MB(h[31]))),t+=[u[29],(o.unshift({num_reviews:l.MB(h[32])}),p=l.VP(u[43],l.MO(l.MI(l.MC(h[31]))+l.MI(0),null,u[43])),o.shift(),p),u[29]].join("")):l.MJ(l.MB(h[29])+""!="none")&&l.MJ(l.MB(h[29])+""!="auto")&&(t+=[u[29],l.MB(h[29]),u[29]].join(""));t+=u[29],l.MN(h[30],t),e+=u[19],l.MN("fe_is_alt_version",l.MJ(l.MB(h[33])+""=="right")),e+=u[19],o.unshift({low_score_adjectives:l.MB(h[44]),score:l.MI(0)+l.MI(l.MB(h[24]))}),e=function(e){_i_("3bb:eab26159"),e+=u[18],l.MN("fe_review_score",l.MI(l.MB(h[24]))+l.MI(0)),e+=u[19],l.MN("fe_review_score_word_tag",l.MB(h[34])||"p"),e+=u[19],l.MN("fe_review_score_word_class_list","review-score-word"),e+=u[19],l.MJ(7<=l.MB(h[36]))&&(e+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[35])+" review-score-word--highlighted"),e+=u[18]);e+=u[31],l.MD(h[37])&&(e+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[35])+" "+l.MB(h[37])),e+=u[18]);e+=u[17],l.MD(h[44])?(e+=u[20],l.MJ(0<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<3)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[38])),e+=u[45]),e+=u[20],l.MJ(3<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<4)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[39])),e+=u[46]),e+=u[20],l.MJ(4<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<5)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[40])),e+=u[47]),e+=u[20],l.MJ(5<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<5.6)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[41])),e+=u[48]),e+=u[20],l.MJ(5.6<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<6)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[42])),e+=u[49]),e+=u[20],l.MJ(6<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<7)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[43])),e+=u[50])):(e+=u[20],l.MJ(0<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<7)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[45])),e+=u[48])),e+=u[18];e+=u[18],l.MJ(7<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<8)&&(e+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[46])),e+=u[51]);e+=u[18],l.MJ(8<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<8.6)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[47])),e+=u[48]);e+=u[18],l.MJ(8.6<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<9)&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[48])),e+=u[52]);e+=u[31],l.MJ(9<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<9.5)&&(e+=u[48],l.MN(h[49],l.ME(u[53],l.MB,l.MN,null)),e+=u[48]);e+=u[19],l.MJ(9.5<=l.MB(h[36]))&&(e+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[50])),e+=u[48]);return e+=u[19],e+=u[18],_r_(e)}(e),o.shift(),e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[27]))&&l.MJ(l.MB(h[27])+""=="auto")||(l.MK(l.MB(h[27]))||l.MJ(l.MB(h[27])+""=="none"))&&l.MJ(l.MB(h[30])+""!="")?t+=[u[29],l.MB(h[49]),u[29]].join(""):l.MJ(l.MB(h[27]))&&l.MJ(l.MB(h[27])+""!="none")&&(t+=[u[29],l.MB(h[27]),u[29]].join(""));t+=u[29],l.MN(h[51],t),e+=u[31],l.MD(h[51])&&(e+=u[40],l.MN("fe_widget_text",l.MB(h[52])+""+l.MB(h[51])+l.MB(h[53])),e+=u[18]);e+=u[19],l.MN("score_only",l.MJ(l.MB(h[51])+""=="")&&l.MJ(l.MB(h[30])+""=="")),e+=u[38],o.unshift({prefix:u[57],score:l.MI(0)+l.MI(l.MB(h[24]))}),i=e,_i_("3bb:2f125a7f"),i+=u[17],l.MN("fe_score",l.MI(l.MB(h[24]))+l.MI(0)),i+=u[19],l.MN("fe_score_word_name",""),i+=u[18],l.MJ(0<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<3)&&(i+=u[40],l.MN("fe_score_word_name","very_poor"),i+=u[18]),i+=u[31],l.MJ(3<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<4)&&(i+=u[40],l.MN("fe_score_word_name","poor"),i+=u[18]),i+=u[31],l.MJ(4<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<5)&&(i+=u[40],l.MN("fe_score_word_name","disappointing"),i+=u[18]),i+=u[31],l.MJ(5<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<5.6)&&(i+=u[40],l.MN("fe_score_word_name","average_passable"),i+=u[18]),i+=u[31],l.MJ(5.6<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<6)&&(i+=u[40],l.MN("fe_score_word_name","average_okay"),i+=u[18]),i+=u[31],l.MJ(6<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<7)&&(i+=u[40],l.MN("fe_score_word_name","pleasant"),i+=u[18]),i+=u[31],l.MJ(7<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<8)&&(i+=u[40],l.MN("fe_score_word_name","good"),i+=u[18]),i+=u[31],l.MJ(8<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<8.6)&&(i+=u[40],l.MN("fe_score_word_name","very_good"),i+=u[18]),i+=u[31],l.MJ(8.6<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<9)&&(i+=u[40],l.MN("fe_score_word_name","fabulous"),i+=u[18]),i+=u[31],l.MJ(9<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<9.5)&&(i+=u[40],l.MN("fe_score_word_name","superb"),i+=u[18]),i+=u[31],l.MJ(9.5<=l.MB(h[54]))&&(i+=u[40],l.MN("fe_score_word_name","exceptional"),i+=u[18]),i+=u[19],l.MN("fe_classname",""),i+=u[18],l.MJ(0<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<=10)&&(i+=u[54],l.MN("fe_classname",l.MB(h[55])+""+l.MB(h[56])+l.MB(h[57])),i+=u[55],l.MJ(l.MB(h[54])<7)&&(i+=u[56],l.MN("fe_classname",l.MB(h[58])+" "+l.MB(h[55])+"low"+l.MB(h[57])),i+=u[40]),i+=u[31]),i+=u[18],e=_r_(i),o.shift(),e+=u[18],l.MN("fe_widget_class",l.MB(h[58])),e+=u[31],l.MJ(l.MB(h[24])<1)&&(e+=u[40],l.MN("fe_widget_class","review-score-widget__empty"),e+=u[18]);var i;e+=u[17];var t="";l.MD(h[60])&&(t+=[u[57],l.F.entities(l.MB(h[60])),u[48]].join(""));l.MD(h[61])&&(t+=u[58]);l.MN(h[59],t),e+=u[17];var t="";l.MJ(l.MB(h[63]))&&l.MK(l.MB(h[61]))&&(t+=[u[57],l.F.entities(l.MB(h[63])),u[48]].join(""));l.MN(h[62],t),e+=u[17];var t="";l.MJ(l.MB(h[33])+""=="right")&&l.MK(l.MB(h[61]))&&(t+=[u[57],l.F.entities(l.MB(h[33])),u[48]].join(""));l.MN(h[64],t),e+=u[17];var t="";l.MJ(l.MB(h[66])+""=="smaller")?t+=u[59]:l.MJ(l.MB(h[66])+""=="small")?t+=u[60]:l.MJ(l.MB(h[66])+""=="large")?t+=u[61]:l.MJ(l.MB(h[66])+""=="larger")&&(t+=u[62]);l.MN(h[65],t),e+=u[19];var t="";(l.MJ(l.MB(h[60])+""=="outlined")||l.MJ(l.MB(h[60])+""=="text-only"))&&(t+=[l.F.entities(l.MB(h[60])),u[48]].join(""));l.MN(h[67],t),e+=u[19];var t="";t+=[u[63],l.F.entities(l.MB(h[68])),u[48],l.F.entities(l.MB(h[59])),u[48],l.F.entities(l.MB(h[62])),u[48],l.F.entities(l.MB(h[64])),u[48],l.F.entities(l.MB(h[65])),u[48]].join(""),l.MK(l.MB(h[30]))&&(t+=u[64]);t+=u[48],l.MD(h[69])&&(t+=u[65]);t+=u[48],l.MD(h[70])&&(t+=[u[48],l.F.entities(l.MB(h[70]))].join(""));t+=u[48],l.MN(h[68],t),e+=u[19];var t="";l.MD(h[72])&&(t+=[u[66],l.MB(h[72]),u[67]].join(""));l.MN(h[71],t),n=e+=u[68],_i_("3bb:adee6164"),l.MN("fe_rating",l.MI(l.MB(h[24]))+l.MI(0)),n+=u[19],l.MN("fe_rating_adj",""),n+=u[18],l.MJ(0<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<3)&&(n+=u[40],l.MN("fe_rating_adj","1"),n+=u[18]),n+=u[31],l.MJ(3<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<4)&&(n+=u[40],l.MN("fe_rating_adj","2"),n+=u[18]),n+=u[31],l.MJ(4<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<5)&&(n+=u[40],l.MN("fe_rating_adj","3"),n+=u[18]),n+=u[31],l.MJ(5<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<5.6)&&(n+=u[40],l.MN("fe_rating_adj","4"),n+=u[18]),n+=u[31],l.MJ(5.6<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<6)&&(n+=u[40],l.MN("fe_rating_adj","5"),n+=u[18]),n+=u[31],l.MJ(6<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<7)&&(n+=u[40],l.MN("fe_rating_adj","6"),n+=u[18]),n+=u[31],l.MJ(7<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<8)&&(n+=u[40],l.MN("fe_rating_adj","7"),n+=u[18]),n+=u[31],l.MJ(8<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<8.6)&&(n+=u[40],l.MN("fe_rating_adj","8"),n+=u[18]),n+=u[31],l.MJ(8.6<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<9)&&(n+=u[40],l.MN("fe_rating_adj","9"),n+=u[18]),n+=u[31],l.MJ(9<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<9.5)&&(n+=u[40],l.MN("fe_rating_adj","10"),n+=u[18]),n+=u[31],l.MJ(9.5<=l.MB(h[73]))&&(n+=u[40],l.MN("fe_rating_adj","11"),n+=u[18]),e=_r_(n),e+=u[31],e+=u[31];var n;var t="";t+=u[40],l.MD(h[51])&&(t+=u[69],l.MD(h[75])?(t+=[u[70],l.MB(h[75]),u[67]].join(""),l.MD(h[76])&&(t+=[u[71],l.MB(h[76]),u[67]].join(""))):t+=u[72],t+=[u[73],(o.unshift({rating_adjective:l.MB(h[77])}),p=l.ME(u[74],l.MB,l.MN,null),o.shift(),p),u[75],l.MB(h[51]),u[76]].join(""),l.MD(h[75])?t+=u[77]:t+=u[72],t+=u[78]);t+=u[18],l.MN(h[74],t),e+=u[31];var t="";t+=u[40],l.MD(h[30])&&(t+=u[69],l.MD(h[79])?(t+=[u[70],l.MB(h[79]),u[67]].join(""),l.MD(h[80])&&(t+=[u[71],l.MB(h[80]),u[67]].join(""))):t+=u[79],t+=[u[80],(o.unshift({num_reviews:l.MB(h[32])}),p=l.ME(u[81],l.MB,l.MN,null),o.shift(),p),u[82],l.F.entities(l.MB(h[30])),u[76]].join(""),l.MD(h[79])?t+=u[77]:t+=u[72],t+=u[78]);t+=u[18],l.MN(h[78],t),e+=u[83];var t="";t+=[u[84],l.MB(h[71]),u[85]].join(""),t+=l.F.entities(l.MB(h[68])),l.MJ(l.MC(h[23]))&&l.MJ(l.MC(h[82])+""=="www")&&l.MJ(!1)&&(t+=u[86]);t+=u[87],l.MD(h[83])&&(t+=[u[88],l.MB(h[83]),u[89]].join(""));t+=u[89],l.MD(h[84])&&(t+=[u[90],l.MC(h[84]),u[87]].join(""));t+=u[91],l.MJ(l.MB(h[24])<1)?t+=u[92]:(t+=u[93],l.MD(h[85])&&(t+=[u[89],l.MB(h[85]),u[56]].join("")),t+=u[94],l.MD(h[89])?(t+=u[95],l.MJ(l.MB(h[63])+""=="inline")?t=b(t+=[u[96],l.MB(h[78]),u[88],l.MB(h[74]),u[88]].join("")):(t+=u[88],l.MJ(l.MB(h[60])+""=="text-only")?(t=d(t+=[u[103],l.MB(h[74]),u[104]].join("")),t+=[u[104],l.MB(h[78]),u[88]].join("")):(t+=u[103],(l.MJ(l.MB(h[51]))||l.MJ(l.MB(h[30])))&&(t+=[u[105],l.MB(h[74]),u[106],l.MB(h[78]),u[107]].join("")),t=d(t+=u[104]),t+=u[88])),t+=u[89]):(t+=u[95],l.MJ(l.MB(h[60])+""=="text-only")||l.MJ(l.MB(h[63])+""=="inline")?(t=b(t+=u[96]),t+=[u[88],l.MB(h[74]),u[88],l.MB(h[78]),u[89]].join("")):(t=b(t+=u[96]),t+=u[88],(l.MJ(l.MB(h[51]))||l.MJ(l.MB(h[30])))&&(t+=[u[108],l.MB(h[74]),u[109],l.MB(h[78]),u[110]].join("")),t+=u[89])),t+=u[93],t+=u[93],l.MD(h[90])&&(t+=[u[89],l.MB(h[90]),u[56]].join("")),t+=u[93]);t+=u[111],l.MN(h[81],t),e+=u[112],l.MN(h[27],void 0),e+=u[18],l.MN(h[29],void 0),e+=u[18],l.MN(h[24],void 0),e+=u[18],l.MN(h[31],void 0),e+=u[18],l.MN(h[91],void 0),e+=u[18],l.MN(h[70],void 0),e+=u[18],l.MN(h[83],void 0),e+=u[18],l.MN(h[66],void 0),e+=u[18],l.MN(h[60],void 0),e+=u[18],l.MN(h[63],void 0),e+=u[18],l.MN(h[33],void 0),e+=u[18],l.MN(h[44],void 0),e+=u[18],l.MN(h[72],void 0),e+=u[83],l.MJ(l.MB(h[91])+""=="no")?e+=u[113]:e+=[u[55],l.MB(h[81]),u[18]].join("");return e+=u[18],_r_(e)}(e),o.shift(),e+=u[115]),e+=u[116],l.MD(h[93])?e+=[u[117],l.MC(h[93]),u[118],l.MC(h[94]),u[119],l.MC(h[94]),u[120]].join(""):e+=[u[121],l.MC(h[94]),u[26]].join(""),e+=u[122],(l.MJ(l.MB(h[95]))||l.MJ(l.MB(h[96])))&&(e+=u[123],l.MD(h[95])&&(e+=[u[124],l.MC(h[95]),u[125]].join("")),e+=u[126],l.MD(h[96])&&(e+=[u[124],l.MC(h[96]),u[126]].join("")),e+=u[127],l.MD(h[18])&&(e+=[u[126],l.MC(h[18]),u[128]].join("")),e+=u[129]),e+=u[130],l.MD(h[12])&&(e+=[u[131],l.MC(h[12]),u[132]].join("")),e+=u[130],l.MD(h[17])&&(e+=[u[133],l.MC(h[17]),u[132]].join("")),e+=u[130],l.MD(h[15])&&(e+=[u[134],l.MC(h[15]),u[135]].join("")),e+=[u[136],l.ME(u[137],l.MB,l.MN,l.MO(l.MC(h[97]),null,u[137])),u[138],l.MC(h[98]),u[139]].join(""),l.MJ(l.MB(h[99]))&&l.MJ(0<l.MC(h[100]).amount)&&(e+=[u[140],l.ME(u[141],l.MB,l.MN,null),u[142]].join("")),e+=u[143],l.MD(h[101])?e+=[u[144],l.ME(u[145],l.MB,l.MN,null),u[146]].join(""):(e=function(e){_i_("3bb:1b872a1f"),e+=u[38],l.MJ(l.MC(h[82])+""=="mdot")?e+=[u[147],l.MC(h[93]),u[148],l.ME(u[149],l.MB,l.MN,null),u[150]].join(""):(e+=u[0],o.unshift({b_extra_classes:u[189],b_href:l.MB(h[93]),b_tag:u[77],b_target:u[190],b_text:l.MB(h[167]),b_type:u[191]}),e=function(e){_i_("3bb:68f76431"),e+=u[17],l.MN(h[102],u[151]),e+=u[18],l.MN(h[103],void 0),e+=u[18],l.MN(h[104],u[152]),e+=u[18],l.MN(h[105],void 0),e+=u[18],l.MN(h[106],void 0),e+=u[18],l.MN(h[107],u[153]),e+=u[18],l.MN(h[108],void 0),e+=u[18],l.MN(h[109],void 0),e+=u[18],l.MN(h[110],void 0),e+=u[18],l.MN(h[111],void 0),e+=u[18],l.MN(h[112],void 0),e+=u[18],l.MN(h[113],void 0),e+=u[18],l.MN(h[114],void 0),e+=u[18],l.MN(h[115],void 0),e+=u[19],l.MN(h[116],u[154]),e+=u[31],l.MN(h[117],void 0),e+=u[18],l.MN(h[118],void 0),e+=u[18],l.MN(h[119],void 0),e+=u[18],l.MN(h[120],void 0),e+=u[18],l.MN(h[121],void 0),e+=u[18],l.MN(h[122],void 0),e+=u[18],l.MN(h[123],void 0),e+=u[18],l.MN(h[124],void 0),e+=u[31],l.MD(h[126])?(e+=u[40],l.MN(h[125],l.F.entities(l.MC(h[126])))):(e+=u[40],l.MN(h[125],void 0)),e+=u[18],e+=u[31],l.MN(h[127],void 0),e+=u[18],l.MN(h[128],void 0),e+=u[31],l.MN(h[129],u[155]),e+=u[18],l.MN(h[130],u[155]),e+=u[18],l.MN(h[131],u[155]),e+=u[31],l.MN(h[132],u[155]),e+=u[19],l.MN(h[133],void 0),e+=u[18],l.MN(h[134],void 0),e+=u[31],l.MD(h[135])&&(e+=u[40],l.MN(h[104],l.MC(h[135])),e+=u[18]),e+=u[31],l.MD(h[136])&&(e+=u[40],l.MN(h[105],l.MC(h[136])),e+=u[18]),e+=u[31],l.MD(h[137])&&(e+=u[40],l.MN(h[106],l.MC(h[137])),e+=u[18]),e+=u[31];var t=l.MC(h[138]);if(l.MJ(t+""=="primary")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[156]].join("")),e+=u[40]):l.MJ(t+""=="secondary")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[157]].join("")),e+=u[40]):l.MJ(t+""=="warning")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[158]].join("")),e+=u[40]):l.MJ(t+""=="disabled")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[159]].join("")),e+=u[40]):l.MJ(t+""=="primary-small")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[160]].join("")),e+=u[40]):l.MJ(t+""=="secondary-small")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[161]].join("")),e+=u[40]):l.MJ(t+""=="warning-small")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[162]].join("")),e+=u[40]):l.MJ(t+""=="primary-flat")&&(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[163]].join("")),e+=u[18]),e+=u[31],l.MD(h[139])&&(e+=u[40],l.MN(h[107],l.MC(h[139])),e+=u[54],l.MJ(/^a$/i.test(l.MC(h[107])))&&l.MN(h[140],u[164]),e+=u[40],l.MJ(/^input$/i.test(l.MC(h[107])))&&l.MN(h[141],u[164]),e+=u[40],l.MJ(/^button$/i.test(l.MC(h[107])))&&l.MN(h[142],u[164]),e+=u[18]),e+=u[31],l.MD(h[143])&&(e+=u[40],l.MN(h[103],[u[66],l.F.entities(l.MC(h[143])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[144])&&(e+=u[40],l.MN(h[110],[u[165],l.F.entities(l.MC(h[144])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[145])&&(e+=u[40],l.MN(h[132],l.F.entities(l.MC(h[145]))),e+=u[18]),e+=u[31],l.MD(h[146])){e+=u[40];var i="";l.MD(h[132])||(i+=l.F.entities(l.MC(h[102]))),i+=[u[48],l.F.entities(l.MC(h[146]))].join(""),l.MN(h[102],i),e+=u[18]}return e+=u[31],l.MD(h[147])&&(e+=u[40],l.MN(h[112],[u[166],l.F.entities(l.MC(h[147])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[148])&&(e+=u[40],l.MN(h[108],[u[167],l.F.entities(l.MC(h[148])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[149])&&(e+=u[40],l.MN(h[109],l.MC(h[149])),e+=u[18]),e+=u[31],l.MD(h[150])&&(e+=u[40],l.MN(h[113],[u[168],l.F.entities(l.MC(h[150])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[151])&&(e+=u[7],l.MN(h[115],[u[169],l.F.entities(l.MC(h[151])),u[170],l.F.entities(l.MC(h[152])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[153])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[153])),u[170],l.F.entities(l.MC(h[154])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[155])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[155])),u[170],l.F.entities(l.MC(h[156])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[157])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[157])),u[170],l.F.entities(l.MC(h[158])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[159])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[159])),u[170],l.F.entities(l.MC(h[160])),u[67]].join("")),e+=u[18]),e+=u[31],l.MJ(l.MC(h[161]))&&l.MK(l.MC(h[162]))&&(e+=u[40],l.MN(h[114],[u[172],l.F.entities(l.MC(h[161])),u[67]].join("")),e+=u[18]),e+=u[17],l.MD(h[163])&&(e+=u[40],l.MN(h[133],[u[173],l.F.entities(l.MC(h[163])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[164])&&(e+=u[40],l.MN(h[134],[u[174],l.F.entities(l.MC(h[164])),u[67]].join("")),e+=u[18]),e+=[u[175],l.F.entities(l.MC(h[107])),u[176],l.MC(h[102]),u[177],l.MC(h[110]),u[40],l.MC(h[103]),u[40],l.MC(h[108]),u[40],l.MC(h[109]),u[40],l.MC(h[112]),u[7],l.MC(h[113]),u[40],l.MC(h[115]),u[40],l.MC(h[114]),u[40],l.MC(h[133]),u[40],l.F.entities(l.MC(h[134])),u[130]].join(""),l.MD(h[125])&&(e+=[u[178],l.F.entities(l.MC(h[125])),u[179]].join("")),e+=u[54],l.MJ(l.MC(h[107])+""=="input")?e+=[u[180],l.F.entities(l.MC(h[104])),u[181]].join(""):(e+=[u[182],l.MC(h[104]),u[183]].join(""),l.MD(h[105])&&(e+=u[184],l.MD(h[165])&&(e+=u[185]),e+=[u[186],l.MC(h[105]),u[183]].join("")),e+=u[93],l.MD(h[166])&&(e+=u[187]),e+=[u[188],l.F.entities(l.MC(h[107])),u[78]].join("")),e+=u[18],_r_(e)}(e),o.shift(),e+=u[31]);e+=u[31],l.MN("fe_new_cancel_funnel",l.MB(h[168])),e+=u[18];var t="";t+=u[48],l.MN(h[169],t),e+=u[31],l.MJ(l.MB(h[181])+""=="confirmation")&&l.MJ(l.MB(h[182]))&&l.MJ(l.MB(h[183]))&&l.MK(l.MB(h[184]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[180])}),e=c(e),o.shift(),e+=u[208]);e+=u[31],l.MJ(2==l.MB(h[185]))&&l.MJ(1==l.MB(h[182]))&&l.MJ(1==l.MB(h[183]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[180])}),e=c(e),o.shift(),e+=u[208]);if(e+=u[31],l.MD(h[195])){if(e+=u[7],l.MD(h[184]))e+=[u[209],l.F.entities(l.MC(h[186])),u[210],l.F.entities(l.MC(h[169])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");else if(l.MJ(l.MB(h[181])+""=="confirmation")&&l.MJ(l.MB(h[182]))&&l.MJ(l.MB(h[183]))){e+=u[214];var t="";l.MD(h[188])&&(t+=u[215]),l.MN(h[187],t),e+=u[9],l.MN(h[189],[u[216],l.F.entities(l.MC(h[190]))].join("")),e+=u[9],l.MN(h[191],l.MC(h[192])),e+=[u[217],l.F.entities(l.MC(h[191])),u[218],l.F.entities(l.MC(h[189])),u[219],l.F.entities(l.MC(h[187])),u[220],l.F.entities(l.MC(h[169])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else if(l.MJ(2==l.MB(h[185]))&&l.MJ(1==l.MB(h[182]))&&l.MJ(1==l.MB(h[183]))){e+=u[214];var t="";l.MD(h[188])&&(t+=u[215]),l.MN(h[187],t),e+=u[9],l.MN(h[189],[u[216],l.F.entities(l.MC(h[190]))].join("")),e+=u[9],l.MN(h[191],l.MC(h[192])),e+=[u[221],l.F.entities(l.MC(h[191])),u[218],l.F.entities(l.MC(h[189])),u[219],l.F.entities(l.MC(h[187])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else e+=u[214],l.MN(h[193],[l.MC(h[93]),l.F.entities(l.MC(h[194])),u[222]].join("")),e+=[u[223],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");e+=u[18]}return e+=u[18],_r_(e)}(e+=u[8]),e+=u[7]),e+=u[224],_r_(e)}function r(e){_i_("3bb:d44eb328"),e+=u[31];var t="";t+=u[7],l.MD(h[171])?t+=l.MC(h[171]):t+=u[193],t+=u[18],l.MN(h[170],t),e+=u[31];t="";t+=u[7],l.MD(h[173])?t+=l.MC(h[173]):t+=u[194],t+=u[18],l.MN(h[172],t),e+=u[31];t="";t+=u[7],l.MD(h[175])?t+=l.MC(h[175]):t+=u[195],t+=u[18],l.MN(h[174],t),e+=u[31];t="";return l.MD(h[177])?t+=l.MC(h[177]):t+=u[196],l.MN(h[176],t),e+=[u[197],l.MC(h[178]),u[198],l.F.entities(l.MC(h[170])),u[199],l.F.entities(l.MC(h[172])),u[200],l.STATIC_HOSTNAME("/static/img/ajax-loaders/"+l.MB(h[176]),0,0,0,0),u[201],l.F.entities(l.MC(h[174])),u[202]].join(""),l.MD(h[179])?e+=[u[203],l.MC(h[179]),u[204]].join(""):e+=[u[203],l.ME(u[205],l.MB,l.MN,null),u[206]].join(""),e+=u[207],_r_(e)}function c(e){_i_("3bb:5485ff5f"),e+=u[31];var t="";t+=u[7],l.MD(h[171])?t+=l.MC(h[171]):t+=u[193],t+=u[18],l.MN(h[170],t),e+=u[31];t="";t+=u[7],l.MD(h[173])?t+=l.MC(h[173]):t+=u[194],t+=u[18],l.MN(h[172],t),e+=u[31];t="";t+=u[7],l.MD(h[175])?t+=l.MC(h[175]):t+=u[195],t+=u[18],l.MN(h[174],t),e+=u[31];t="";return l.MD(h[177])?t+=l.MC(h[177]):t+=u[196],l.MN(h[176],t),e+=[u[197],l.MC(h[178]),u[198],l.F.entities(l.MC(h[170])),u[199],l.F.entities(l.MC(h[172])),u[200],l.STATIC_HOSTNAME("/static/img/ajax-loaders/"+l.MB(h[176]),0,0,0,0),u[201],l.F.entities(l.MC(h[174])),u[202]].join(""),l.MD(h[179])?e+=[u[203],l.MC(h[179]),u[204]].join(""):e+=[u[203],l.ME(u[205],l.MB,l.MN,null),u[206]].join(""),e+=u[207],_r_(e)}function _(e){return _i_("3bb:d62fc399"),e+=u[97],l.MD(h[86])?(e+=[u[70],l.MB(h[86]),u[67]].join(""),l.MD(h[87])&&(e+=[u[71],l.MB(h[87]),u[67]].join(""))):e+=u[72],e+=[u[98],(o.unshift({review_score_number:l.MB(h[88])}),p=l.ME(u[99],l.MB,l.MN,null),o.shift(),p),u[100],l.F.entities(l.MB(h[88])),u[101]].join(""),l.MD(h[86])?e+=u[77]:e+=u[72],e+=u[102],_r_(e)}function d(e){return _i_("3bb:697ab032"),e+=u[97],l.MD(h[86])?(e+=[u[70],l.MB(h[86]),u[67]].join(""),l.MD(h[87])&&(e+=[u[71],l.MB(h[87]),u[67]].join(""))):e+=u[72],e+=[u[98],(o.unshift({review_score_number:l.MB(h[88])}),p=l.ME(u[99],l.MB,l.MN,null),o.shift(),p),u[100],l.F.entities(l.MB(h[88])),u[101]].join(""),l.MD(h[86])?e+=u[77]:e+=u[72],e+=u[102],_r_(e)}function b(e){return _i_("3bb:b3719562"),e+=u[97],l.MD(h[86])?(e+=[u[70],l.MB(h[86]),u[67]].join(""),l.MD(h[87])&&(e+=[u[71],l.MB(h[87]),u[67]].join(""))):e+=u[72],e+=[u[98],(o.unshift({review_score_number:l.MB(h[88])}),p=l.ME(u[99],l.MB,l.MN,null),o.shift(),p),u[100],l.F.entities(l.MB(h[88])),u[101]].join(""),l.MD(h[86])?e+=u[77]:e+=u[72],e+=u[102],_r_(e)}return e+=u[0],o.unshift({active_perfectly_overlapped_bookings:l.MB(h[196]),fe_base_css_class:u[230]}),e=function(e){if(_i_("3bb:74452650"),l.MD(h[5])){e+=u[1],l.MD(h[0])?e+=u[2]:e+=u[3],e+=u[4],l.MD(h[1])&&(e+=[u[5],l.MC(h[1]),u[6]].join("")),e+=u[7],l.MD(h[2])&&(e+=u[8],l.MJ(s=l.MC(h[2]))&&!l.IS_EMPTY_OBJECT(s)&&(o.unshift(s),e+=u[9],l.MN(h[3],[u[10],l.MC(h[4]),u[11]].join("")),e+=u[9],l.MN("num_bookings",l.array_length(l.MB(h[5]))),e+=[u[12],l.ME(u[13],l.MB,l.MN,l.MO(l.MC(h[6]),null,u[13])),u[14]].join(""),o.shift()),e+=u[7]),e+=u[15],l.MD(h[2])&&(e+=u[9],l.MJ(s=l.MC(h[2]))&&!l.IS_EMPTY_OBJECT(s)&&(o.unshift(s),e+=u[16],o.unshift({b_lang_is_rtl:l.MC(h[0]),b_site_type:l.MC(h[82]),fe_show_non_free:u[155],hid:l.MB(h[21]),mybooking_url:l.MB(h[93]),num_nights:l.MB(h[97]),property_name:l.MB(h[4]),total_price_pretty:l.MB(h[98])}),e=function(e){_i_("3bb:4e26c3e1"),e+=u[17],l.MN("distance_to_hub",0),e+=u[18],l.MN("property_distance_to_airport",0),e+=u[18],l.MN("property_distance_to_train",0),e+=u[18],l.MN("property_distance_to_metro",0),e+=u[18],l.MN("property_distance_from_city_center",0),e+=u[18],l.MN("fe_show_overlay",0),e+=u[19],l.MJ(4<l.MB(h[7]))&&l.MJ(l.MB(h[8]))&&(e+=u[20],l.MN("fe_show_overlay",1),e+=u[18]),e+=u[19];var t=l.MC(h[9])||[];o.unshift(null);for(var i=1,n=t.length;i<=n;i++){if(o[0]=t[i-1],e+=u[0],l.MN(h[10],[u[21],l.MC(h[11]),u[22]].join("")),e+=u[0],l.MJ(l.MB(h[14])+""=="airport")&&(e+=u[7],l.MN(h[12],[u[8],(o.unshift({hub_name:l.MB(h[13])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[7]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[14])+""=="train_station")&&(e+=u[7],l.MN(h[15],[u[8],(o.unshift({hub_name:l.MB(h[16])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[7]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[14])+""=="metro")&&(e+=u[7],l.MN(h[17],[u[8],(o.unshift({hub_name:l.MB(h[16])}),p=l.ME(u[23],l.MB,l.MN,null),o.shift(),p),u[7]].join("")),e+=u[20]),e+=u[20],l.MJ(l.MB(h[14])+""=="city_centre")){e+=u[7];var a="";a+=u[8],l.MJ(0==l.MB(h[19]))?a+=[u[24],l.ME(u[25],l.MB,l.MN,null),u[26]].join(""):a+=[u[27],(o.unshift({city_name:l.MB(h[20]),measurement_unit:u[29],num_distance:l.MB(h[11])}),p=l.ME(u[28],l.MB,l.MN,null),o.shift(),p),u[30]].join(""),a+=u[7],l.MN(h[18],a),e+=u[20]}e+=u[31]}return o.shift(),e+=[u[32],l.MC(h[21]),u[33]].join(""),l.MD(h[22])&&(e+=[u[34],l.STATIC_HOSTNAME(l.MB(h[22]),0,0,0,0),u[35]].join("")),e+=u[36],l.MD(h[92])&&(e+=u[37],o.unshift({sample_size:l.MB(h[7]),score:l.MB(h[8]),style:u[114]}),e=function(e){_i_("3bb:223ac7f6"),e+=u[38],l.MJ(l.MC(h[23]))&&l.MJ(/,/.test(l.MB(h[24])))&&(e+=u[39]),e+=u[19],l.MJ(l.MB(h[25]))||l.MJ(/,/.test(l.MB(h[24])))?(e+=u[40],l.MN("fe_formatted_score",l.MB(h[24]))):(e+=u[40],l.MN("fe_formatted_score",l.format_review_score_plain(l.MI(0)+l.MI(l.MB(h[24]))))),e+=u[18],e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[27]))?t+=l.MB(h[27]):t+=u[41],t+=u[29],l.MN(h[26],t),e+=u[31];var t="";t+=u[29],l.MJ(l.MB(h[29]))?(t+=u[29],l.MJ(l.MB(h[29])+""!="none")&&l.MJ(l.MB(h[26])+""=="none")?t+=u[42]:t+=[u[29],l.MB(h[29]),u[29]].join(""),t+=u[29]):t+=u[41],t+=u[29],l.MN(h[28],t),e+=u[19];var i,t="";t+=u[29],(l.MJ(l.MB(h[29]))&&l.MJ(l.MB(h[29])+""=="auto")||l.MK(l.MB(h[29])))&&l.MJ(l.MB(h[31]))?(t+=u[29],l.MN("fe_formatted_sample_size",l.format_number(l.MB(h[31]))),t+=[u[29],(o.unshift({num_reviews:l.MB(h[32])}),p=l.VP(u[43],l.MO(l.MI(l.MC(h[31]))+l.MI(0),null,u[43])),o.shift(),p),u[29]].join("")):l.MJ(l.MB(h[29])+""!="none")&&l.MJ(l.MB(h[29])+""!="auto")&&(t+=[u[29],l.MB(h[29]),u[29]].join("")),t+=u[29],l.MN(h[30],t),e+=u[19],l.MN("fe_is_alt_version",l.MJ(l.MB(h[33])+""=="right")),e+=u[19],o.unshift({low_score_adjectives:l.MB(h[44]),score:l.MI(0)+l.MI(l.MB(h[24]))}),i=e,_i_("3bb:28b23c40"),i+=u[18],l.MN("fe_review_score",l.MI(l.MB(h[24]))+l.MI(0)),i+=u[19],l.MN("fe_review_score_word_tag",l.MB(h[34])||"p"),i+=u[19],l.MN("fe_review_score_word_class_list","review-score-word"),i+=u[19],l.MJ(7<=l.MB(h[36]))&&(i+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[35])+" review-score-word--highlighted"),i+=u[18]),i+=u[31],l.MD(h[37])&&(i+=u[20],l.MN("fe_review_score_word_class_list",l.MB(h[35])+" "+l.MB(h[37])),i+=u[18]),i+=u[17],l.MD(h[44])?(i+=u[20],l.MJ(0<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<3)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[38])),i+=u[45]),i+=u[20],l.MJ(3<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<4)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[39])),i+=u[46]),i+=u[20],l.MJ(4<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<5)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[40])),i+=u[47]),i+=u[20],l.MJ(5<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<5.6)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[41])),i+=u[48]),i+=u[20],l.MJ(5.6<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<6)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[42])),i+=u[49]),i+=u[20],l.MJ(6<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<7)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[43])),i+=u[50])):(i+=u[20],l.MJ(0<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<7)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[45])),i+=u[48])),i+=u[18],i+=u[18],l.MJ(7<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<8)&&(i+=u[44],l.MN("fe_review_score_word_copy",l.MB(h[46])),i+=u[51]),i+=u[18],l.MJ(8<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<8.6)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[47])),i+=u[48]),i+=u[18],l.MJ(8.6<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<9)&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[48])),i+=u[52]),i+=u[31],l.MJ(9<=l.MB(h[36]))&&l.MJ(l.MB(h[36])<9.5)&&(i+=u[48],l.MN(h[49],l.ME(u[53],l.MB,l.MN,null)),i+=u[48]),i+=u[19],l.MJ(9.5<=l.MB(h[36]))&&(i+=u[48],l.MN("fe_review_score_word_copy",l.MB(h[50])),i+=u[48]),i+=u[19],i+=u[18],e=_r_(i),o.shift(),e+=u[31];var n,t="";t+=u[29],l.MJ(l.MB(h[27]))&&l.MJ(l.MB(h[27])+""=="auto")||(l.MK(l.MB(h[27]))||l.MJ(l.MB(h[27])+""=="none"))&&l.MJ(l.MB(h[30])+""!="")?t+=[u[29],l.MB(h[49]),u[29]].join(""):l.MJ(l.MB(h[27]))&&l.MJ(l.MB(h[27])+""!="none")&&(t+=[u[29],l.MB(h[27]),u[29]].join("")),t+=u[29],l.MN(h[51],t),e+=u[31],l.MD(h[51])&&(e+=u[40],l.MN("fe_widget_text",l.MB(h[52])+""+l.MB(h[51])+l.MB(h[53])),e+=u[18]),e+=u[19],l.MN("score_only",l.MJ(l.MB(h[51])+""=="")&&l.MJ(l.MB(h[30])+""=="")),e+=u[38],o.unshift({prefix:u[57],score:l.MI(0)+l.MI(l.MB(h[24]))}),n=e,_i_("3bb:1b8f0808"),n+=u[17],l.MN("fe_score",l.MI(l.MB(h[24]))+l.MI(0)),n+=u[19],l.MN("fe_score_word_name",""),n+=u[18],l.MJ(0<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<3)&&(n+=u[40],l.MN("fe_score_word_name","very_poor"),n+=u[18]),n+=u[31],l.MJ(3<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<4)&&(n+=u[40],l.MN("fe_score_word_name","poor"),n+=u[18]),n+=u[31],l.MJ(4<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<5)&&(n+=u[40],l.MN("fe_score_word_name","disappointing"),n+=u[18]),n+=u[31],l.MJ(5<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<5.6)&&(n+=u[40],l.MN("fe_score_word_name","average_passable"),n+=u[18]),n+=u[31],l.MJ(5.6<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<6)&&(n+=u[40],l.MN("fe_score_word_name","average_okay"),n+=u[18]),n+=u[31],l.MJ(6<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<7)&&(n+=u[40],l.MN("fe_score_word_name","pleasant"),n+=u[18]),n+=u[31],l.MJ(7<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<8)&&(n+=u[40],l.MN("fe_score_word_name","good"),n+=u[18]),n+=u[31],l.MJ(8<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<8.6)&&(n+=u[40],l.MN("fe_score_word_name","very_good"),n+=u[18]),n+=u[31],l.MJ(8.6<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<9)&&(n+=u[40],l.MN("fe_score_word_name","fabulous"),n+=u[18]),n+=u[31],l.MJ(9<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<9.5)&&(n+=u[40],l.MN("fe_score_word_name","superb"),n+=u[18]),n+=u[31],l.MJ(9.5<=l.MB(h[54]))&&(n+=u[40],l.MN("fe_score_word_name","exceptional"),n+=u[18]),n+=u[19],l.MN("fe_classname",""),n+=u[18],l.MJ(0<=l.MB(h[54]))&&l.MJ(l.MB(h[54])<=10)&&(n+=u[54],l.MN("fe_classname",l.MB(h[55])+""+l.MB(h[56])+l.MB(h[57])),n+=u[55],l.MJ(l.MB(h[54])<7)&&(n+=u[56],l.MN("fe_classname",l.MB(h[58])+" "+l.MB(h[55])+"low"+l.MB(h[57])),n+=u[40]),n+=u[31]),n+=u[18],e=_r_(n),o.shift(),e+=u[18],l.MN("fe_widget_class",l.MB(h[58])),e+=u[31],l.MJ(l.MB(h[24])<1)&&(e+=u[40],l.MN("fe_widget_class","review-score-widget__empty"),e+=u[18]),e+=u[17];var t="";l.MD(h[60])&&(t+=[u[57],l.F.entities(l.MB(h[60])),u[48]].join("")),l.MD(h[61])&&(t+=u[58]),l.MN(h[59],t),e+=u[17];var t="";l.MJ(l.MB(h[63]))&&l.MK(l.MB(h[61]))&&(t+=[u[57],l.F.entities(l.MB(h[63])),u[48]].join("")),l.MN(h[62],t),e+=u[17];var t="";l.MJ(l.MB(h[33])+""=="right")&&l.MK(l.MB(h[61]))&&(t+=[u[57],l.F.entities(l.MB(h[33])),u[48]].join("")),l.MN(h[64],t),e+=u[17];var t="";l.MJ(l.MB(h[66])+""=="smaller")?t+=u[59]:l.MJ(l.MB(h[66])+""=="small")?t+=u[60]:l.MJ(l.MB(h[66])+""=="large")?t+=u[61]:l.MJ(l.MB(h[66])+""=="larger")&&(t+=u[62]),l.MN(h[65],t),e+=u[19];var t="";(l.MJ(l.MB(h[60])+""=="outlined")||l.MJ(l.MB(h[60])+""=="text-only"))&&(t+=[l.F.entities(l.MB(h[60])),u[48]].join("")),l.MN(h[67],t),e+=u[19];var t="";t+=[u[63],l.F.entities(l.MB(h[68])),u[48],l.F.entities(l.MB(h[59])),u[48],l.F.entities(l.MB(h[62])),u[48],l.F.entities(l.MB(h[64])),u[48],l.F.entities(l.MB(h[65])),u[48]].join(""),l.MK(l.MB(h[30]))&&(t+=u[64]),t+=u[48],l.MD(h[69])&&(t+=u[65]),t+=u[48],l.MD(h[70])&&(t+=[u[48],l.F.entities(l.MB(h[70]))].join("")),t+=u[48],l.MN(h[68],t),e+=u[19];var a,t="";l.MD(h[72])&&(t+=[u[66],l.MB(h[72]),u[67]].join("")),l.MN(h[71],t),a=e+=u[68],_i_("3bb:b722228d"),l.MN("fe_rating",l.MI(l.MB(h[24]))+l.MI(0)),a+=u[19],l.MN("fe_rating_adj",""),a+=u[18],l.MJ(0<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<3)&&(a+=u[40],l.MN("fe_rating_adj","1"),a+=u[18]),a+=u[31],l.MJ(3<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<4)&&(a+=u[40],l.MN("fe_rating_adj","2"),a+=u[18]),a+=u[31],l.MJ(4<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<5)&&(a+=u[40],l.MN("fe_rating_adj","3"),a+=u[18]),a+=u[31],l.MJ(5<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<5.6)&&(a+=u[40],l.MN("fe_rating_adj","4"),a+=u[18]),a+=u[31],l.MJ(5.6<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<6)&&(a+=u[40],l.MN("fe_rating_adj","5"),a+=u[18]),a+=u[31],l.MJ(6<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<7)&&(a+=u[40],l.MN("fe_rating_adj","6"),a+=u[18]),a+=u[31],l.MJ(7<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<8)&&(a+=u[40],l.MN("fe_rating_adj","7"),a+=u[18]),a+=u[31],l.MJ(8<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<8.6)&&(a+=u[40],l.MN("fe_rating_adj","8"),a+=u[18]),a+=u[31],l.MJ(8.6<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<9)&&(a+=u[40],l.MN("fe_rating_adj","9"),a+=u[18]),a+=u[31],l.MJ(9<=l.MB(h[73]))&&l.MJ(l.MB(h[73])<9.5)&&(a+=u[40],l.MN("fe_rating_adj","10"),a+=u[18]),a+=u[31],l.MJ(9.5<=l.MB(h[73]))&&(a+=u[40],l.MN("fe_rating_adj","11"),a+=u[18]),e=_r_(a),e+=u[31],e+=u[31];var t="";t+=u[40],l.MD(h[51])&&(t+=u[69],l.MD(h[75])?(t+=[u[70],l.MB(h[75]),u[67]].join(""),l.MD(h[76])&&(t+=[u[71],l.MB(h[76]),u[67]].join(""))):t+=u[72],t+=[u[73],(o.unshift({rating_adjective:l.MB(h[77])}),p=l.ME(u[74],l.MB,l.MN,null),o.shift(),p),u[75],l.MB(h[51]),u[76]].join(""),l.MD(h[75])?t+=u[77]:t+=u[72],t+=u[78]),t+=u[18],l.MN(h[74],t),e+=u[31];var t="";t+=u[40],l.MD(h[30])&&(t+=u[69],l.MD(h[79])?(t+=[u[70],l.MB(h[79]),u[67]].join(""),l.MD(h[80])&&(t+=[u[71],l.MB(h[80]),u[67]].join(""))):t+=u[79],t+=[u[80],(o.unshift({num_reviews:l.MB(h[32])}),p=l.ME(u[81],l.MB,l.MN,null),o.shift(),p),u[82],l.F.entities(l.MB(h[30])),u[76]].join(""),l.MD(h[79])?t+=u[77]:t+=u[72],t+=u[78]),t+=u[18],l.MN(h[78],t),e+=u[83];var t="";return t+=[u[84],l.MB(h[71]),u[85]].join(""),t+=l.F.entities(l.MB(h[68])),l.MJ(l.MC(h[23]))&&l.MJ(l.MC(h[82])+""=="www")&&l.MJ(!1)&&(t+=u[86]),t+=u[87],l.MD(h[83])&&(t+=[u[88],l.MB(h[83]),u[89]].join("")),t+=u[89],l.MD(h[84])&&(t+=[u[90],l.MC(h[84]),u[87]].join("")),t+=u[91],l.MJ(l.MB(h[24])<1)?t+=u[92]:(t+=u[93],l.MD(h[85])&&(t+=[u[89],l.MB(h[85]),u[56]].join("")),t+=u[94],l.MD(h[89])?(t+=u[95],l.MJ(l.MB(h[63])+""=="inline")?t=d(t+=[u[96],l.MB(h[78]),u[88],l.MB(h[74]),u[88]].join("")):(t+=u[88],l.MJ(l.MB(h[60])+""=="text-only")?(t=_(t+=[u[103],l.MB(h[74]),u[104]].join("")),t+=[u[104],l.MB(h[78]),u[88]].join("")):(t+=u[103],(l.MJ(l.MB(h[51]))||l.MJ(l.MB(h[30])))&&(t+=[u[105],l.MB(h[74]),u[106],l.MB(h[78]),u[107]].join("")),t=_(t+=u[104]),t+=u[88])),t+=u[89]):(t+=u[95],l.MJ(l.MB(h[60])+""=="text-only")||l.MJ(l.MB(h[63])+""=="inline")?(t=d(t+=u[96]),t+=[u[88],l.MB(h[74]),u[88],l.MB(h[78]),u[89]].join("")):(t=d(t+=u[96]),t+=u[88],(l.MJ(l.MB(h[51]))||l.MJ(l.MB(h[30])))&&(t+=[u[108],l.MB(h[74]),u[109],l.MB(h[78]),u[110]].join("")),t+=u[89])),t+=u[93],t+=u[93],l.MD(h[90])&&(t+=[u[89],l.MB(h[90]),u[56]].join("")),t+=u[93]),t+=u[111],l.MN(h[81],t),e+=u[112],l.MN(h[27],void 0),e+=u[18],l.MN(h[29],void 0),e+=u[18],l.MN(h[24],void 0),e+=u[18],l.MN(h[31],void 0),e+=u[18],l.MN(h[91],void 0),e+=u[18],l.MN(h[70],void 0),e+=u[18],l.MN(h[83],void 0),e+=u[18],l.MN(h[66],void 0),e+=u[18],l.MN(h[60],void 0),e+=u[18],l.MN(h[63],void 0),e+=u[18],l.MN(h[33],void 0),e+=u[18],l.MN(h[44],void 0),e+=u[18],l.MN(h[72],void 0),e+=u[83],l.MJ(l.MB(h[91])+""=="no")?e+=u[113]:e+=[u[55],l.MB(h[81]),u[18]].join(""),e+=u[18],_r_(e)}(e),o.shift(),e+=u[115]),e+=u[116],l.MD(h[93])?e+=[u[117],l.MC(h[93]),u[118],l.MC(h[94]),u[119],l.MC(h[94]),u[120]].join(""):e+=[u[121],l.MC(h[94]),u[26]].join(""),e+=u[122],(l.MJ(l.MB(h[95]))||l.MJ(l.MB(h[96])))&&(e+=u[123],l.MD(h[95])&&(e+=[u[124],l.MC(h[95]),u[125]].join("")),e+=u[126],l.MD(h[96])&&(e+=[u[124],l.MC(h[96]),u[126]].join("")),e+=u[127],l.MD(h[18])&&(e+=[u[126],l.MC(h[18]),u[128]].join("")),e+=u[129]),e+=u[130],l.MD(h[12])&&(e+=[u[131],l.MC(h[12]),u[132]].join("")),e+=u[130],l.MD(h[17])&&(e+=[u[133],l.MC(h[17]),u[132]].join("")),e+=u[130],l.MD(h[15])&&(e+=[u[134],l.MC(h[15]),u[135]].join("")),e+=[u[136],l.ME(u[137],l.MB,l.MN,l.MO(l.MC(h[97]),null,u[137])),u[138],l.MC(h[98]),u[139]].join(""),l.MJ(l.MB(h[99]))&&l.MJ(0<l.MC(h[100]).amount)&&(e+=[u[140],l.ME(u[141],l.MB,l.MN,null),u[142]].join("")),e+=u[143],l.MD(h[101])?e+=[u[144],l.ME(u[145],l.MB,l.MN,null),u[146]].join(""):(e=function(e){_i_("3bb:5a458f4c"),e+=u[38],l.MJ(l.MC(h[82])+""=="mdot")?e+=[u[147],l.MC(h[93]),u[148],l.ME(u[149],l.MB,l.MN,null),u[150]].join(""):(e+=u[0],o.unshift({b_extra_classes:u[189],b_href:l.MB(h[93]),b_tag:u[77],b_target:u[190],b_text:l.MB(h[167]),b_type:u[191]}),e=function(e){_i_("3bb:c8b059fb"),e+=u[17],l.MN(h[102],u[151]),e+=u[18],l.MN(h[103],void 0),e+=u[18],l.MN(h[104],u[152]),e+=u[18],l.MN(h[105],void 0),e+=u[18],l.MN(h[106],void 0),e+=u[18],l.MN(h[107],u[153]),e+=u[18],l.MN(h[108],void 0),e+=u[18],l.MN(h[109],void 0),e+=u[18],l.MN(h[110],void 0),e+=u[18],l.MN(h[111],void 0),e+=u[18],l.MN(h[112],void 0),e+=u[18],l.MN(h[113],void 0),e+=u[18],l.MN(h[114],void 0),e+=u[18],l.MN(h[115],void 0),e+=u[19],l.MN(h[116],u[154]),e+=u[31],l.MN(h[117],void 0),e+=u[18],l.MN(h[118],void 0),e+=u[18],l.MN(h[119],void 0),e+=u[18],l.MN(h[120],void 0),e+=u[18],l.MN(h[121],void 0),e+=u[18],l.MN(h[122],void 0),e+=u[18],l.MN(h[123],void 0),e+=u[18],l.MN(h[124],void 0),e+=u[31],l.MD(h[126])?(e+=u[40],l.MN(h[125],l.F.entities(l.MC(h[126])))):(e+=u[40],l.MN(h[125],void 0)),e+=u[18],e+=u[31],l.MN(h[127],void 0),e+=u[18],l.MN(h[128],void 0),e+=u[31],l.MN(h[129],u[155]),e+=u[18],l.MN(h[130],u[155]),e+=u[18],l.MN(h[131],u[155]),e+=u[31],l.MN(h[132],u[155]),e+=u[19],l.MN(h[133],void 0),e+=u[18],l.MN(h[134],void 0),e+=u[31],l.MD(h[135])&&(e+=u[40],l.MN(h[104],l.MC(h[135])),e+=u[18]),e+=u[31],l.MD(h[136])&&(e+=u[40],l.MN(h[105],l.MC(h[136])),e+=u[18]),e+=u[31],l.MD(h[137])&&(e+=u[40],l.MN(h[106],l.MC(h[137])),e+=u[18]),e+=u[31];var t=l.MC(h[138]);if(l.MJ(t+""=="primary")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[156]].join("")),e+=u[40]):l.MJ(t+""=="secondary")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[157]].join("")),e+=u[40]):l.MJ(t+""=="warning")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[158]].join("")),e+=u[40]):l.MJ(t+""=="disabled")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[159]].join("")),e+=u[40]):l.MJ(t+""=="primary-small")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[160]].join("")),e+=u[40]):l.MJ(t+""=="secondary-small")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[161]].join("")),e+=u[40]):l.MJ(t+""=="warning-small")?(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[162]].join("")),e+=u[40]):l.MJ(t+""=="primary-flat")&&(e+=u[56],l.MN(h[102],[l.F.entities(l.MC(h[102])),u[163]].join("")),e+=u[18]),e+=u[31],l.MD(h[139])&&(e+=u[40],l.MN(h[107],l.MC(h[139])),e+=u[54],l.MJ(/^a$/i.test(l.MC(h[107])))&&l.MN(h[140],u[164]),e+=u[40],l.MJ(/^input$/i.test(l.MC(h[107])))&&l.MN(h[141],u[164]),e+=u[40],l.MJ(/^button$/i.test(l.MC(h[107])))&&l.MN(h[142],u[164]),e+=u[18]),e+=u[31],l.MD(h[143])&&(e+=u[40],l.MN(h[103],[u[66],l.F.entities(l.MC(h[143])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[144])&&(e+=u[40],l.MN(h[110],[u[165],l.F.entities(l.MC(h[144])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[145])&&(e+=u[40],l.MN(h[132],l.F.entities(l.MC(h[145]))),e+=u[18]),e+=u[31],l.MD(h[146])){e+=u[40];var i="";l.MD(h[132])||(i+=l.F.entities(l.MC(h[102]))),i+=[u[48],l.F.entities(l.MC(h[146]))].join(""),l.MN(h[102],i),e+=u[18]}return e+=u[31],l.MD(h[147])&&(e+=u[40],l.MN(h[112],[u[166],l.F.entities(l.MC(h[147])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[148])&&(e+=u[40],l.MN(h[108],[u[167],l.F.entities(l.MC(h[148])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[149])&&(e+=u[40],l.MN(h[109],l.MC(h[149])),e+=u[18]),e+=u[31],l.MD(h[150])&&(e+=u[40],l.MN(h[113],[u[168],l.F.entities(l.MC(h[150])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[151])&&(e+=u[7],l.MN(h[115],[u[169],l.F.entities(l.MC(h[151])),u[170],l.F.entities(l.MC(h[152])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[153])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[153])),u[170],l.F.entities(l.MC(h[154])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[155])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[155])),u[170],l.F.entities(l.MC(h[156])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[157])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[157])),u[170],l.F.entities(l.MC(h[158])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[159])&&(e+=u[7],l.MN(h[115],[l.MC(h[115]),u[171],l.F.entities(l.MC(h[159])),u[170],l.F.entities(l.MC(h[160])),u[67]].join("")),e+=u[18]),e+=u[31],l.MJ(l.MC(h[161]))&&l.MK(l.MC(h[162]))&&(e+=u[40],l.MN(h[114],[u[172],l.F.entities(l.MC(h[161])),u[67]].join("")),e+=u[18]),e+=u[17],l.MD(h[163])&&(e+=u[40],l.MN(h[133],[u[173],l.F.entities(l.MC(h[163])),u[67]].join("")),e+=u[18]),e+=u[31],l.MD(h[164])&&(e+=u[40],l.MN(h[134],[u[174],l.F.entities(l.MC(h[164])),u[67]].join("")),e+=u[18]),e+=[u[175],l.F.entities(l.MC(h[107])),u[176],l.MC(h[102]),u[177],l.MC(h[110]),u[40],l.MC(h[103]),u[40],l.MC(h[108]),u[40],l.MC(h[109]),u[40],l.MC(h[112]),u[7],l.MC(h[113]),u[40],l.MC(h[115]),u[40],l.MC(h[114]),u[40],l.MC(h[133]),u[40],l.F.entities(l.MC(h[134])),u[130]].join(""),l.MD(h[125])&&(e+=[u[178],l.F.entities(l.MC(h[125])),u[179]].join("")),e+=u[54],l.MJ(l.MC(h[107])+""=="input")?e+=[u[180],l.F.entities(l.MC(h[104])),u[181]].join(""):(e+=[u[182],l.MC(h[104]),u[183]].join(""),l.MD(h[105])&&(e+=u[184],l.MD(h[165])&&(e+=u[185]),e+=[u[186],l.MC(h[105]),u[183]].join("")),e+=u[93],l.MD(h[166])&&(e+=u[187]),e+=[u[188],l.F.entities(l.MC(h[107])),u[78]].join("")),e+=u[18],_r_(e)}(e),o.shift(),e+=u[31]),e+=u[31],l.MN("fe_new_cancel_funnel",l.MB(h[168])),e+=u[18];var t="";if(t+=u[48],l.MN(h[169],t),e+=u[31],l.MJ(l.MB(h[181])+""=="confirmation")&&l.MJ(l.MB(h[182]))&&l.MJ(l.MB(h[183]))&&l.MK(l.MB(h[184]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[180])}),e=r(e),o.shift(),e+=u[208]),e+=u[31],l.MJ(2==l.MB(h[185]))&&l.MJ(1==l.MB(h[182]))&&l.MJ(1==l.MB(h[183]))&&(e+=u[192],o.unshift({fe_preloader_with_text__text:l.MB(h[180])}),e=r(e),o.shift(),e+=u[208]),e+=u[31],l.MD(h[195])){if(e+=u[7],l.MD(h[184]))e+=[u[209],l.F.entities(l.MC(h[186])),u[210],l.F.entities(l.MC(h[169])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");else if(l.MJ(l.MB(h[181])+""=="confirmation")&&l.MJ(l.MB(h[182]))&&l.MJ(l.MB(h[183]))){e+=u[214];var t="";l.MD(h[188])&&(t+=u[215]),l.MN(h[187],t),e+=u[9],l.MN(h[189],[u[216],l.F.entities(l.MC(h[190]))].join("")),e+=u[9],l.MN(h[191],l.MC(h[192])),e+=[u[217],l.F.entities(l.MC(h[191])),u[218],l.F.entities(l.MC(h[189])),u[219],l.F.entities(l.MC(h[187])),u[220],l.F.entities(l.MC(h[169])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else if(l.MJ(2==l.MB(h[185]))&&l.MJ(1==l.MB(h[182]))&&l.MJ(1==l.MB(h[183]))){e+=u[214];var t="";l.MD(h[188])&&(t+=u[215]),l.MN(h[187],t),e+=u[9],l.MN(h[189],[u[216],l.F.entities(l.MC(h[190]))].join("")),e+=u[9],l.MN(h[191],l.MC(h[192])),e+=[u[221],l.F.entities(l.MC(h[191])),u[218],l.F.entities(l.MC(h[189])),u[219],l.F.entities(l.MC(h[187])),u[211],l.ME(u[212],l.MB,l.MN,null),u[213]].join("")}else e+=u[214],l.MN(h[193],[l.MC(h[93]),l.F.entities(l.MC(h[194])),u[222]].join("")),e+=[u[223],l.ME(u[212],l.MB,l.MN,null),u[213]].join("");e+=u[18]}return e+=u[18],_r_(e)}(e+=u[8]),e+=u[7]),e+=u[224],_r_(e)}(e),o.shift(),e+=u[225],o.shift()),e+=u[8]),e+=u[226];var t=l.MC(h[5])||[];o.unshift(null);for(var i=1,n=t.length;i<=n;i++)o[0]=t[i-1],e+=u[227],o.unshift({b_lang_is_rtl:l.MC(h[0]),b_site_type:l.MC(h[82]),fe_show_non_free:l.MB(h[99]),hid:l.MB(h[21]),mybooking_url:l.MB(h[93]),num_nights:l.MB(h[97]),property_name:l.MB(h[4]),total_price_pretty:l.MB(h[98])}),e=a(e),o.shift(),e+=u[228];o.shift(),e+=u[229]}return e+=u[18],_r_(e)}(e),o.shift(),e+=u[31],_r_(e)})}()),B.when({events:"ready",action:["book"],condition:(B.env.b_user_auth_level_is_high||2<=B.env.auth_level)&&3==B.env.b_stage}).run(function(e){_i_("3bb:4f609140");var t=B.require("jquery"),i=t(".js-book-and-cancel"),n=i.find("[name=pob_to_cancel]"),a=t(".js-pob-confirm-cancel"),r=t(".js-reveal-trigger"),_=t("[name=pob_confirm_cancel]");function s(){_i_("3bb:0db65c18"),0<n.filter(":checked").length?a.addClass("in"):a.removeClass("in"),_r_()}n.on("change",s),r.on("click",function(e){_i_("3bb:4442d171"),e.preventDefault(),i.addClass("overlapping-is-active"),_.attr("value","on"),r.remove(),_r_()}),s(),_r_()}),B.when({events:"ready",action:["book"],condition:(B.env.b_user_auth_level_is_high||2<=B.env.auth_level)&&3==B.env.b_stage}).run(function(e){_i_("3bb:1899d2eb");var t=B.require("jquery"),i=t(".js-book-and-cancel_v2");if(!i||!i.length)return _r_();var n=i.find("[name=pob_to_cancel]"),a=i.find(".js-book-and-cancel__radio-yes"),r=i.find(".js-book-and-cancel__radio-no"),_=t(".js-book-and-cancel__table"),s=t(".js-book-and-cancel__error_no_reply"),o=t(".js-book-and-cancel__error_no_selection"),l=t(".js-book_and_cancel-continue_btn"),c="book-and-cancel__table_disabled",d="js-validation_error";l.on("click",function(e){if(_i_("3bb:50be775b"),!(r&&r.length&&a&&a.length&&n&&n.length))return _r_();{if(r.prop("checked"))return _r_();if(a.prop("checked")){var t=n.filter(":checked");if(0<t.length)return _r_();e.preventDefault(),i.addClass(d),o.removeClass("hidden")}else e.preventDefault(),i.addClass(d),s.removeClass("hidden")}_r_()}),a.on("change",function(){_i_("3bb:4152ab60"),s.addClass("hidden"),o.addClass("hidden"),i.removeClass(d),a.prop("checked")&&(_.removeClass(c),1===n.length&&n.attr("checked",!0));_r_()}),r.on("change",function(){_i_("3bb:3564f33a"),s.addClass("hidden"),o.addClass("hidden"),i.removeClass(d),r.prop("checked")&&(_.addClass(c),n.removeAttr("checked"),n.removeAttr("checked"));_r_()}),n.on("change",function(){_i_("3bb:79065875"),o.addClass("hidden"),s.addClass("hidden"),i.removeClass(d),_r_()}),_r_()}),B.require(["ga-tracker","et","jquery"],function(t,e,o){if(_i_("3bb:14a493de"),!t||!e||!o)return _r_();var i={},n=o("[data-ga-track-pob]").map(function(e,t){_i_("3bb:37815ba2");var i=o(t).data("ga-track-pob"),n=i.split("|"),a=n[0],r=n[1]||"Action",_=n[2]||"Label",s=parseInt(n[3],10)||1;return _r_({hash:i,category:a,action:r,label:_,value:s})}).get().reduce(function(e,t){if(_i_("3bb:66f9e756"),i[t.hash])return _r_(e);return i[t.hash]=1,e.push(t),_r_(e)},[]);t.pageviewIsTracked().then(function(){_i_("3bb:67955a68"),n.map(function(e){_i_("3bb:e2be2af9"),t.trackEvent(e.category,e.action,e.label,e.value),_r_()}),_r_()}),_r_()}),B.when({events:"ready",action:"book",condition:2==B.env.b_stage}).run(function(e){_i_("3bb:14b2389a");var t=B.require("jquery"),i=t("[name=checkin_eta_hour]"),n=t(".checkin_eta_date"),a=function(){_i_("3bb:f0b20849"),24<=i.val()?n.addClass("checkin_eta_date__is_next_day"):n.removeClass("checkin_eta_date__is_next_day"),_r_()};i.on("change",a),a(),_r_()}),booking.define("component/pricing-and-policies/expandable-block",function(e,t,i){_i_("3bb:2919c01b");var n=e("component"),a=e("jstmpl").translations;i.exports=n.extend({init:function(){_i_("3bb:9820f1c1"),this.isExpanded=!1,this.$toggleButton=this.$el.find(".js-wallet-credit__toggle"),this.$toggleButtonText=this.$toggleButton.find(".bui-button__text"),this.$toggleBlock=this.$el.find(".js-wallet-credit__expandable"),this.$toggleButton.on("click",this.toggle.bind(this)),_r_()},toggle:function(){_i_("3bb:a90a44d2"),this.$toggleBlock.toggleClass("bui-u-hidden",this.isExpanded),this.isExpanded=!this.isExpanded,this.$toggleButtonText.text(a(this.isExpanded?"pd_bp_credit_block_hide_details":"pd_bp_credit_block_see_details")),this.isExpanded&&this.$toggleBlock.focus(),this.$toggleButton.data("creditBannerExpand",this.isExpanded),_r_()}}),_r_()}),_i_("3bb:eda033d9"),B.when({events:"ready",action:"book",condition:2==B.env.b_stage||3==B.env.b_stage}).run(function(e){_i_("3bb:2be8157a");var t=e("jquery");t("#btn-bp-price-breakdown-error-cta-st2").on("click",function(){_i_("3bb:74cdce8f"),window.location.reload(),_r_()}),t("#btn-bp-price-breakdown-error-cta-st3").on("click",function(){_i_("3bb:75379bde"),window.history.go(-1),_r_()}),_r_()}),_r_(),B.when({action:"book",events:"ready"}).run(function(e){"use strict";_i_("3bb:118f3901");var t=e("jquery"),i=e("server-data"),n=e("report-error"),a=t(".js-go-to-japan-prefecture"),r=t(".js-go-to-japan-prefecture__consent_checkbox"),_=r.parent(".bui-form__group"),s=t(".js-go-to-japan-prefecture__consent_error"),o=t(".js-go-to-japan-prefecture__dropdown"),l=t(".js-go-to-japan-prefecture__form_group"),c=t(".js-go-to-japan-prefecture__dropdown_error"),d="mdot"===i.b_site_type?t(".js-bs-submit-button"):t(".js-bp-submit-button--complete-booking"),b=!1,p=!1;try{var u=1===i.fe_is_mobile?e("component/booking-process/core/store"):e("bp/store")}catch(e){n("Error loading store: ",e)}if(!a.length)return _r_();function h(){_i_("3bb:99791df0"),d.attr("disabled",!(b&&p)),_r_()}a.show(),a.length&&d.attr("disabled",!0),u.subscribe(h),o.on("change",function(e){_i_("3bb:3e837b2a"),p=""!==t(e.target)[0].value,l.toggleClass("bui-has-error",!p),c.toggle(!p),h(),_r_()}),r.on("change",function(e){_i_("3bb:901e9d2c"),b=t(e.target)[0].checked,_.toggleClass("bui-has-error",!b),s.toggle(!b),h(),_r_()}),_r_()}),B.define("utils/throttled",function(e,t,i){_i_("3bb:c05117b81"),i.exports=function(_,s){var o;_i_("3bb:6684d35e1");var l=0;return _r_(function e(){_i_("3bb:f991b93f1");for(var t=this,i=new Array(arguments.length),n=0,a=arguments.length;n<a;n++)i[n]=arguments[n];var r=+new Date;if(l&&clearTimeout(l),r-o<s)return l=setTimeout(function(){_i_("3bb:74556d051"),e.apply(t,i),_r_()},s),_r_();o=r,setTimeout(function(){_i_("3bb:68a22e391"),_.apply(t,i),_r_()}),_r_()})},_r_()}),B.define("dismiss-item",function(e,t,i){_i_("3bb:4fa1a5b8");var n=e("jquery");i.exports=function(e){if(_i_("3bb:ffcf03b7"),!e)throw new Error("param itemId is required");return _r_(n.ajax({url:"/dismiss_item",type:"POST",data:{item_id:e}}))},_r_()}),B.define("component/dismissible-item/block",function(e,t,i){_i_("3bb:1d6e38f0");var n=e("component"),a=e("dismiss-item"),r=e("read-data-options");i.exports=n.extend({init:function(){_i_("3bb:60262eac"),this.options=r(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),this._bindEvents(),_r_()},_bindEvents:function(){_i_("3bb:bc2d0b27"),this.$el.on("click",".js-close",function(){_i_("3bb:5fb0e455"),this._dismissItem(),this.hide(),_r_()}.bind(this)),_r_()},_dismissItem:function(){return _i_("3bb:40f33ccd"),_r_(a(this.options.itemId))},hide:function(){_i_("3bb:9a2d9335"),this.$el.hide(),_r_()}}),_r_()}),B.define("component/dismissible-item/on-init",function(e,t,i){_i_("3bb:8d48d686");var n=e("component"),a=e("dismiss-item"),r=e("read-data-options");i.exports=n.extend({init:function(){return _i_("3bb:16676dbf"),this.options=r(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),_r_(a(this.options.itemId))}}),_r_()}),B.when({action:"book",events:"load",condition:B.env.nocc_hybrid_skip_and_pay_later_enabled}).run(function(e){_i_("3bb:4f52838a");var t={PAYMENT_TIMING_COMPONENT_SELECTOR:'input[name="payment_timing"]',PAYMENT_TIME_WRAPPER_CLASS:".bs3_when_to_pay__wrapper",SKIP_EXPLANATION_CLASS:B.env&&B.env.isImprovedDesktopUI?".js-pay-form__skip-payment__content":".pay-form__skip-payment__content"},i=!!$('input[name="payment_timing"]').length;if(i)var n=$(t.PAYMENT_TIMING_COMPONENT_SELECTOR),a=$("#bs3_cc_form .bp_bs3_payment_methods_title, #bs3_cc_form #paymentBlock, #bs3_cc_form .payment-method__contents"+(B.env&&B.env.isImprovedDesktopUI?", .js-bp-card--payment-method":""));else n=$(t.PAYMENT_TIME_WRAPPER_CLASS),a=$("#bs3_cc_form"+(B.env&&B.env.isImprovedDesktopUI?", .js-bp-card--payment-method":""));var r=$(t.SKIP_EXPLANATION_CLASS);n.on("change",function(e){_i_("3bb:28cf34c0");var t="skip-and-pay-later"===$('input[name="'+(i?"payment_timing":"hybrid_pay_now")+'"]:checked').val();a.toggle(!t),r.toggle(t),_r_()}),$(window).on("pageshow",function(e){_i_("3bb:02f5efb4"),e.originalEvent.persisted&&n.trigger("change"),_r_()}),_r_()}),B.when({action:"book",events:"load",condition:!!B.env&&!!B.env.fe_nocc_d_super_flex_flow_allowed_js}).run(function(e){_i_("3bb:b202585e");var i=$(".nocc_superflex_container"),t=i.find(".description-toggle"),n=i.find(".nocc_superflex_description"),a=B.jstmpl.translations("bp_nocc_sf_read_more",null,{}),r=B.jstmpl.translations("bp_nocc_sf_read_less",null,{}),_=i.find(".nocc_superflex_entry_point_icon.arrow_down"),s=$(".nocc_d_superflex__hidden_input"),o=!1,l=e("events"),c=e("bp/store");l.on("pay:tab:select",function(e){_i_("3bb:1b451675");var t="payment_method__content__nocc"===e;s.val(t?1:0),s.prop("disabled",!t),i.toggle(t),_r_()}),t.click(function(e){_i_("3bb:1c34dae9"),e.preventDefault(),e.stopPropagation(),n.slideToggle(),_[0].classList.toggle("flip"),t.find(".toggle-text").text(o?a:r),o=!o,_r_()}),$("#nocc_d_superflex").change(function(e){_i_("3bb:648f5d95"),$(".payment-method__contents").toggleClass("nocc_desktop_superflex__disabled-cc-form",this.checked),$(".payment-method__contents :input").attr("disabled",this.checked),_r_()}),$("input[name=hybrid_pay_now]").change(function(e){_i_("3bb:1126a4b6"),"pay-later"!==this.value&&$("#nocc_d_superflex:checked").length&&$("#nocc_d_superflex").prop("checked",!1).change(),i.toggle("pay-later"===this.value),_r_()}),$('.js-bp-submit-button--complete-booking[name="book"]').click(function(e){_i_("3bb:e286ed39"),($("#nocc_d_superflex:checked").length||"nocc"===c.getState().payment_method.name)&&$("#cc_name, #cc_type, #cc_number, #cc_month, #ccYear, #cc_cvc").val(""),_r_()}),_r_()}),function(r){"use strict";_i_("3bb:00867b6b");var _=r.require("jquery");r.when({events:"ready"}).run(function(){if(_i_("3bb:9db8b9a8"),!booking.env.b_is_tdot_traffic||!_("#b_nav_currency").length||!_("#b_nav_language").length)return _r_();var n={top_last_viewed:"top_lw_wrapper",top_notification:"top_notification_wrapper",b_nav_language:"top_language",b_nav_currency:"top_currency"};_("nav>a").click(function(e){_i_("3bb:428d1abd");var t=_(this),i=_("#"+n[t.attr("id")]);i.length&&setTimeout(function(){_i_("3bb:237617f4"),i.is(":visible")&&function(e,t){var i,n;_i_("3bb:d800d5bd");var a=t.find(".lw_corner");"top_language"===t.attr("id")||"top_currency"===t.attr("id")?(i=20,r.env.rtl?(n=e.offset().left,a.css("left",n)):(n=_(window).width()-i-(e.offset().left+e.outerWidth()/2)-a.outerWidth()/2/1.4,a.css("right",n))):i=_(window).width()-(e.offset().left+e.outerWidth()/2)-(t.width()-a.position().left-a.outerWidth()/2),r.env.rtl?t.css("left",i):t.css("right",i),_r_()}(t,i),_r_()},1),_r_()}),booking.env.b_is_android||(_("#header_currency").css({right:"auto",left:_("#b_nav_currency").offset().left}),_("#header_language").css({right:"auto",left:_("#b_nav_language").offset().left})),_r_()}),_r_()}(window.booking),B.when({events:"ready"}).run(function(){_i_("3bb:a4e27ea7");var e=document.title,t=B.jstmpl.translations("bp_tab_dont_forget_your_booking");$(window).bind("blur",function(){_i_("3bb:b9b6db36"),document.title=t,_r_()}).bind("focus",function(){_i_("3bb:de861445"),document.title=e,_r_()}),_r_()}),-1!==B.env.b_lang.search(/zh|ja|ko/i)&&B.when({events:"ready"}).run(function(e){_i_("3bb:0d47e4f4"),$("#firstname").placeholder(),$("#lastname").placeholder(),_r_()}),B.define("component/no-cc-modal-trigger",function(e,t,i){"use strict";_i_("3bb:9ccdaf59");var n=e("component"),a=e("jstmpl"),r=e("server-data"),_=e("promise"),s=null;i.exports=n.extend({init:function(){_i_("3bb:6003d18c"),this.renderModal=this.renderModal.bind(this),this.loadTemplate=this.loadTemplate.bind(this),this.toggleLoading=this.toggleLoading.bind(this),this.addEventListeners=this.addEventListeners.bind(this),this.loadCompetitiveSet=this.loadCompetitiveSet.bind(this),this.handleTriggerClick=this.handleTriggerClick.bind(this),this.handleEmptyCompetitiveSet=this.handleEmptyCompetitiveSet.bind(this),this.addEventListeners(),_r_()},addEventListeners:function(){_i_("3bb:160f1e4c1"),this.$el.click(this.handleTriggerClick),_r_()},handleTriggerClick:function(e){if(_i_("3bb:70b45626"),e.preventDefault(),e.stopPropagation(),s)return this.showModal(),_r_(!1);this.toggleLoading(!0).then(this.loadCompetitiveSet).catch(this.handleEmptyCompetitiveSet).then(this.loadTemplate).then(this.renderModal).then(this.showModal).then(this.toggleLoading).catch(function(){}),_r_()},loadCompetitiveSet:function(){_i_("3bb:d148abdd");var e=new(B.require("bp/compset"))({template:"bp_competitive_set",onComplete:function(e){return _i_("3bb:2799067d"),e.compset_header=a.translations("bp_bs3_no_card_faq_comp_set_header"),e.compset_list_class="bp-compset-list",e.row_wrap=!0,e.b_lang=r.b_lang,e.b_domain_for_app=r.b_nonsecure_hostname,e.compset_src="nocc",_r_(e)}});return _r_(e.render({hid:r.b_hotel_id,aid:r.aid,label:r.b_label,lang:r.b_lang,stype:r.b_site_type_id,checkin:r.b_checkin_date_ymd,checkout:r.b_checkout_date_ymd}).then(function(e){return _i_("3bb:dbd3a36c"),_r_(e)}))},loadTemplate:function(e){return _i_("3bb:597a1d50"),_r_(_.resolve(a("no_cc_modal_template").render({no_cc_bp_compset:e})))},handleEmptyCompetitiveSet:function(){return _i_("3bb:db35d87e"),_r_(_.resolve())},renderModal:function(e){return _i_("3bb:05f55df2"),(s=window.BUI.createInstance("Modal",null,{id:"no-credit-card__modal",template:e,size:"large"})).mount(),_r_(_.resolve())},showModal:function(){return _i_("3bb:7b05ff18"),s&&s.open(),_r_(_.resolve())},toggleLoading:function(e){return _i_("3bb:fd23d4691"),this.$el.toggleClass("bui-is-loading",e),_r_(_.resolve())}}),_r_()}),B.define("component/booking-overview-trigger",function(e,t,i){"use strict";_i_("3bb:a6e31d68");var n=e("component"),a=e("jquery"),r=e("et"),_=B.require("price-display-manager"),s=null;function o(){_i_("3bb:b07d694a");var e=document.querySelector("#bookForm");if(!e)return _r_();a(e).find('[type="submit"]').click(),_r_()}i.exports=n.extend({init:function(){_i_("3bb:72ebe82a"),this.renderModal=this.renderModal.bind(this),this.addEventListeners=this.addEventListeners.bind(this),this.handleTriggerClick=this.handleTriggerClick.bind(this),this.addEventListeners(),_r_()},addEventListeners:function(){_i_("3bb:160f1e4c2"),this.$el.click(this.handleTriggerClick),_r_()},handleTriggerClick:function(e){if(_i_("3bb:fa80cd0b"),e.preventDefault(),e.stopPropagation(),s)return this.showModal(),_r_(!1);this.renderModal(),this.showModal(),r.stage("AdeKbEOOFfXYZBYeMUcMEXO",1),_r_()},renderModal:function(){_i_("3bb:60fea136");var e=document.querySelector("#bp_overview");if(!e)return _r_();s=window.BUI.createInstance("Modal",null,{id:"booking-overview__modal",template:e.innerHTML,onBeforeOpen:function(){if(_i_("3bb:473ce21a"),this.getModalRoot().querySelector(".js-bp-submit-button--complete-booking").addEventListener("click",o),_.getInstance("bp_user_total_price")){var e=_.getInstance("bp_user_total_price"),t=a(this.getModalRoot().querySelector('[data-component="core/animate-price"]')).component("core/animate-price");t.getValue()!==e.getValue()&&(t.setValue(e.getValue()),r.stage("AdeKbEOOFfXYZBYeMUcMEXO",2))}B.env.fe_affected_entire_place_sleeping_arrangements&&r.stage("NAFLeOeJAdRNDEIIXfPKTXTMeDUZCOLNGcWUC",1),_r_()},onAfterClose:function(){_i_("3bb:db0ecdab"),this.getModalRoot().querySelector(".js-bp-submit-button--complete-booking").removeEventListener("click",o),_r_()}}),a("body").data("booking-overview__modal",s),s.mount(),_r_()},showModal:function(){_i_("3bb:2fae31fc1"),s&&s.open(),_r_()}}),_r_()}),"en"==B.env.b_lang&&$("#email, #email_confirm").bind("keydown",function(e){if(_i_("3bb:5a43eb1d"),222==e.which)return this.value+="@",_r_(!1);_r_()}),B.when({action:"book",condition:!B.env.b_is_tdot_traffic}).run(function(){_i_("3bb:dca2a9e5");$(".js-property-details__address-text").bind("click dblclick",function(){_i_("3bb:0a09bd0d");var e=$(this),t=function(e){_i_("3bb:b20ca0f5");var t=e.text().trim();return _r_(t)}(e),i=$("<textarea readonly></textarea>").width(e.width());i.val(t),i.insertAfter(e),i[0].clientHeight<i[0].scrollHeight&&function(e){_i_("3bb:08466617");var t=$("<div />");t.css({position:"absolute",top:"0",left:0,background:"white",color:"black",overflow:"scroll"}).width(e.width()).text(e.val()),$("body").append(t),e.height(t.height()),t.remove(),_r_()}(i),i.focus().select(),e.hide(),i.bind("focusout",function(){_i_("3bb:ca080a2e"),e.show(),i.remove(),_r_()}),_r_()}),_r_()}),B.when({action:"book",events:"accordion:beforeOpen"}).run(function(){_i_("3bb:8b5ad8a7");var e=B.require("events"),t='[name="cc_type"]',i=$("#paymentAccordion").find(t);e.on("accordion:afterOpen",function(e){_i_("3bb:b00d7505"),e&&e.length&&(i.prop("disabled",!0),e.find(t).prop("disabled",!1).end().find('input[name="payment_option"]').prop("checked",!0)),_r_()}),_r_()}),function(t){"use strict";_i_("3bb:87bcc090"),t.when({events:"ready"}).run(function(){_i_("3bb:59551daf");var e=t.require("user-left-master");if(t.env.b_is_tdot_traffic)return _r_();if(!(e.enabled&&t.browserStorageHandler&&t.browserStorageHandler.isLocalStorageSupported()))return _r_();e.register("_master_","bmst"),t.env.b_notify_favicon&&e.setNotifyFavicon(t.env.b_notify_favicon),_r_()}),_r_()}(window.booking),function(){_i_("3bb:97137e76");var t=$("#js--pay-form__error__anchor"),i=$("#js--pay-form__error__anchor_all"),e=function(){_i_("3bb:4b2e45b9");var e=(t.length?t:i).offset();"undefined"!=e&&$("html, body").animate({scrollTop:e.top},500,"easeOutCubic"),_r_()};B.when({action:"book",condition:!!t.length}).run(e),B.when({action:"book",condition:!!i.length}).run(e),_r_()}(),B.when({action:"book",events:"ready",condition:"cu"==B.env.b_countrycode}).run(function(e){_i_("3bb:992657d8");var t=e("jquery");t("[name=reason_to_visit]").change(function(){_i_("3bb:74b15c8a"),t("[name=reason_to_visit_checkbox]").val(t(this).val()?"1":""),_r_()}),_r_()}),B.define("with-capla",function(e,t,i){_i_("3bb:cabb24f6");var n=e("promise"),a={},r={};function _(e){return _i_("3bb:4d350593"),_r_(e.slice(0,-8))}function s(t){return _i_("3bb:dcecff49"),a[t]||(a[t]=new n(function(e){_i_("3bb:e000dba4"),r[t]=e,_r_()})),_r_({promise:a[t],resolve:r[t]})}window.B.__caplaInitialised&&Object.keys(window.B.__caplaInitialised).forEach(function(e){_i_("3bb:1d620442"),s(_(e)).resolve(window.B.__caplaInitialised[e]),_r_()}),document.addEventListener("booking-capla-initialized",function(e){_i_("3bb:bf4fa97b"),s(_(e.detail.namespace)).resolve(e.detail),_r_()}),i.exports=function(e,t,n){return _i_("3bb:edf87387"),_r_(function(){_i_("3bb:e42d11f1");var i=arguments;s("b-"+e+"-"+t).promise.then(function(e){_i_("3bb:7774fbc2");var t=[].slice.call(i);t.unshift(e),n.apply(n,t),_r_()}),_r_()})},_r_()}),B.define("payments/reservation-manager",function(_,e,t){_i_("3bb:4eafcc04");var s,a,o,r=_("promise"),i=_("with-capla"),l=_("server-data"),c=_("events"),d=_("report-error"),b=_("jquery"),n=_("payments/store-subscriber"),p=_("payments/constants"),u=_("payments/squeaks").sendSqueak,h=_("et"),f="/book/rm_update_params",m="payments-experience",g="web-sdk",M=p.EVENT,v=p.PAYMENT_STATUS,y=p.LOAD_STATUS,C=p.VALIDATION_STATUS,B=p.USER_INTERACTION,w=35e3,k="bui-u-hidden",E="bui-is-loading";function N(e){if(_i_("3bb:afb523d8"),!e||!e.dataStore)return A(b("#payment-load-error .bui-alert")),d(new Error("caplaObject undefined for order id "+l.fe_order_uuid+" and PC id "+l.fe_payment_component_id),"[PayIn] Reservation Manager - Unable to load Capla store to communicate with PayIn SDK."),_r_();s=e.eventBus,n.init(),function(){_i_("3bb:9389ff4b"),s.subscribe(M.READY_STATUS,function(e,t){_i_("3bb:3c8a81fe"),t===v.SESSION_EXPIRED&&(j({isLoading:!0,isBookingProcessing:!1}),T()),_r_()});var i=setTimeout(function(){var e;_i_("3bb:c2485018"),clearTimeout(i),a||(e="payment-loading-timeout",_i_("3bb:2af7a01b"),d(new Error("Got load status "+e+" for order id "+l.fe_order_uuid+" and PC id "+l.fe_payment_component_id),"[PayIn] Unable to LOAD PayIn SDK. Loading in progress for "+w+"ms."),_r_()),_r_()},w),n=s.subscribe(M.READY_STATUS,function(e,t){_i_("3bb:9f75a620"),function(e){_i_("3bb:81a0b8e1"),u(e),e!==y.INITIALISED&&(a=e);switch(e){case v.SESSION_EXPIRED:j({isLoading:!0,isBookingProcessing:!1}),T();break;case y.SUCCESS:c.trigger("rm:payments-loading-success")}_r_()}(t),a&&(clearTimeout(i),s.unsubscribe(n)),_r_()});_r_()}(),function(){if(_i_("3bb:a29f7f1c"),1!=l.fe_enable_product_validation)return _r_();var n=_("booking-process/validation/validate").validate;h.stage("fEOMNVLWPGGMRbBYWKOLPYKDcdC",1),s.subscribe(M.PRODUCT_VALIDATION_INIT,function(e,t){_i_("3bb:ec67c555"),h.stage("fEOMNVLWPGGMRbBYWKOLPYKDcdC",2);var i=function(i){if(_i_("3bb:b7e408de"),1==l.fe_is_payments_action)return _r_([]);var n=(l.fe_is_mobile?_("component/booking-process/core/store"):_("bp/store")).getState(),e=["address1","city","cc1","phone"];l.fe_showBDate&&(e=e.concat(["bday","bmonth","byear"]));return _r_(e.reduce(function(e,t){return _i_("3bb:a92d704f"),b("[name="+t+"]:visible",i).length&&e.push({name:t,value:S(t,n)}),_r_(e)},[]))}(b("#bookForm"));n(i,!1,!0).then(function(e){_i_("3bb:86a0deb2");var t=e&&e.results&&"true"===(e.results.valid||"").toString(),i=t?M.PRODUCT_VALIDATION_SUCCESS:M.PRODUCT_VALIDATION_FAILED;if(h.stage("fEOMNVLWPGGMRbBYWKOLPYKDcdC",t?3:4),s.publish(M.PRODUCT_VALIDATION_RESULT,i),!t)return A(b("#payment-top-error .bui-alert")),_r_();x().then(function(){_i_("3bb:6746d116"),h.stage("fEOMNVLWPGGMRbBYWKOLPYKDcdC",5),_r_()},function(e){_i_("3bb:cfacfb74"),h.stage("fEOMNVLWPGGMRbBYWKOLPYKDcdC",6),d(new Error(e)),_r_()}),_r_()}).catch(function(e){_i_("3bb:471f2e15"),h.stage("fEOMNVLWPGGMRbBYWKOLPYKDcdC",6),s.publish(M.PRODUCT_VALIDATION_RESULT,M.PRODUCT_VALIDATION_FAILED),d(e,"[PayIn] Reservation Manager - Unable to validate book form."),_r_()}),_r_()}),_r_()}(),_r_()}function x(){return _i_("3bb:4aa8ebc2"),_r_(new r(function(n,a){_i_("3bb:42717a4e");var e=function(){if(_i_("3bb:cff9adf4"),1==l.fe_is_payments_action)return _r_({});var a=(l.fe_is_mobile?_("component/booking-process/core/store"):_("bp/store")).getState(),r=b("#bookForm"),e=a&&a.main_form&&"business"===a.main_form.bp_address_type,t=e?"":"booker_",i=[{key:"booker_phone",fieldName:"phone"},{key:t+"address",fieldName:"address1",requiredName:"address"},{key:t+"cc1",fieldName:"cc1"},{key:t+"city",fieldName:"city"},{key:t+"zip",fieldName:"zip"},{fieldName:"cc_refp",getFromDOM:!0,alwaysSend:!l.fe_is_mobile},{fieldName:"rets",getFromDOM:!0,alwaysSend:!l.fe_is_mobile},{fieldName:"recp",getFromDOM:!0,alwaysSend:!l.fe_is_mobile},{fieldName:"remb",getFromDOM:!0,alwaysSend:!l.fe_is_mobile},{fieldName:"reub",getFromDOM:!0,alwaysSend:!l.fe_is_mobile},{fieldName:"chk_aff_bank_loayalty",getFromDOM:!0,alwaysSend:!0}];e&&(i.push({fieldName:"vat_number"}),i.push({fieldName:"company_name"}));i=i.reduce(function(e,t){_i_("3bb:b3ba65ee");var i=t.key?t.key:t.fieldName,n=b("[name="+t.fieldName+"]",r);return(t.alwaysSend?n.length:b("[name="+t.fieldName+"]:visible",r).length)&&function(e){if(_i_("3bb:99021af9"),e.alwaysSend)return _r_(!0);return _r_(l.requiredFields&&l.requiredFields[e.requiredName?e.requiredName:e.fieldName])}(t)&&(t.getFromDOM?e[i]=n.is(":checkbox")?n.prop("checked"):n.val():e[i]=S(t.fieldName,a)),_r_(e)},{}),e&&(i.invoice_requested=l.b_bb_want_invoice);return _r_(i)}();if(0===Object.values(e).length)return n(!0),_r_(!0);var t={order_uuid:l.fe_order_uuid,params:JSON.stringify(e)};b.ajax({url:f,type:"POST",data:t,success:function(e,t,i){_i_("3bb:7e1cd950"),e&&"success"===e.update_result?n(!0):e&&"session_invalid"===e.update_result?T():a("[PayIn] Failed to update book params for order id "+l.fe_order_uuid+" and PC id "+l.fe_payment_component_id+". /book/rm_update_params didnt return update_result === success."),_r_()},error:function(e,t,i){_i_("3bb:7dc6a218"),a("[PayIn] Failed to update book params for order id "+l.fe_order_uuid+" and PC id "+l.fe_payment_component_id+".",i),_r_()}}),_r_()}))}function S(e,t){if(_i_("3bb:9a23d397"),!t)return _r_("");if(-1!==["address1","cc1","city","zip","vat_number","company_name"].indexOf(e)){if(t.main_form&&"business"===t.main_form.bp_address_type)return _r_(t.business_address?t.business_address[e]:"");return _r_(t.personal_address?t.personal_address[e]:"")}return _r_(t.main_form?t.main_form[e]:"")}function T(){_i_("3bb:11445eda"),l.fe_new_session_url&&(window.location=l.fe_new_session_url),_r_()}function D(e,t,i){_i_("3bb:0f0a0a30"),j({isLoading:!1,isBookingProcessing:!1},t),A(b("#payment-processing-error .bui-alert")),d(new Error(e)),i(!1),_r_()}function A(e){if(_i_("3bb:bac45b40"),!e||0===e.length)return _r_();var t;b("#top-validation-error").addClass(k),b(".bp-alert--container .bui-alert").addClass(k),e.removeClass(k),t=e,_i_("3bb:4dacb4e61"),b([document.documentElement,document.body]).animate({scrollTop:t.offset().top-10},1e3),_r_(),_r_()}function j(e,t){_i_("3bb:07d3f7f4");var i=b(".js-bp-submit-button--complete-booking");e.isBookingProcessing&&t?t(e.isLoading):i&&(i.toggleClass(E,e.isLoading).attr("aria-busy",e.isLoading),i.prop("disabled",e.isLoading)),_r_()}!function(){if(_i_("3bb:012e42ef"),1!=l.fe_payplatform)return _r_();u(v.SETUP),function(){if(_i_("3bb:3ca0285b"),l.fe_payer_id){var e=l.b_dev_server?"dqs_":"";document.cookie=e+"pc_payer_id="+l.fe_payer_id+";path=/;domain=.booking.com"}_r_()}(),m=1==l.fe_is_booking_process_mfe?"checkout":"payments-experience",g=1==l.fe_is_booking_process_mfe?"bp-accommodation":"web-sdk",i(m,g,N)(),_r_()}(),t.exports={processPayment:function(n,a){return _i_("3bb:0faa871c"),_r_(new r(function(t,i){_i_("3bb:901229d9"),(_i_("3bb:3d228c04"),_r_(new r(function(n,e){_i_("3bb:44d29d7f"),s.publish(M.INIT_VALIDATION),u(C.INITIALISED);var a=s.subscribe(M.VALIDATION_STATUS,function(e,t){_i_("3bb:0572e1f5"),s.unsubscribe(a);var i=t&&t.status;u(i),o=t&&t.selectedTiming,n(i===C.SUCCESS),_r_()});_r_()}))).then(function(e){_i_("3bb:63f037e3"),j({isLoading:e,isBookingProcessing:!1},a),e?x(n.saveBookState).then(function(){_i_("3bb:da0ba44a"),function(n,e,a){_i_("3bb:f68392c0"),u(v.INIT),s.publish(M.INIT_PAYMENT);var r=s.subscribe(M.USER_INTERACTION,function(e,t){_i_("3bb:d960ce96"),u(t.active?B.ACTIVE:B.INACTIVE),t&&a&&j({isLoading:!t.active,isBookingProcessing:!1},a),_r_()}),_=s.subscribe(M.PAYMENT_STATUS,function(e,t){if(_i_("3bb:e382a135"),u(t),t===v.INITIALISED||t===v.PROCESSING)return _r_();var i=t===v.SUCCESSFUL||t===v.PENDING;if(i&&b('.payment-section input[name="paid_with_timing"]').val(o),t===v.SUCCESSFUL&&function(e){var t;switch(_i_("3bb:3d1b73f8"),e){case"PAY_TO_PROPERTY":t="payments_timing_paid_pay_at_property";break;case"PAY_LATER":t="payments_timing_paid_pay_later";break;case"PAY_NOW":t="payments_timing_paid_pay_now"}t&&h.goal(t),_r_()}(o),t===v.PENDING&&h.track("bQGBEKTPcOUPBQGOcYTET"),j({isLoading:i,isBookingProcessing:i},a),s.unsubscribe(r),s.unsubscribe(_),1==l.fe_force_unfinished_bookings)return n(!1),_r_();n(i),_r_()});_r_()}(t,0,a),_r_()},function(e){_i_("3bb:8eb10201"),D(e,a,i),_r_()}):t(!1),_r_()},function(e){_i_("3bb:fbfd377e"),D(e,a,i),_r_()}),_r_()}))}},_r_()}),B.define("payments/store-subscriber",function(e,t,i){_i_("3bb:ad9dbf49");var n,r,a=e("with-capla"),c=e("server-data"),_=e("report-error"),s=e("jquery"),o=e("jstmpl"),l=e("fragment"),d=e("et"),b=e("payments/constants"),p="payments-experience",u="web-sdk",h="bui-u-hidden",f=b.EVENT,m=b.TIMING;function g(e){if(_i_("3bb:033ca6b3"),!e||!e.dataStore)return _(new Error("caplaObject undefined for order id "+c.fe_order_uuid+" and PC id "+c.fe_payment_component_id),"[PayIn Migration] Store subscriber - Unable to load Capla store to communicate with Payments SDK."),_r_();(r=e.eventBus).subscribeOnce(f.PAYMENT_TIMINGS_DATA,function(e,t){(_i_("3bb:a8804bf7"),function(e){_i_("3bb:d2fec7cc"),1==c.FE_PBB__WALLET_HAS_CREDITS&&r.publish(f.SHOW_WALLET_BADGE,!0);v(e),function(e){if(_i_("3bb:3b97f4ac"),1!=c.fe_is_book_action)return _r_();var t=1==c.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE,i=e&&e.paymentTimings&&1===e.paymentTimings.length;if(1!=c.fe_update_payment_timing_copy_pay_now&&t&&i)return _r_();var n={freeCancellation:1==c.FE_PBB__ROOM_POLICY_FLEX,noPrepayment:1==c.FE_PBB__NO_PRE_PAYMENT_NEEDED,prepaymentAfterCancellation:1==c.FE_PBB__PRE_PAYMENT_NEEDED_AFTER_CANCELLATION,chargeDate:function(e,t){_i_("3bb:10fa1e01");var i,n=c.fe_piyoc_supported,a=t&&t.chargeSchedules&&t.chargeSchedules[e],r=n&&a?a.chargeSchedules:a;if(!r)return _r_("");return r.forEach(function(e){_i_("3bb:d6371586"),0<e.chargeDateDiff&&(i=e.chargeDate),_r_()}.bind(this)),_r_(i)}(m.PAY_LATER,e),isSingleTiming:i},a={paymentTimings:[{id:m.PAY_LATER,name:C(m.PAY_LATER,n),description:B(m.PAY_LATER,n)},{id:m.PAY_TO_PROPERTY,name:C(m.PAY_TO_PROPERTY,n),description:B(m.PAY_TO_PROPERTY,n)},{id:m.PAY_NOW,description:B(m.PAY_NOW,n)}]};r.publish(f.UPDATE_TIMING_DESCRIPTION,a),n.freeCancellation?d.stage("bQGBbQGWFBaaeHGZOAcFMBRNHUHe",6):d.stage("bQGBbQGWFBaaeHGZOAcFMBRNHUHe",7);_r_()}(e),function(e){if(_i_("3bb:2581a31c"),1!=c.fe_enable_nested_payment_timing)return _r_();(function(r){return _i_("3bb:4237d0bd"),_r_(new Promise(function(e,t){if(_i_("3bb:5c1ab702"),!r)return _r_({});var i=s.extend(!0,{},r),n=c.b_selected_language,a=[];Object.keys(i).forEach(function(e){_i_("3bb:4eafa17d"),i[e].forEach(function(e){_i_("3bb:e25867f5");var t=e.userPriceInUserCurrency,i=e.totalPriceInUserCurrency;a.push(y(t.value,t.currency,n).then(function(e){return _i_("3bb:9bab760a"),_r_(t.pretty=e)})),t.value!==i.value&&a.push(y(i.value,i.currency,n).then(function(e){return _i_("3bb:6fbac526"),_r_(i.pretty=e)})),_r_()}.bind(this)),i[e].push(function(e){_i_("3bb:0b3404e8");var t="PAY_TO_PROPERTY"===e,i=c.fe_property_schedule&&c.fe_property_schedule.property.no_prepayment,n=c.fe_property_extracharges_with_chargeable_price_user_pretty,a=c.fe_property_extracharges_user_pretty;return _r_({description:w(t&&!i?"pay_bs3_pay_later_schedule_prop_charge":"pay_at_stay_zero"),userPriceInUserCurrency:{pretty:t?n:a}})}(e)),_r_()}.bind(this)),Promise.all(a).then(function(){_i_("3bb:14ceb4f3"),e(i),_r_()}),_r_()}.bind(this)))})(e.chargeSchedules).then(function(e){_i_("3bb:51c38e83"),r.publish(f.UPDATE_PAYMENT_SCHEDULE,e),_r_()}),_r_()}(e);var t=s(".payment-timing-section .bp_legacy_form_box__title, .js-payment-timing__title"),i=s("#payment-currency-container");e.selectedTiming&&M(i);var n=e&&e.paymentTimings&&1===e.paymentTimings.length;if(n){if(n&&1==c.fe_update_payment_timing_copy_pay_now){var a=e&&e.paymentTimings&&"PAY_NOW"===e.paymentTimings[0].id;if(!a)return _r_();t.html(function(e,t){if(_i_("3bb:09a5bd63"),e&&"PAY_NOW"===t)return _r_(w("cpex_timing_paynow_single_title"));return _r_(w("pay_bs3_timing_header_psy_autonomyego"))}(n,"PAY_NOW")),M(t)}}else M(t);_r_()}(t),t.selectedTiming)&&M(s("#payment-currency-container"));_r_()}),r.subscribe(f.UPDATE_SELECTED_TIMING,function(e,t){_i_("3bb:06b081b3");var i=s("#payment-currency-container");t&&M(i),v({selectedTiming:t}),_r_()}),r.subscribe(f.SHOW_INSTRUMENT,function(e,t){_i_("3bb:6c11badf"),function(e){if(_i_("3bb:7650ef3a"),!c.fe_hide_pc_payment_instrument_needed_flag)return _r_();var t=s(".payment-instrument-section");e?M(t):function(e){_i_("3bb:e4cc3c3f"),e.length&&e.addClass(h);_r_()}(t);_r_()}(t.show);var i=s(".payment-instrument-section").children();t.error?i.removeClass("bui-card"):i.hasClass("bui-card")||i.addClass("bui-card"),_r_()}),_r_()}function M(e){_i_("3bb:97e5e0a9"),e.length&&e.removeClass(h),_r_()}function v(e){if(_i_("3bb:c801464d"),!n)return _r_();var t=e&&e.selectedTiming,i=n.getInstance();t&&i&&(!!parseInt(c.FE_PBB__IS_TIMING_BASED_INSTANT_DISCOUNT)?i.paymentTimingChanged(t.value):i.payment_changed(c.fe_enable_bsb_different_timings?t.allowBenefits:"PAY_NOW"===t.value));_r_()}function y(e,t,i){return _i_("3bb:52549364"),_r_(l.call("payment.price.formatter",{amount:e,currency:t,lang_code:i}).then(function(e){return _i_("3bb:50adc187"),_r_(e)},function(e){_i_("3bb:2ba30de5"),_(e,"[PayIn Migration] Payment schedule - Unable to format amount with payment.price.formatter"),_r_()}))}function C(e,t){switch(_i_("3bb:f3583bfe"),e){case m.PAY_LATER:return _r_(c.fe_should_fix_pay_later_copy?w("pay_later_with_cc_payment_timing_header_pay_on_date",{date:t.chargeDate}):w("bh_pay_bp_pay_date",{date:t.chargeDate}));case m.PAY_TO_PROPERTY:return t.noPrepayment&&d.track("bQGBbQGWFBaaeHGZOTPceYWDFRSGQCBYKe")?_r_(w("/payment_timing/at_property/pay_time")):t.freeCancellation&&t.noPrepayment?_r_(w("/payment_timing/at_property/pay_time")):d.track("eDXJYSGQCEYRWeRQFBeDQeHO")?_r_(w("pmp_bs3_pay_later_to_property")):_r_(w("/payment_timing/later/pay_time"))}_r_()}function B(e,t){_i_("3bb:1a481aca");var i=1==c.fe_is_mobile,n={b_companyname:c.b_companyname},a={date:c.fe_cancellation_date,time:c.fe_cancellation_time,amount:c.fe_cancellation_amount},r=1==c.FE_PBB__PRODUCT_TYPE_IS_EXCLUSIVE,_=1==c.fe_run_emergency_sca_default_timing_option,s=c.fe_booking_conditions_text;switch(e){case m.PAY_NOW:if(1==c.fe_update_payment_timing_copy_pay_now){if(t.freeCancellation){var o=t.isSingleTiming?"cpex_timing_paynow_single_fc":"cpex_timing_paynow_multi_fc";return _r_(w(o,{date:a.date}))}o=t.isSingleTiming?"cpex_timing_paynow_single_nr":"cpex_timing_paynow_multi_nr";return _r_(w(o))}if(i){if(t.freeCancellation){if(a.time&&a.date)return _r_(w("pay_bs3_pay_now_explanation_free_canx",{time:a.time,date:a.date}));return _r_(w("pay_bs3_pay_now_explanation_fantasy_flex"))}if(t.noPrepayment&&_)return _r_(w("policies_fe2_m_pay_now_nonrefundable_explanation"));return _r_(w("pay_bs3_pay_now_explanation_generic"))}if(r)return _r_(w("bh_pay_bp_stress",n));if(t.freeCancellation&&(t.prepaymentAfterCancellation||t.noPrepayment))return _r_(w("bs3_pay_now_pre_partial_subtitle",{b_companyname:n.b_companyname,short_date:a.date}));return _r_(w("pay_bs3_pay_now_booking_charges_expl",n));case m.PAY_TO_PROPERTY:if(c.preauth_disclaimer){if(i?d.stage("bQbYFcIKSCYbcINHJNbOVVTYABOFO",2):d.stage("bQbYFcIKSCYbcINHJNbOVVTYABOFO",1),"full"==c.preauth_disclaimer.preauth_type)return _r_(w("web_bp_preauth_bs2_reassurance_banner_total_cost"));if("fixed"==c.preauth_disclaimer.preauth_type)return _r_(w("web_bp_preauth_bs2_reassurance_banner_amount",{preauth_amount:c.preauth_disclaimer.preauth_value}));if("first_night"==c.preauth_disclaimer.preauth_type)return _r_(w("web_bp_preauth_bs2_reassurance_banner_first_night"))}if(i){if(t.freeCancellation){if(t.noPrepayment&&a.time&&a.date)return _r_(w("pay_bs3_pay_property_timing_explanation",{time:a.time,date:a.date}));if(!t.noPrepayment&&a.date){var l=w("m_pay_pmp_cancel_for_free_date",{date:a.date});return _r_(l+w("m_pay_pmp_prepayment_conditions_container",{prepayment_conditions:s}))}return _r_(w("pay_bs3_pay_at_property_explanation_fantasy_flex"))}if(!t.freeCancellation&&t.noPrepayment&&_)return _r_(w("bs3_paym_pay_now_subtitle_mdot"));return _r_(w("pay_bs3_pay_later_explanation_generic"))}if(t.freeCancellation){if(t.noPrepayment)return _r_(w("bs3_paym_pay_now_subtitle"));if(t.prepaymentAfterCancellation)return _r_(w("bs3_pay_later_pre_partial_subtitle",{short_date:a.date,cancellation_amount:a.amount}))}return _r_(w("pay_bs3_pay_later_property_charges_book_conditions_expl"));case m.PAY_LATER:if(1==c.fe_update_payment_timing_copy_pay_now&&t.freeCancellation)return _r_(w("cpex_timing_paylater_multi_fc",{charge_date:t.chargeDate,date:a.date}));l="";return r&&!i||(l=w("pay_timing_bcom_will_facilitate",{b_companyname:n.b_companyname})+" "),_r_(l+w("bh_pay_bp_cc",{date:t.chargeDate}))}_r_()}function w(e,t){return _i_("3bb:708f41e5"),_r_(o.translations(e,null,t||{}))}i.exports={init:function(){_i_("3bb:ca0abdfb"),1==c.fe_is_book_action&&(n=e("campaign-discounts")),p=1==c.fe_is_booking_process_mfe?"checkout":"payments-experience",u=1==c.fe_is_booking_process_mfe?"bp-accommodation":"web-sdk",a(p,u,g)(),_r_()}},_r_()}),B.define("payments/constants",function(e,t,i){_i_("3bb:db643086");var n="CAPLA_EVENT_payments-experience_web-sdk_",a={READY_STATUS:n+"READY_STATUS",INIT_VALIDATION:n+"INIT_VALIDATION",VALIDATION_STATUS:n+"VALIDATION_STATUS",INIT_PAYMENT:n+"INIT_PAYMENT",USER_INTERACTION:n+"USER_INTERACTION",PAYMENT_STATUS:n+"PAYMENT_STATUS",PRODUCT_VALIDATION_INIT:n+"PRODUCT_VALIDATION_INIT",PRODUCT_VALIDATION_RESULT:n+"PRODUCT_VALIDATION_RESULT",PRODUCT_VALIDATION_SUCCESS:n+"PRODUCT_VALIDATION_SUCCESS",PRODUCT_VALIDATION_FAILED:n+"PRODUCT_VALIDATION_FAILED",POST_BOOKING_STATUS:n+"POST_BOOKING_STATUS",SHOW_INSTRUMENT:n+"SHOW_INSTRUMENT",SHOW_WALLET_BADGE:n+"SHOW_WALLET_BADGE",PAYMENT_TIMINGS_DATA:n+"PAYMENT_TIMINGS_DATA",UPDATE_SELECTED_TIMING:n+"UPDATE_SELECTED_TIMING",UPDATE_TIMING_DESCRIPTION:n+"UPDATE_TIMING_DESCRIPTION",UPDATE_PAYMENT_SCHEDULE:n+"UPDATE_PAYMENT_SCHEDULE"};i.exports={PAYMENT_STATUS:{SETUP:"payment-setup",INIT:"payment-init",SUCCESSFUL:"payment-successful",FAILED:"payment-failed",PENDING:"payment-pending",PROCESSING:"payment-processing",INITIALISED:"payment-initialised",VALIDATION_FAILED:"payment-validation-failed",SESSION_EXPIRED:"payment-session-expired"},LOAD_STATUS:{INITIALISED:"payment-loading-in-progress",FAILED:"payment-loading-error",SUCCESS:"payment-loading-success"},VALIDATION_STATUS:{INITIALISED:"payment-process-validation-initialised",FAILED:"payment-process-validation-failed",SUCCESS:"payment-process-validation-success"},EVENT:a,USER_INTERACTION:{ACTIVE:"payment-user-interaction-active",INACTIVE:"payment-user-interaction-inactive"},TIMING:{PAY_NOW:"PAY_NOW",PAY_LATER:"PAY_LATER",PAY_TO_PROPERTY:"PAY_TO_PROPERTY"}},_r_()}),B.define("payments/squeaks",function(e,t,i){_i_("3bb:3b5182df");var n=e("payments/constants"),r=e("server-data"),_=n.PAYMENT_STATUS,s=n.LOAD_STATUS,o=n.VALIDATION_STATUS,l=n.USER_INTERACTION;i.exports={sendSqueak:function(e){if(_i_("3bb:d1efe982"),"function"!=typeof B.squeak||!r.fe_payplatform)return _r_();var t=r.fe_is_payments_action,i=r.fe_is_book_action;if(t){var n="PAY_NOW"===r.fe_operation_type,a="UPDATE_CC"===r.fe_operation_type;switch(e){case _.SETUP:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCOIBcO"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPHDFWe");break;case _.INIT:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCVUcae"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPOFJO");break;case _.SUCCESSFUL:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCEKBGfQNcQC"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaZXbJJdTBQae");break;case _.FAILED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCVfWIHCAae"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPIEaFXPGO");break;case _.PENDING:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCTPcOUWe"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaZUBWeLT");break;case _.PROCESSING:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCIHcUeLT"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaHFMSSNC");break;case _.INITIALISED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCVUcGccYXQC"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPOFJFFSXAae");break;case _.VALIDATION_FAILED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCAfNYXfVfWIHCAae"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPGTTXIfIEaFXPGO");break;case _.SESSION_EXPIRED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCdEdJOBUUGXAae"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaZbCEWZSSJRKGO");break;case s.INITIALISED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCOZTZVYbCYZSYO"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPUZUPOIHeMNeKe");break;case s.FAILED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCOZTZOaJTdWe"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPUZUPcVDZET");break;case s.SUCCESS:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCOZTZEKBGfQYO"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPUZUZXbJJdTKe");break;case o.INITIALISED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCIHcUJLUUXVJTdAddBXO"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaHFMSLQOSRKVDZfbbbRKe");break;case o.FAILED:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCIHcUJLUUXVJVHWEKJLT"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaHFMSLQOSRKVWMVbXEQC");break;case o.SUCCESS:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCIHcUJLUUXVFXSAVcUC"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaHFMSLQOSRKARAPfMSRe");break;case l.ACTIVE:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCAeSHUdCbYKTRFO"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPTNUODaceXbYAWe");break;case l.INACTIVE:n?B.squeak("bQGWUSBbQLUKHWAcFMBRYSGQCAeSHUdCbYDXSHbC"):a&&B.squeak("bQGWUSBbQLUKHWBcfdFOAcQaPTNUODaceVHAUIHe");break;default:return _r_()}}if(i)switch(e){case _.SETUP:B.squeak("bQGWUJPLBJNGLEYfZae");break;case _.INIT:B.squeak("bQGWUJPLBJNGLEDZfC");break;case _.SUCCESSFUL:B.squeak("bQGWUJPLBJNGLdRAPfMSSGLT");break;case _.FAILED:B.squeak("bQGWUJPLBJNGLEWMVbXEQC");break;case _.PENDING:B.squeak("bQGWUJPLBJNGLdeOaecO");break;case _.PROCESSING:B.squeak("bQGWUJPLBJNGLEbCbZUWe");break;case _.INITIALISED:B.squeak("bQGWUJPLBJNGLEDZfbbbRILT");break;case _.VALIDATION_FAILED:B.squeak("bQGWUJPLBJNGLEQOSRKVWMVbXEQC");break;case _.SESSION_EXPIRED:B.squeak("bQGWUJPLBJNGLdQWFaNZZPaXQC");break;case s.INITIALISED:B.squeak("bQGWUJPLBJNGLEedeEDWETDBeRe");break;case s.FAILED:B.squeak("bQGWUJPLBJNGLEedeENIfNFO");break;case s.SUCCESS:B.squeak("bQGWUJPLBJNGLEededRAPfMSRe");break;case o.INITIALISED:B.squeak("bQGWUJPLBJNGLEbCbcGDZHXJfNLQQQHXe");break;case o.FAILED:B.squeak("bQGWUJPLBJNGLEbCbcGDZHXJaDIARMGWe");break;case o.SUCCESS:B.squeak("bQGWUJPLBJNGLEbCbcGDZHXJHIYLDbHT");break;case l.ACTIVE:B.squeak("bQGWUJPLBJNGLESUeCPLdTRAUIHe");break;case l.INACTIVE:B.squeak("bQGWUJPLBJNGLESUeCPLdTJEIeKET");break;default:return _r_()}_r_()}},_r_()}),booking.jstmpl("payment_schedule",function(){_i_("3bb:67588151");var c,d=['\n\n    <div class="bui-group bui-group--small">\n        ',"\n            ","\n                ","\n                    \n                    ","\n                        ","/private/pay_mi_timing_schedule_summary_today/name","\n                    ","\n                            ","/private/pay_later_no_cc_payment_schedule_on_date/name","/private/bh_payments_bp_pay_youll_pay_date/name","\n\n                ",'\n        <div class="bui-group__item">\n            <div class="bui-grid bui-grid--justify-space-between">\n                \n                ','\n                    <div class="bui-grid__column bui-grid__column-8">\n                        <span class="',"bui-f-font-emphasized","bui-f-font-body",'">','</span>\n                    </div>\n                    <div class="bui-grid__column bui-grid__column-4 bui-u-text-right">\n                        ','\n                            <span class="bui-f-font-caption bui-f-color-grayscale" style="text-decoration: line-through; padding-right: ',';" aria-hidden="true">\n                                ',"\n                            </span>\n                        ",'\n                        <span class="',"</span>\n                    </div>\n                ",'\n                    <div class="bui-grid__column bui-grid__column-12">\n                       <span class="','" style="padding-right: ',';">',"</span>\n                       ",'\n                           <span class="bui-f-font-caption bui-f-color-grayscale" style="text-decoration: line-through; padding-right: ',';" aria-hidden="true">\n                               ',"\n                           </span>\n                       ",'\n                       <span class="',"\n            </div>\n        </div>\n    ","\n        \n            \n            ","/private/pay_bs3_pay_later_schedule_prop_charge/name"," \n                ","/private/pay_at_stay_zero/name","\n\n            ","\n        ","\n    </div>\n\n    ","\n"],b=["selectedChargeSchedule","description","isPayLaterNoCCSelected","useBoldTextStyle","text","crossedAmount","amount","showJustifiedLayout","isPayPropertySelected","propertySchedule","propertyFullPriceUserPretty","propertyExtraChargesUserPretty"];return _r_(function(e){_i_("3bb:810c3af5");var t,i,n="",a=this.fn;if(n+=d[0],a.MJ(a.MB(b[0]))&&a.MJ(a.MB(b[9]))){n+=d[1];var r=a.MC(b[0])||[];e.unshift({chargeSchedule:null});for(var _,s=1,o=r.length;s<=o;s++){if(e[0].chargeSchedule=_=r[s-1],n+=d[2],a.MJ(0==_.chargeDateDiff))n+=d[3],a.MN(b[1],[d[4],a.ME(d[5],a.MB,a.MN,null),d[6]].join("")),n+=d[2];else if(a.MJ(0<_.chargeDateDiff)){n+=d[3];var l="";l+=d[4],a.MD(b[2])?l+=[d[7],(e.unshift({date:a.MG((_||{}).chargeDate)}),c=a.ME(d[8],a.MB,a.MN,null),e.shift(),c),d[4]].join(""):l+=[d[7],(e.unshift({short_date_without_year:a.MG((_||{}).chargeDate)}),c=a.ME(d[9],a.MB,a.MN,null),e.shift(),c),d[4]].join(""),l+=d[6],a.MN(b[1],l),n+=d[2]}n+=d[10],a.MJ(a.MG(((_||{}).userPriceInUserCurrency||{}).pretty))&&(n+=d[6],e.unshift({amount:a.MG(((_||{}).userPriceInUserCurrency||{}).pretty),crossedAmount:a.MG(((_||{}).totalPriceInUserCurrency||{}).pretty),text:a.MB(b[1])}),i=n,_i_("3bb:22cd5d97"),i+=d[11],a.MJ(a.MB(b[7]))?(i+=d[12],a.MD(b[3])?i+=d[13]:i+=d[14],i+=[d[15],a.F.entities(a.MC(b[4])),d[16]].join(""),a.MD(b[5])&&(i+=[d[17],a.F.entities("8px"),d[18],a.F.entities(a.MC(b[5])),d[19]].join("")),i+=d[20],a.MD(b[3])?i+=d[13]:i+=d[14],i+=[d[15],a.F.entities(a.MC(b[6])),d[21]].join("")):(i+=d[22],a.MD(b[3])?i+=d[13]:i+=d[14],i+=[d[23],a.F.entities("8px"),d[24],a.F.entities(a.MC(b[4])),d[25]].join(""),a.MD(b[5])&&(i+=[d[26],a.F.entities("8px"),d[27],a.F.entities(a.MC(b[5])),d[28]].join("")),i+=d[29],a.MD(b[3])?i+=d[13]:i+=d[14],i+=[d[23],a.F.entities("8px"),d[24],a.F.entities(a.MC(b[6])),d[21]].join("")),i+=d[30],n=_r_(i),e.shift(),n+=d[2]),n+=d[1]}e.shift(),n+=d[31];l="";l+=d[2],a.MJ(a.MB(b[8]))&&a.MK(a.MC(b[9]).property.no_prepayment)?l+=[d[6],a.ME(d[32],a.MB,a.MN,null),d[33]].join(""):l+=[d[6],a.ME(d[34],a.MB,a.MN,null),d[33]].join(""),l+=d[1],a.MN(b[1],l),n+=d[35],e.unshift({amount:a.MB(b[8])?a.MB(b[10]):a.MB(b[11]),text:a.MB(b[1])}),t=n,_i_("3bb:8ada70d2"),t+=d[11],a.MJ(a.MB(b[7]))?(t+=d[12],a.MD(b[3])?t+=d[13]:t+=d[14],t+=[d[15],a.F.entities(a.MC(b[4])),d[16]].join(""),a.MD(b[5])&&(t+=[d[17],a.F.entities("8px"),d[18],a.F.entities(a.MC(b[5])),d[19]].join("")),t+=d[20],a.MD(b[3])?t+=d[13]:t+=d[14],t+=[d[15],a.F.entities(a.MC(b[6])),d[21]].join("")):(t+=d[22],a.MD(b[3])?t+=d[13]:t+=d[14],t+=[d[23],a.F.entities("8px"),d[24],a.F.entities(a.MC(b[4])),d[25]].join(""),a.MD(b[5])&&(t+=[d[26],a.F.entities("8px"),d[27],a.F.entities(a.MC(b[5])),d[28]].join("")),t+=d[29],a.MD(b[3])?t+=d[13]:t+=d[14],t+=[d[23],a.F.entities("8px"),d[24],a.F.entities(a.MC(b[6])),d[21]].join("")),t+=d[30],n=_r_(t),e.shift(),n+=d[36]}return n+=d[37],n+=d[38],_r_(n)})}()),B.define("component/payment/schedule",function(e,t,i){_i_("3bb:028f8201");var n=e("with-capla"),a=e("report-error"),r=e("jquery"),_=e("server-data"),s=e("fragment"),o={},l="payments-experience",c="web-sdk",d="CAPLA_EVENT_payments-experience_web-sdk_PAYMENT_TIMINGS_DATA",b="CAPLA_EVENT_payments-experience_web-sdk_UPDATE_SELECTED_TIMING";i.exports=e("component/reactive").extend({template:"payment_schedule",initialize:function(){_i_("3bb:52170fab"),l=1==_.fe_is_booking_process_mfe?"checkout":"payments-experience",c=1==_.fe_is_booking_process_mfe?"bp-accommodation":"web-sdk",r(document).ready(n(l,c,this._loadPaymentStore.bind(this))),_r_()},getState:function(){_i_("3bb:f90abfeb");var e=_.fe_piyoc_supported,t=this.__state.selectedScheduleKey,i=this.__state.selectedChargeSchedule,n=t?o[t.value]:i;return _r_({showJustifiedLayout:_.b_is_mobile_site||1==_.fe_show_payment_schedule_on_price_details,propertySchedule:_.fe_property_schedule,propertyFullPriceUserPretty:_.fe_property_extracharges_with_chargeable_price_user_pretty,propertyExtraChargesUserPretty:_.fe_property_extracharges_user_pretty,propertyHasExtraCharges:_.fe_property_has_extracharges,selectedChargeSchedule:e&&n?n.chargeSchedule:n,isPayPropertySelected:t&&"PAY_TO_PROPERTY"===t.value,useBoldTextStyle:"mdot"===_.b_site_type&&_.fe_fix_payment_schedule_style_consistency,isPayLaterNoCCSelected:t&&"PAY_LATER_NO_CC"===t.value})},_loadPaymentStore:function(e){if(_i_("3bb:eac34a66"),!e||!e.dataStore)return a(new Error("caplaObject undefined for order id "+_.fe_order_uuid+" and PC id "+_.fe_payment_component_id),"[PayIn Migration] Payment schedule - Unable to load Capla store to communicate with Payments SDK."),_r_();var t=e.eventBus;t.subscribeOnce(d,function(e,t){_i_("3bb:c3d6ccfb");var i=(o=this._parseChargeSchedules(t.chargeSchedules))[t.selectedTiming.value];this.setState({selectedScheduleKey:t.selectedTiming,selectedChargeSchedule:i}),_r_()}.bind(this)),t.subscribe(b,function(e,t){_i_("3bb:9686c107"),this.setState({selectedScheduleKey:t}),_r_()}.bind(this)),_r_()},_parseChargeSchedules:function(e){if(_i_("3bb:b7c3c0f4"),!e)return _r_({});var t=_.fe_piyoc_supported,i=r.extend(!0,{},e);return Object.keys(i).forEach(function(e){_i_("3bb:b34867e9"),(t?i[e].chargeSchedule:i[e]).forEach(function(t){_i_("3bb:1719d1a3"),this._formatAmount(t.userPriceInUserCurrency.value,t.userPriceInUserCurrency.currency,_.b_selected_language).then(function(e){return _i_("3bb:485d100a"),_r_(t.userPriceInUserCurrency.pretty=e)}).then(this.render),t.userPriceInUserCurrency.value!==t.totalPriceInUserCurrency.value&&this._formatAmount(t.totalPriceInUserCurrency.value,t.totalPriceInUserCurrency.currency,_.b_selected_language).then(function(e){return _i_("3bb:214bab4e"),_r_(t.totalPriceInUserCurrency.pretty=e)}).then(this.render),_r_()}.bind(this)),_r_()}.bind(this)),_r_(i)},_formatAmount:function(e,t,i){return _i_("3bb:e24f307c"),_r_(s.call("payment.price.formatter",{amount:e,currency:t,lang_code:i}).then(function(e){return _i_("3bb:5e037875"),_r_(e)},function(e){_i_("3bb:8156f1c9"),a(e,"[PayIn Migration] Payment schedule - Unable to format amount with payment.price.formatter"),_r_()}))}}),_r_()}),booking.jstmpl("refund_information",function(){_i_("3bb:1ad0a377");var a,r=['\n\n\t<div class="',"bui-spacer--large",'">\n\t\t\n\t\t',"\n\t\t\t","\n\t\t\t\t","/private/cpex_timing_paylater_multi_fc/name","/private/pay_timing_bcom_will_facilitate/name"," ","/private/bh_pay_bp_cc/name","\n\t\t","\n\n        \n        ","\n            ","\n                ","/private/web_bp_preauth_bs2_reassurance_banner_total_cost/name","</b>","<b>","/private/web_bp_preauth_bs2_reassurance_banner_amount/name","/private/web_bp_preauth_bs2_reassurance_banner_first_night/name","\n                    ","\n                        \n                        ","/private/pay_bs3_pay_property_timing_explanation/name","\n                        ","\n                            \n                            ","/private/m_pay_pmp_cancel_for_free_date/name",'\n\n                            \n                            <div class="u-margin-top:10">',"/private/m_pay_pmp_prepayment_conditions_container/name","</div>\n                        ","\n                            \n                            \n                            ","/private/pay_bs3_pay_later_explanation_free_canx_prepayment/name","/private/pay_bs3_pay_at_property_explanation_fantasy_flex/name","/private/bs3_paym_pay_now_subtitle_mdot/name","/private/pay_bs3_pay_later_explanation_generic/name","\n        ","/private/cpex_timing_paynow_single_fc/name","/private/cpex_timing_paynow_multi_fc/name","/private/cpex_timing_paynow_single_nr/name","/private/cpex_timing_paynow_multi_nr/name","/private/pay_bs3_pay_now_explanation_free_canx/name","/private/pay_bs3_pay_now_explanation_fantasy_flex/name","/private/policies_fe2_m_pay_now_nonrefundable_explanation/name","/private/pay_bs3_pay_now_explanation_generic/name","\n    </div>\n\n"],_=["selectedTiming","payLaterChargeDate","cancellation","isPayNowCopyUpdateExp","policies","companyName","preauthDisclaimer","bookingConditions","isPrepayDepositExp","isSingleTiming"];return _r_(function(e){_i_("3bb:1989eb16");var t="",i=this.fn;if(t+=r[0],i.MJ(i.MB(_[0]))&&(t+=r[1]),t+=r[2],i.MJ(i.MB(_[0])+""=="PAY_LATER")&&i.MJ(i.MB(_[1]))&&(t+=r[3],i.MJ(i.MB(_[3]))&&i.MJ(i.MC(_[4]).isFlexible)?t+=[r[4],(e.unshift({charge_date:i.MB(_[1]),date:i.MG((i.MC(_[2])||{}).date)}),a=i.ME(r[5],i.MB,i.MN,null),e.shift(),a),r[3]].join(""):t+=[r[4],(e.unshift({b_companyname:i.MB(_[5])}),a=i.ME(r[6],i.MB,i.MN,null),e.shift(),a),r[7],(e.unshift({date:i.MB(_[1])}),a=i.ME(r[8],i.MB,i.MN,null),e.shift(),a),r[3]].join(""),t+=r[9]),t+=r[10],i.MJ(i.MB(_[0])+""=="PAY_TO_PROPERTY")){if(t+=r[11],i.MD(_[6])){t+=r[12];var n=i.MG((i.MC(_[6])||{}).type);i.MJ(n+""=="full")?t+=(e.unshift({end_bold:r[14],start_bold:r[15]}),a=i.ME(r[13],i.MB,i.MN,null),e.shift(),a):i.MJ(n+""=="fixed")?t+=(e.unshift({end_bold:r[14],preauth_amount:i.MG((i.MC(_[6])||{}).amount),start_bold:r[15]}),a=i.ME(r[16],i.MB,i.MN,null),e.shift(),a):i.MJ(n+""=="first_night")&&(t+=(e.unshift({end_bold:r[14],start_bold:r[15]}),a=i.ME(r[17],i.MB,i.MN,null),e.shift(),a)),t+=r[11]}else t+=r[12],i.MJ(i.MG((i.MC(_[4])||{}).isFlexible))?(t+=r[18],i.MJ(i.MC(_[4]).noPrepayment)&&i.MJ(i.MC(_[2]).time)&&i.MJ(i.MC(_[2]).date)?t+=[r[19],(e.unshift({date:i.MG((i.MC(_[2])||{}).date),time:i.MG((i.MC(_[2])||{}).time)}),a=i.ME(r[20],i.MB,i.MN,null),e.shift(),a),r[18]].join(""):i.MK(i.MC(_[4]).noPrepayment)&&i.MJ(i.MC(_[2]).time)&&i.MJ(i.MC(_[2]).date)?(t+=r[21],i.MD(_[8])?t+=[r[22],(e.unshift({date:i.MG((i.MC(_[2])||{}).date)}),a=i.ME(r[23],i.MB,i.MN,null),e.shift(),a),r[24],(e.unshift({prepayment_conditions:i.MB(_[7])}),a=i.ME(r[25],i.MB,i.MN,null),e.shift(),a),r[26]].join(""):t+=[r[27],(e.unshift({date:i.MG((i.MC(_[2])||{}).date)}),a=i.ME(r[28],i.MB,i.MN,null),e.shift(),a),r[21]].join(""),t+=r[18]):t+=[r[19],i.ME(r[29],i.MB,i.MN,null),r[18]].join("")):(t+=r[18],i.MJ(i.MC(_[4]).isNonFlexible)&&i.MJ(i.MC(_[4]).noPrepayment)&&i.MJ(i.MC(_[4]).isSCAdefaultTiming)?t+=[r[19],i.ME(r[30],i.MB,i.MN,null),r[18]].join(""):t+=[r[19],i.ME(r[31],i.MB,i.MN,null),r[18]].join("")),t+=r[12],t+=r[11];t+=r[32]}return t+=r[10],i.MJ(i.MB(_[0])+""=="PAY_NOW")&&(t+=r[11],i.MD(_[3])?(t+=r[12],i.MJ(i.MG((i.MC(_[4])||{}).isFlexible))?(t+=r[18],i.MD(_[9])?t+=[r[21],(e.unshift({date:i.MG((i.MC(_[2])||{}).date)}),a=i.ME(r[33],i.MB,i.MN,null),e.shift(),a),r[18]].join(""):t+=[r[21],(e.unshift({date:i.MG((i.MC(_[2])||{}).date)}),a=i.ME(r[34],i.MB,i.MN,null),e.shift(),a),r[18]].join("")):(t+=r[18],i.MD(_[9])?t+=[r[21],i.ME(r[35],i.MB,i.MN,null),r[18]].join(""):t+=[r[21],i.ME(r[36],i.MB,i.MN,null),r[18]].join(""))):(t+=r[12],i.MJ(i.MG((i.MC(_[4])||{}).isFlexible))?(t+=r[18],i.MJ(i.MC(_[2]).time)&&i.MJ(i.MC(_[2]).date)?t+=[r[19],(e.unshift({date:i.MG((i.MC(_[2])||{}).date),time:i.MG((i.MC(_[2])||{}).time)}),a=i.ME(r[37],i.MB,i.MN,null),e.shift(),a),r[18]].join(""):t+=[r[19],i.ME(r[38],i.MB,i.MN,null),r[18]].join("")):(t+=r[18],i.MJ(i.MC(_[4]).isNonFlexible)&&i.MJ(i.MC(_[4]).noPrepayment)&&i.MJ(i.MC(_[4]).isSCAdefaultTiming)?t+=[r[19],i.ME(r[39],i.MB,i.MN,null),r[18]].join(""):t+=[r[19],i.ME(r[40],i.MB,i.MN,null),r[18]].join(""))),t+=r[12],t+=r[11],t+=r[32]),t+=r[41],_r_(t)})}()),B.define("component/refund/information",function(e,t,i){_i_("3bb:a70e37f2");var n,a,r=e("with-capla"),_=e("report-error"),s=e("jquery"),o=e("server-data"),l="payments-experience",c="web-sdk",d="CAPLA_EVENT_payments-experience_web-sdk_PAYMENT_TIMINGS_DATA",b="CAPLA_EVENT_payments-experience_web-sdk_UPDATE_SELECTED_TIMING";i.exports=e("component/reactive").extend({template:"refund_information",initialize:function(){_i_("3bb:a529748b"),l="checkout",c="bp-accommodation",s(document).ready(r(l,c,this._loadPaymentStore.bind(this))),_r_()},getState:function(){_i_("3bb:ebf7a50e");var e=this.__state.selectedKey;return _r_({selectedTiming:e&&e.value,policies:{isFlexible:1==o.FE_PBB__ROOM_POLICY_FLEX,isNonFlexible:1==o.FE_PBB__ROOM_POLICY_NONFLEX,noPrepayment:1==o.FE_PBB__NO_PRE_PAYMENT_NEEDED,isSCAdefaultTiming:1==o.fe_run_emergency_sca_default_timing_option},cancellation:{time:o.fe_cancellation_time,date:o.fe_cancellation_date},payLaterChargeDate:n,isSingleTiming:a,companyName:o.b_companyname,bookingConditions:o.fe_booking_conditions_text,isPrepayDepositExp:1==o.fe_prepay_deposit_exp,isPayNowCopyUpdateExp:1==o.fe_update_payment_timing_copy_pay_now,preauthDisclaimer:o.preauth_disclaimer?{type:o.preauth_disclaimer.preauth_type,amount:o.preauth_disclaimer.preauth_value}:null})},_loadPaymentStore:function(e){if(_i_("3bb:278fe94d"),!e||!e.dataStore)return _("[Refund Information] Unable to get Capla store to communicate with Payment Timing","Payments Migration"),_r_();var t=e.eventBus;t.subscribeOnce(d,function(e,t){_i_("3bb:e6f6ba57"),n=this._getChargeDate(t,"PAY_LATER"),a=t&&t.paymentTimings&&1===t.paymentTimings.length,this.setState({selectedKey:t.selectedTiming}),_r_()}.bind(this)),t.subscribe(b,function(e,t){_i_("3bb:5fcfb478"),this.setState({selectedKey:t}),_r_()}.bind(this)),_r_()},_getChargeDate:function(e,t){_i_("3bb:ae7a948a");var i,n=e.chargeSchedules&&e.chargeSchedules[t];if(!n)return _r_("");return n.forEach(function(e){_i_("3bb:d818fb1a"),0<e.chargeDateDiff&&(i=e.chargeDate),_r_()}.bind(this)),_r_(i)}}),_r_()}),B.define("component/sp/loyalty-number-validator",function(e,t,i){_i_("3bb:935395ce"),i.exports=e("component").extend({init:function(){_i_("3bb:f24c4768");var t=this,i=$(document).find("#pl_number, #bonusmilesnr, .sp_pl_loyalty_field"),n=this.$el.attr("data-valmethod"),a=this.$el.attr("data-message"),r=parseInt(this.$el.attr("data-maxlength")),e=this.$el.attr("data-user-loyalty"),_=this.$el.attr("data-show"),s=!1;this.$el.attr("data-enablesubmit")&&"true"==this.$el.attr("data-enablesubmit")&&(s=!0),this.setMaxLength(i,r,!1),a&&$(document).on("change keyup","#pl_number, #bonusmilesnr, .sp_pl_loyalty_field",function(){_i_("3bb:26ff5307"),i=$(this),t.setMaxLength(i,r,!1);var e=i.parents("form").find("button[type='submit']");t[n](i.val())?(i.next("#pl_error").remove(),e.attr("disabled",!1)):0==i.next("#pl_error").length&&(i.after("<p id='pl_error'>"+a+"</p>"),s||e.attr("disabled",!0)),_r_()}),e&&_&&(t[n](e)||$(_).show()),_r_()},validateMod7:function(e){_i_("3bb:9236d04d");var t=parseInt(e/10);if(e==10*t+(t-7*Math.floor(t/7)))return _r_(!0);return _r_(!1)},validateLUHN:function(e){if(_i_("3bb:f5a28ea0"),/[^0-9-\s]+/.test(e))return _r_(!1);for(var t=0,i=0,n=!1,a=e.length-1;0<=a;a--){var r=e.charAt(a);i=parseInt(r,10);n&&9<(i*=2)&&(i-=9),t+=i,n=!n}return _r_(t%10==0)},validateLUHN_meridiana:function(e){if(_i_("3bb:2b678822"),/[^0-9-\s]+/.test(e))return _r_(!1);for(var t=e.charAt(e.length-1),i=0,n=!0,a=0;a<=e.length-2;a++){var r=parseInt(e.charAt(a),10);n&&(r*=3),i+=r,n=!n}return _r_(10-i%10==t)},validateAA:function(t){if(_i_("3bb:ef5f00c0"),t.match(/[a-zA-Z0-9]{7}/)){var e=((n(1)+2*n(3)+n(4)+n(5)+n(6))/5).toString().split("."),i=e[1]?e[1].charAt(0):"0";return _r_(i===t.charAt(6))}return _r_(!1);function n(e){_i_("3bb:c860c46d");return _r_({0:240,1:241,2:242,3:243,4:244,5:245,6:246,7:247,8:248,9:249,a:193,b:194,c:195,d:196,e:197,f:198,g:199,h:200,i:201,j:209,k:210,l:211,m:212,n:213,o:214,p:215,q:216,r:217,s:226,t:227,u:228,v:229,w:230,x:231,y:232,z:233}[t.charAt(e-1).toLowerCase()])}},setMaxLength:function(t,i,e){_i_("3bb:a3aba77c"),!e&&i&&0<t.length&&t.attr("maxlength",i).keyup(function(e){_i_("3bb:d5e1a92f"),t.val().length>i&&t.val(t.val().substr(0,i)),_r_()}),_r_()}}),_r_()}),B.define("component/sp/loyalty-optout",function(e,t,i){_i_("3bb:fdb3c6f8");var n=e("events"),a=e("ga-tracker"),r=B.debug("loyalty-optout");i.exports=e("component").extend({init:function(){_i_("3bb:823ed26c"),this.block=this.$el,this.checkbox=this.$el.find(".loyalty-optout__check"),this.untickMsg=this.$el.find("#loyalty-optout__uncheck_message"),this.toggles(),this.tracking(),_r_()},toggles:function(){_i_("3bb:f6f70607");var t=this;this.checkbox.on("change",function(){_i_("3bb:0b72c81d"),this.checked?t.untickMsg.addClass("bui-u-hidden").hide():t.untickMsg.removeClass("bui-u-hidden").show(),_r_()}),n.on("pay:tab:select",function(e){_i_("3bb:1b09aebc"),r.log(e),"payment_method__content__creditcard"==e?(t.block.show(),t.checkbox.prop("checked",!0),t.untickMsg.add("bui-u-hidden").hide()):(t.block.hide(),t.checkbox.prop("checked",!1)),_r_()}),_r_()},tracking:function(){_i_("3bb:365827db");this.checkbox.on("change",function(){_i_("3bb:6e62266b"),a.trackEvent("Book Process","SP Extended Cashback changed",""+this.checked),_r_()}),_r_()}}),_r_()}),B.define("utils/bind-all",function(e,t,i){_i_("3bb:ca20d562"),i.exports=function(e){for(var t in _i_("3bb:fe723711"),e)"function"==typeof e[t]&&(e[t]=e[t].bind(e));return _r_(e)},_r_()}),B.define("component/sp/moredetails-edit",function(e,t,i){_i_("3bb:67808f6b");var n=e("utils/bind-all");i.exports=e("component").extend({init:function(){_i_("3bb:39a075b4"),n(this);var e=this.$el,t=e.find(".loyalty-moredetails-edit-link");0===t.length&&(t=e.parents(".loyalty-moredetails-edit-link")),1===t.length&&(this.modal=window.BUI.getInstance(t.get(0))),this.setupToast(),this.setupModal(),this.setupAutoOpen(),_r_()},setupToast:function(){_i_("3bb:a5d5cbc3"),this.toast=window.BUI.createInstance("Toast",null,{}),_r_()},setupModal:function(){_i_("3bb:b8912a94");var t=this;t.modal&&t.modal.props&&(t.modal.props.onBeforeOpen=function(){_i_("3bb:6985ec02");var e=$(t.modal.modalEl);t.form=e.find("form"),t.form.on("submit",t.handleSubmit),e.loadComponents(),_r_()}),_r_()},handleSubmit:function(e){_i_("3bb:81fb0213"),e.preventDefault();this.form.addClass("loading"),$.ajax({type:"POST",url:"/modify_booker_loyalty_data",data:this.form.serialize(),success:this.handleSuccess,error:this.handleFailure}),_r_()},handleSuccess:function(e){_i_("3bb:7e5b943f");e=JSON.parse(e),this.form.removeClass("error invalid loading"),0<e.success?(this.form.addClass("success"),setTimeout(function(){_i_("3bb:b752ab5b"),window.location.reload(),_r_()},300)):this.form.addClass(e.error),_r_()},handleFailure:function(e,t,i){_i_("3bb:64b281f5");this.form.removeClass("invalid loading").addClass("error"),_r_()},setupAutoOpen:function(){_i_("3bb:11289f6e"),this.$el.data("modalAutoOpen")&&this.modal.open(),_r_()}}),_r_()}),B.define("component/sp/moredetails-payload",function(e,t,i){_i_("3bb:0936457d");var _=e("jquery"),n=e("component");i.exports=n.extend({init:function(){_i_("3bb:a905cc16"),this.$fields=this.$el.find("[data-loyalty-field]"),this.$payloadField=this.$el.find("[data-loyalty-payload-field]"),this.generate(),this.$fields.on("blur",this.generate.bind(this)),_r_()},generate:function(){_i_("3bb:aa9d8553"),this.$payloadField.val(function(){_i_("3bb:ccdff3b9");var r={};this.$fields.each(function(e,t){_i_("3bb:3bd8abba");var i=_(t),n=i.val(),a=i.data("metadataId");r[a]=n,_r_()});var e=JSON.stringify(r),t=encodeURIComponent(e);return _r_(t)}.call(this)),_r_()}}),_r_()}),booking.jstmpl("js_sp_loyalty_coupon_code_field",function(){_i_("3bb:9bd35633");var a,r=["\n    ","\n",'\n    <input type="hidden" name="sp_loyalty_coupon_code" value="','">\n    <div class="bui-alert bui-alert--inline bui-alert--success" role="status">\n        <span class="bui-alert__icon">\n            ',"streamline/checkmark","large",'\n        </span>\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">',"/private/sp_reward_bs_message_coupon_popup_success/name","</p>\n        </div>\n    </div>\n","bui-form__control loyalty-coupon-code__field",'\n    <div class="bui-form__group">\n        <label class="bui-form__label" for="','">',"/private/sp_reward_bs_message_coupon_message/name",'</label>\n        <div class="bui-group bui-group--inline">\n            <div>\n                <input class="','" id="','" type="text" name="sp_loyalty_coupon_code" value="','" data-sp-coupon-code-field />\n            </div>\n            ','\n                <div class="bui-spinner">\n                    <div class="bui-spinner__inner"></div>\n                </div>\n            ',"\n            ",'\n                <div class="loyalty-coupon-code__field-error bui-f-color-destructive">\n                    ',"streamline/warning",'\n                    <span class="loyalty-coupon-code__field-error-message">\n                        ',"/private/sp_reward_bs_message_coupon_error/name","\n                    </span>\n                </div>\n            ","\n        </div>\n    </div>\n"],_=["fe_value","fe_success","fe_policy_id","fe_input_classes","fe_field_id","fe_loading","fe_error","error","loading","policy_id","success","value"];return _r_(function(i){_i_("3bb:378cc7dd");var e="",n=this.fn;return e+=r[0],i.unshift({fe_error:n.MB(_[7]),fe_loading:n.MB(_[8]),fe_policy_id:n.MB(_[9]),fe_success:n.MB(_[10]),fe_value:n.MB(_[11])}),e=function(e){if(_i_("3bb:1572e1bd"),e+=["",r[1]].join(""),n.MD(_[1]))e+=[r[2],n.F.entities(n.MC(_[0])),r[3],(i.unshift({name:r[4],size:r[5]}),a=n.HELPER("icon",i[0]),i.shift(),a),r[6],n.ME(r[7],n.MB,n.MN,null),r[8]].join("");else{e+=r[0],n.MN("fe_field_id",["sp-loyalty-coupon-code-field-",n.MB(_[2])].join("")),e+=r[0];var t="";t+=r[9],n.MN(_[3],t),e+=[r[10],n.F.entities(n.MC(_[4])),r[11],n.ME(r[12],n.MB,n.MN,null),r[13],n.F.entities(n.MC(_[3])),r[14],n.F.entities(n.MC(_[4])),r[15],n.F.entities(n.MC(_[0])),r[16]].join(""),n.MD(_[5])&&(e+=r[17]),e+=r[18],n.MD(_[6])&&(e+=[r[19],(i.unshift({name:r[20],size:r[5]}),a=n.HELPER("icon",i[0]),i.shift(),a),r[21],n.ME(r[22],n.MB,n.MN,null),r[23]].join("")),e+=r[24]}return e+=[r[1],""].join(""),_r_(e)}(e),i.shift(),e+=r[1],_r_(e)})}()),B.define("component/sp/coupon-code-field",function(e,t,i){_i_("3bb:ff62757d");var n=e("jquery"),a=e("component"),r=e("jstmpl"),_="[data-sp-coupon-code-field]";i.exports=a.extend({init:function(){_i_("3bb:bad51a24"),this.prevCouponCode="",this.policyId=this.$el.data("sp-coupon-code-field-id"),this.$field=this.$el.find("[data-sp-coupon-code-field]"),this.$error=this.$el.find("[data-sp-coupon-code-field-error]"),this.template=r("js_sp_loyalty_coupon_code_field"),this.$el.on("blur",_,this.handleBlur.bind(this)),this.$el.on("keyup",_,this.handleKeyup.bind(this)),_r_()},validate:function(t){if(_i_("3bb:58d8f278"),t===this.prevCouponCode)return _r_();if(t.length<2)return _r_();this.prevCouponCode=t,this.render({loading:!0,policy_id:this.policyId,value:t}),n.ajax({type:"POST",url:"/validate_loyalty_coupon",data:{id:this.policyId,code:t},success:function(e){_i_("3bb:baf0f79c"),e.valid?this.render({success:!0,value:t}):this.render({error:!0,policy_id:this.policyId,value:t,loading:!1}),_r_()}.bind(this),error:function(){_i_("3bb:c6ec16c4"),this.render({policy_id:this.policyId,value:t,loading:!1}),_r_()}.bind(this)}),_r_()},render:function(e){_i_("3bb:020fd21c");var t=this.template.render(e);this.$el.html(t),_r_()},handleBlur:function(e){_i_("3bb:bc96a99e");var t=n(e.currentTarget);this.validate(t.val().trim()),_r_()},handleKeyup:function(e){_i_("3bb:37a51a0f");var t=n(e.currentTarget),i=t.val().toUpperCase().replace(/[^0-9A-Z-]/gi,"");t.val(i),_r_()}}),_r_()}),$(function(){_i_("3bb:65412ec8"),B.require("ga-events-tracker").setup({categoryName:"Booking Process",eventsMap:B.require("bp/ga-tracker/events"),emitter:B.require("bp/emitter")}),(2===B.require("bp/env").get("stage")||3===B.require("bp/env").get("stage")&&"tdot"!==B.env.b_site_type)&&B.require("bp/change-dates-lightbox").init(),B.require("bp/dom-setup"),B.require("bp/inline-validation-errors-tracking"),"tdot"!==B.env.b_site_type&&B.require("bp/idleness-tracker").init(),_r_()}),B.define("report-error",function(){return _i_("3bb:c368b216"),_r_(function(e,t){_i_("3bb:cc4fb343");var i,n=B.env&&B.env.b_dev_server,a=(i=B.reportError,_i_("3bb:8ea0d968"),_r_(i&&"[object Function]"==={}.toString.call(i))&&B.reportError.bind(B));if(n||!a)throw new Error(e);a({message:e},t),_r_()})}),B.define("component/reactive",function(e,t,i){_i_("3bb:5d5ae7bd");var n,a=!1,r=window.B&&window.B.env&&1==window.B.env.b_dev_server,_=e("morphdom"),s=e("component"),o=e("component/loader"),l=e("event-map"),c=e("et"),d=window.B&&window.B.env&&window.B.env.b_load_et_reactive_components,b=window.B&&window.B.env&&window.B.env.b_load_bui_reactive_components,p=(_i_("3bb:eb08434a"),_r_([])),u=0;function h(e){return _i_("3bb:df331070"),_r_(1===(t=e,_i_("3bb:d12e6d1c"),!n&&document.createRange&&(n=document.createRange()).selectNode(document.body),n&&n.createContextualFragment?i=n.createContextualFragment(t):(i=document.createElement("body")).innerHTML=t,_r_(i.childNodes)).length);var t,i}function f(e,t,i){var n,a,r,_,s;_i_("3bb:95620d52");var o=i?i.attributes:t.attributes;if(!o)return _r_();for(n=0,a=o.length;n<a;++n)if(0===(r=o[n]).name.indexOf("on:")){s=r.name.split(":")[1],_=r.value,t.addEventListener(s,e[_],!1);var l=t.getAttribute(r.name);l!==r.value&&t.removeEventListener(s,e[l],!1)}if(i)for(n=0,a=t.attributes.length;n<a;++n)0!==(r=t.attributes[n]).name.indexOf("on:")||i.hasAttribute(r.name)||(s=r.name.split(":")[1],_=r.value,t.removeEventListener(s,e[_],!1));_r_()}function m(e,t){_i_("3bb:5b730617");var i,n=function(){return _i_("3bb:8d3439e9"),_r_(NodeFilter.FILTER_ACCEPT)};if(i=t,_i_("3bb:c394c36c"),!_r_(i.nodeType===Node.ELEMENT_NODE))return _r_();n.acceptNode=n;var a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,n,!1);for(f(e,t);a.nextNode();)a.currentNode&&a.currentNode.hasAttribute("data-component")&&a.nextSibling(),f(e,a.currentNode);_r_()}function g(i){_i_("3bb:5c448b89");var r,e={onBeforeElUpdated:function(e,t){_i_("3bb:25652c8b"),f(i,e,t),_r_()},onBeforeElChildrenUpdated:function(e,t){return _i_("3bb:a45f5979"),_r_(function(e,t,i){var n;_i_("3bb:79234ca2");var a=e.el;if(t!==i&&t!==a&&(n=o.getComponent(t))&&n.render!==s.prototype.render)return n.render(),_r_(!1);_r_()}(i,e,t))},onNodeAdded:function(e){_i_("3bb:ff98ccf6"),m(i,e),_r_()},onBeforeNodeDiscarded:function(e){_i_("3bb:182b441e"),"string"==typeof e.localName&&e.localName.match(/^grammarly\-/)&&!a&&(a=!0),_r_()}};return r=e,_i_("3bb:f7fc0779"),p.forEach(function(e){if(_i_("3bb:616a171f"),"function"!=typeof e)return _r_(!1);var t=e();Object.keys(t).forEach(function(e){_i_("3bb:bef6248f"),function(i,n){if(_i_("3bb:d9e9eff7"),!i.hasOwnProperty(n)||"function"!=typeof i[n])return _r_(!1);if("function"==typeof r[n]){var e=r[n];r[n]=(a=e,_i_("3bb:eca07329"),_r_(function(){_i_("3bb:9e624c95");var e=i[n].apply(this,arguments),t=a.apply(this,arguments);if(void 0!==e)return _r_(e);if(void 0!==t)return _r_(t);_r_()}))}else r[n]=i[n];var a;_r_()}(t,e),_r_()}),_r_()}),_r_(),_r_(e)}i.exports=s.extend({init:function(){_i_("3bb:93ad71f0"),this.name=function(e){if(_i_("3bb:db849ab7"),0<=e.indexOf(" "))throw new Error('component/reactive: invalid "'+e+'". Component name must not contain spaces');return _r_(e)}(this.el.getAttribute("data-component")),this.connectStore(),this.__state=this.initialState||{},this.renderOptions=g(this),function(e){for(var t in _i_("3bb:187091b6"),e)"function"==typeof e[t]&&(e[t]=e[t].bind(e));_r_()}(this),this.initialize&&this.initialize(),m(this,this.el),this.render(),_r_()},connectStore:function(){if(_i_("3bb:c18d37e7"),this.store){if("function"!=typeof this.store.getState)throw new Error("Reactive Component: "+this.name+": Store should have getState method");if("function"!=typeof this.store.subscribe)throw new Error("Reactive Component: "+this.name+": Store should have subscribe method");this.store.subscribe(this.render.bind(this))}_r_()},dispatch:function(e){_i_("3bb:a69533bf"),this.store&&this.store.dispatch(e),_r_()},getStoreState:function(){_i_("3bb:eaf2e35d");var e={};return this.store&&(e.store=this.store.getState()),_r_(e)},getInnerState:function(){return _i_("3bb:ddde5c51"),_r_(this.__state)},getState:function(){return _i_("3bb:f3022fe0"),_r_(Object.assign({},this.getStoreState(),this.getInnerState()))},setState:function(e){_i_("3bb:0e8b521c"),this.__state=Object.assign({},this.__state,e),this.render(),_r_()},events:function(e){_i_("3bb:f7962b33"),l(this.el,e,this),_r_()},_destroy:function(){_i_("3bb:5b40527e"),"function"==typeof this.unsubscribe&&this.unsubscribe(),"function"==typeof this.destroy&&this.destroy(),_r_()},render:function(){if(_i_("3bb:83820e66"),!this.template)return _r_();if(50<++u)throw new Error(this.name+": max render depth reached (50). Stuck in a loop?");var e=B.jstmpl(this.template).render(this.getState()).trim();if(r&&!h(e))throw new Error("Broken. Reactive components requires having one root node element in rendered template. Add a root element to the template.","component/reactive");_(this.el,e,this.renderOptions),this.$el&&(o.loadComponents(this.$el),d&&c.initAttributesTracking(this.$el),b&&window.BUI.initComponents(this.el)),u=0,"function"==typeof this.afterRender&&this.afterRender(),_r_()}}),_r_()}),B.define("components/business/payments/credit-card-search/store",function(e,t,i){_i_("3bb:7bb6427b");var n=e("reducer-store"),a={clearTextVisible:!1,searchText:"",cards:B.env.fe_user_cc_details.filter(function(e){return _i_("3bb:7b6bc3ff"),_r_("active"===e.b_cc_status)})};i.exports=new n(function(e,t){switch(_i_("3bb:99b54a2b"),t.type){case"CLICK_CLEAR_FIELD":return _r_(Object.assign({},e,{searchText:"",clearTextVisible:!1}));case"KEYPRESS_SEARCHBOX":return _r_(Object.assign({},e,t.payload));default:return _r_(e)}_r_()},a),_r_()}),booking.jstmpl("business_creditcard_searchbox",function(){_i_("3bb:86439b1a");var a,r=["\n    ",'<div data-component="business/payments/credit-card-search/searchbox" class="bb-payments-cc-searchbox">\n    <label for="card-search" class="bp_form__field__label">\n        ',"/private/bbp_company_payment_airplus_search_header/name",'\n    </label>   \n    <div class="bb-payments-cc-searchbox__input-container">\n        <input id="card-search"\n            class="bp_form__field__input bp_input_text"\n            type="text"\n            name="card-search"\n            value="','"\n            size="40"\n            placeholder="',"/private/bbp_company_payment_airplus_search_textbox/name",'">\n\n        \n        ',"\n            ","clear-searchbox-icon","iconset/close_circle","medium","\n        ","\n    </div>\n</div>\n","\n"],_=["searchText","clearTextVisible"];return _r_(function(e){_i_("3bb:8a71b86e");var t,i="",n=this.fn;return i+=r[0],t=i,_i_("3bb:53f580d9"),t+=[r[1],n.ME(r[2],n.MB,n.MN,null),r[3],n.MC(_[0]),r[4],n.ME(r[5],n.MB,n.MN,null),r[6]].join(""),n.MJ(n.MB(_[1])+""=="true")&&(t+=[r[7],(e.unshift({class:r[8],name:r[9],size:r[10]}),a=n.HELPER("icon",e[0]),e.shift(),a),r[11]].join("")),t+=r[12],i=_r_(t),i+=r[13],_r_(i)})}()),B.define("component/business/payments/credit-card-search/searchbox",function(e,t,i){_i_("3bb:3189b771");var n=e("components/business/payments/credit-card-search/store");function a(){return _i_("3bb:96c9797f"),_r_(n.getState())}function r(e){_i_("3bb:b032fb47"),e.preventDefault(),n.dispatch({type:"CLICK_CLEAR_FIELD"}),s(a().cards,"",this.$el),_r_()}function _(e){_i_("3bb:8f3a6288");var t=e.target.value;e.preventDefault(),n.dispatch({type:"KEYPRESS_SEARCHBOX",payload:{searchText:t,clearTextVisible:!!t}}),s(a().cards,t.toLowerCase(),this.$el),_r_()}function s(e,t,i){var n,a,r;_i_("3bb:55f0d4c0");var _=i.siblings("#book_credit_card").find(".saved_cc_table_item");for(n=0,a=e.length;n<a;++n)t&&-1===e[n].b_cc_type.toLowerCase().indexOf(t)&&-1===e[n].b_cc_name.toLowerCase().indexOf(t)?_.eq(n).addClass("hide-me"):(_.eq(n).removeClass("hide-me"),r||(r=_.eq(n)));r&&r.find("input").first().click(),_r_()}i.exports=e("component/reactive").extend({template:"business_creditcard_searchbox",initialize:function(){_i_("3bb:d02441af"),n.subscribe(this.render.bind(this)),this.events({"click .clear-searchbox-icon":r,"keyup #card-search":_}),this.render(),_r_()},getState:a}),_r_()}),B.define("component/business/payments/company-cards/company-settings/store",function(e,t,i){_i_("3bb:98c370e6");var n=e("reducer-store"),a={dbiProps:function(){var e,t,i;_i_("3bb:fa479da4");var n=[];i=B.env.dbiProps?B.env.dbiProps:[{isRequired:0,code:"AE",isDisplayed:0,acceptedValues:[]},{isDisplayed:0,isRequired:0,code:"AU",acceptedValues:[]},{isRequired:0,code:"DS",isDisplayed:0,acceptedValues:[]},{isRequired:0,code:"IK",isDisplayed:0,acceptedValues:[]},{code:"KS",isRequired:0,isDisplayed:0,acceptedValues:[]},{code:"PK",isRequired:0,isDisplayed:0,acceptedValues:[]},{isDisplayed:0,isRequired:0,code:"PR",acceptedValues:[]}];for(e=0,t=i.length;e<t;++e)n.push({code:i[e].code,isDisplayed:!!i[e].isDisplayed,isRequired:!!i[e].isRequired,isRequiredActive:!!i[e].isDisplayed,acceptedValues:i[e].acceptedValues.join(", "),isAcceptedValuesActive:!!i[e].isDisplayed,isLoading:!1,hasValidationError:!1,loadingStatus:"none"});return _r_(n)}()};i.exports=new n(function(e,t){switch(_i_("3bb:7edd6aba"),t.type){case"DISPLAYED_CLICK":case"REQUIRED_CLICK":case"ACCEPTED_VALUES_KEYPRESS":case"BEFORE_SEND_ROW":case"AFTER_SEND_ROW_SUCCESS":case"AFTER_SEND_ROW_ERROR":case"AFTER_SEND_ROW":case"AFTER_VALIDATION_FAIL":case"AFTER_VALIDATION_SHOWN":return _r_(Object.assign({},e,{dbiProps:t.payload.dbiProps}));default:return _r_(e)}_r_()},a),_r_()}),booking.jstmpl("company_settings_company_cards",function(){_i_("3bb:be775bb7");var o=["\n    ",'\n<div id="company-settings-company-cards"\n    data-component="business/payments/company-cards/company-settings/company-settings-company-cards"\n    class="w-section company-section--permissions w-box">\n\n    <div class="w-section-head">\n        <div class="w-section-head__title">\n            ',"/private/bb_company_card_header/name",'\n        </div>\n        <div class="w-section-head__subtitle">\n            ',"/private/bb_company_card_subheader/name",'\n        </div>\n    </div>\n\n    <div class="w-section-content w-section-content--paddingless">\n        <div class="w-table w-table--with-icons w-table--no-border-top">\n            <div class="row-fluid w-table__row">\n                <div class="span2 w-table__cell w-text-bold">\n                    ',"/private/bb_company_card_field_name/name",'\n                </div>\n                <div class="span2 w-table__cell w-text-bold w-text-center">\n                    ',"/private/bb_company_card_field_code/name","/private/bb_company_card_displayed/name",'\n                </div>\n                <div class="span2 w-table__cell w-text-bold w-text-center ',"w-text-lh-14",'">\n                    ',"/private/bb_company_card_required/name",'\n                </div>\n                <div class="span4 w-table__cell w-text-bold ',"/private/bb_company_card_accepted_values_header/name",'\n                    <i class="bicon-questionmarkcircle company-settings-accepted-values-tooltip"\n                        data-component="tooltip"\n                        data-tooltip-text="',"/private/bb_company_card_accepted_values_tooltip/name",'">\n                    </i>\n                </div>\n            </div>\n\n            ',"\n                ",'\n                    <div class="row-fluid w-table__row company-airplus-fields">\n                        ','\n                            <span class="company-airplus-fields-success">\n                                <i class="bicon-checkmark-circle"></i>\n                                ',"/private/bbt_settings_permissions_success/name","\n                            </span>\n                        ","\n                        ",'\n                            <span class="company-airplus-fields-error">\n                                <i class="bicon-close"></i>\n                                ',"/private/bbt_settings_permissions_error/name",'\n                            <span class="company-airplus-fields-pending">\n                                <div class="w-form-loading">\n                                    <span class="w-form-loading-content__inline">\n                                        ',"/private/bbt_settings_permissions_saving/name","\n                                    </span>\n                                </div>\n                            </span>\n                        ","\n                    </div>\n                ",'\n                    <div class="row-fluid w-table__row company-airplus-fields">\n                        <span class="company-airplus-fields-error">\n                            <i class="bicon-close"></i>\n                            \n                            ',"/private/bbp_company_card_settings_value_error/name","\n                        </span>\n                    </div>\n                ",'\n                    <div class="row-fluid w-table__row">\n                        <div class="span2 w-table__cell">\n                            ',"\n                                    ","/private/bbp_cc_project_fields_dbiae/name","\n                                ","/private/bbp_cc_project_fields_dbiak/name","/private/bbp_cc_project_fields_dbiau/name","/private/bbp_cc_project_fields_dbids/name","/private/bbp_cc_project_fields_dbiik/name","/private/bbp_cc_project_fields_dbipk/name","/private/bbp_cc_project_fields_dbipr/name","/private/bbp_cc_project_fields_dbiks/name","\n                            ",'\n                        </div>\n                        <div class="span2 w-table__cell w-text-center">\n                            ','\n                        </div>\n                        <div class="span2 w-table__cell w-text-center">\n                            <input type="checkbox"\n                                data-index="','"\n                                class="w-input-centered w-input-middle js-is-displayed"\n                                ','checked="checked"','>\n                        </div>\n                        <div class="span2 w-table__cell w-text-center ','">\n                            <input type="checkbox"\n                                data-index="','"\n                                class="w-input-centered w-input-middle js-is-required"\n                                ',"disabled",'>\n                        </div>\n                        <div class="span4 w-table__cell ','">\n                            <input class="bootstrapped-input input-block-level input-text airplus-dbi-input js-airplus-dbi-input"\n                                data-index="','"\n                                value="','"\n                                placeholder="',"/private/bb_company_card_placeholder/name",'"\n                                ',">\n                        </div>\n                    </div>\n                ","\n            ","\n        </div>\n    </div>\n</div>\n","\n"],l=["b_lang","dbiProps"];return _r_(function(_){_i_("3bb:0583bd3c");var e="",s=this.fn;return e=function(e){_i_("3bb:68dc89d1"),e+=["",o[1],s.ME(o[2],s.MB,s.MN,null),o[3],s.ME(o[4],s.MB,s.MN,null),o[5],s.ME(o[6],s.MB,s.MN,null),o[7],s.ME(o[8],s.MB,s.MN,null),o[7],s.ME(o[9],s.MB,s.MN,null),o[10]].join(""),s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[0])))&&(e+=o[11]),e+=[o[12],s.ME(o[13],s.MB,s.MN,null),o[14]].join(""),s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[0])))&&(e+=o[11]),e+=[o[12],s.ME(o[15],s.MB,s.MN,null),o[16],s.ME(o[17],s.MB,s.MN,null),o[18]].join("");var t=s.MC(l[1])||[];_.unshift({prop:null});for(var i,n=1,a=t.length;n<=a;n++){if(_[0].prop=i=t[n-1],e+=o[19],s.MJ(i.isLoading))e+=o[20],s.MJ(i.loadingStatus+""=="success")&&(e+=[o[21],s.ME(o[22],s.MB,s.MN,null),o[23]].join("")),e+=o[24],s.MJ(i.loadingStatus+""=="error")&&(e+=[o[25],s.ME(o[26],s.MB,s.MN,null),o[23]].join("")),e+=o[24],s.MJ(i.loadingStatus+""=="pending")&&(e+=[o[27],s.ME(o[28],s.MB,s.MN,null),o[29]].join("")),e+=o[30];else if(s.MJ(i.hasValidationError))e+=[o[31],s.ME(o[32],s.MB,s.MN,null),o[33]].join("");else{e+=o[34];var r=i.code;s.MJ(r+""=="AE")?e+=[o[35],s.ME(o[36],s.MB,s.MN,null),o[37]].join(""):s.MJ(r+""=="AK")?e+=[o[35],s.ME(o[38],s.MB,s.MN,null),o[37]].join(""):s.MJ(r+""=="AU")?e+=[o[35],s.ME(o[39],s.MB,s.MN,null),o[37]].join(""):s.MJ(r+""=="DS")?e+=[o[35],s.ME(o[40],s.MB,s.MN,null),o[37]].join(""):s.MJ(r+""=="IK")?e+=[o[35],s.ME(o[41],s.MB,s.MN,null),o[37]].join(""):s.MJ(r+""=="PK")?e+=[o[35],s.ME(o[42],s.MB,s.MN,null),o[37]].join(""):s.MJ(r+""=="PR")?e+=[o[35],s.ME(o[43],s.MB,s.MN,null),o[37]].join(""):s.MJ(r+""=="KS")&&(e+=[o[35],s.ME(o[44],s.MB,s.MN,null),o[45]].join("")),e+=[o[46],i.code,o[47],s.F.entities(n),o[48]].join(""),s.MJ(i.isDisplayed)&&(e+=o[49]),e+=o[50],s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[0])))&&(e+=o[11]),e+=[o[51],s.F.entities(n),o[52]].join(""),s.MJ(i.isRequired)&&(e+=o[49]),e+=o[37],s.MK(i.isRequiredActive)&&(e+=o[53]),e+=o[54],s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[0])))&&(e+=o[11]),e+=[o[55],s.F.entities(n),o[56],i.acceptedValues,o[57],s.ME(o[58],s.MB,s.MN,null),o[59]].join(""),s.MK(i.isAcceptedValuesActive)&&(e+=o[53]),e+=o[60]}e+=o[61]}return _.shift(),e+=[o[62],"",o[63]].join(""),_r_(e)}(e+=o[0]),e+=o[63],_r_(e)})}()),B.define("component/business/payments/company-cards/company-settings/company-settings-company-cards",function(e,t,i){_i_("3bb:ee6cf426");var n=0,a=1500,s=e("component/business/payments/company-cards/company-settings/store");function o(){return _i_("3bb:96c9797f1"),_r_(s.getState())}function r(e){_i_("3bb:f403ce9a");var t=+e.target.dataset.index-1,i=!o().dbiProps[t].isDisplayed,n=o().dbiProps;n[t].isDisplayed=!n[t].isDisplayed,i?(n[t].isRequiredActive=!0,n[t].isAcceptedValuesActive=!0):(n[t].isRequired=!1,n[t].isRequiredActive=!1,n[t].isAcceptedValuesActive=!1),s.dispatch({type:"DISPLAYED_CLICK",payload:{dbiProps:n}}),c(t,n),_r_()}function _(e){_i_("3bb:32aa5e21");var t=+e.target.dataset.index-1,i=o().dbiProps;i[t].isRequired=!i[t].isRequired,s.dispatch({type:"REQUIRED_CLICK",payload:{dbiProps:i}}),c(t,i),_r_()}function l(e){_i_("3bb:3ad46238");var t=+e.target.dataset.index-1,i=o().dbiProps;i[t].acceptedValues=e.target.value,s.dispatch({type:"ACCEPTED_VALUES_KEYPRESS",payload:{dbiProps:i}}),clearTimeout(n),n=setTimeout(c.bind(this,t,i),a),_r_()}function c(a,r){_i_("3bb:293804d8");var _=function(e){_i_("3bb:e165d817");var t=o().dbiProps[e];return _r_({bhc_csrf_token:B.env.b_csrf_token,code:t.code,isDisplayed:t.isDisplayed,isRequired:t.isRequired,acceptedValues:t.acceptedValues.split(",").map(function(e){return _i_("3bb:ddb6427a"),_r_(e.trim())})})}(a);$.ajax({type:"POST",url:"bbtool_company_dbi_prop",traditional:!0,data:_,beforeSend:function(e){if(_i_("3bb:25c4f857"),!function(e){_i_("3bb:4ec17cae");var t=e.acceptedValues,i=!0;return t.forEach(function(e){_i_("3bb:17679865"),17<e.length&&(i=!1),_r_()}),_r_(i)}(_))return _r_((t=e,i=r,n=a,_i_("3bb:b31f8ec4"),t.abort(),i[n].hasValidationError=!0,s.dispatch({type:"AFTER_VALIDATION_FAIL",payload:{dbiProps:i}}),i[n].hasValidationError=!1,setTimeout(function(){_i_("3bb:9a1454ef"),s.dispatch({type:"AFTER_VALIDATION_SHOWN",payload:{dbiProps:i}}),_r_()},2e3),void _r_()));var t,i,n;r[a].isLoading=!0,r[a].loadingStatus="pending",s.dispatch({type:"BEFORE_SEND_ROW",payload:{dbiProps:r}}),_r_()},success:function(){_i_("3bb:c88387c4"),r[a].isLoading=!0,r[a].loadingStatus="success",s.dispatch({type:"AFTER_SEND_ROW_SUCCESS",payload:{dbiProps:r}}),_r_()},error:function(){_i_("3bb:154d2357"),r[a].isLoading=!0,r[a].loadingStatus="error",s.dispatch({type:"AFTER_SEND_ROW_ERROR",payload:{dbiProps:r}}),_r_()},complete:function(){_i_("3bb:2ffa39f7"),r[a].isLoading=!1,r[a].loadingStatus="none",setTimeout(function(){_i_("3bb:1bafbf50"),s.dispatch({type:"AFTER_SEND_ROW",payload:{dbiProps:r}}),_r_()},500),_r_()}}),_r_()}i.exports=e("component/reactive").extend({template:"company_settings_company_cards",initialize:function(){_i_("3bb:cb4737a5"),s.subscribe(this.render.bind(this)),this.events({"click .js-is-displayed":r,"click .js-is-required":_,"keyup .js-airplus-dbi-input":l}),this.render(),_r_()},getState:o}),_r_()}),B.define("component/business/payments/company-cards/company-cards-permissions/store",function(e,t,i){_i_("3bb:c2d3b04a");var n=e("reducer-store"),a={cards:function(){var e,t,i,n;_i_("3bb:056199d9");var a=[];for(e=0,t=B.env.airplusCards.length;e<t;++e)i=B.env.airplusCards[e],n={id:i.id,name:decodeURIComponent(i.name),nameOld:decodeURIComponent(i.name),expiry:i.expiry,isLoading:!1,loadingStatus:"none",isCompanyShared:!!i.isCompanyShared,isCompanySharedOld:!!i.isCompanyShared,hasInvalidName:!1,isInvalid:!1,hasInvalidSharedWithEmail:!1,sharedWithEmail:"",sharedWith:i.sharedWith.slice(),sharedWithOld:i.sharedWith.slice(),isOpen:!1,hasPaymentRestrictions:!!i.is_pay_restricted||!1},B.env.itemizedChargesEnabled&&(n.itemizedCharges={room:!0,breakfast:i.pay_restrictions.breakfast,taxes:i.pay_restrictions.taxes,parking:i.pay_restrictions.parking,internet:i.pay_restrictions.internet,all:i.pay_restrictions.allow_all,other:i.pay_restrictions.other,otherText:i.pay_restrictions.other_text},n.itemizedChargesOld={room:!0,breakfast:i.pay_restrictions.breakfast,taxes:i.pay_restrictions.taxes,parking:i.pay_restrictions.parking,internet:i.pay_restrictions.internet,all:i.pay_restrictions.allow_all,other:i.pay_restrictions.other,otherText:i.pay_restrictions.other_text}),a.push(n);return _r_(a)}(),itemizedChargesEnabled:B.env.itemizedChargesEnabled,isSelfServiceEnabled:B.env.isSelfServiceEnabled,isLoading:!1,isAddCardOpen:!1,hasAjaxNumberError:!1,hasAjaxGeneralError:!1,card:{name:"",expiry:"",number:"",isLoading:!1,loadingStatus:"none",isCompanyShared:!0,hasInvalidName:!1,isNameDirty:!1,hasInvalidNumber:!1,isNumberDirty:!1,hasInvalidExpiry:!1,isExpiryDirty:!1,isInvalid:!0,hasInvalidSharedWithEmail:!1,sharedWithEmail:"",sharedWith:[],hasPaymentRestrictions:!1,itemizedCharges:{room:!0,breakfast:!1,taxes:!1,parking:!1,internet:!1,all:!1,other:!1,otherText:""}}};i.exports=new n(function(e,t){switch(_i_("3bb:cae785cf"),t.type){case"CHANGE_LOADING":return _r_(Object.assign({},e,{isLoading:t.payload.isLoading}));case"CHANGE_ADD_CARD_OPEN":return _r_(Object.assign({},e,{isAddCardOpen:t.payload.isAddCardOpen}));case"AJAX_NUMBER_ERROR":return _r_(Object.assign({},e,{hasAjaxNumberError:t.payload.hasAjaxNumberError}));case"AJAX_GENERAL_ERROR":return _r_(Object.assign({},e,{hasAjaxGeneralError:t.payload.hasAjaxGeneralError}));case"UPDATE_CARD":return _r_(Object.assign({},e,{card:t.payload.card}));case"EDIT_CLICK":case"CANCEL_CLICK":case"SHARED_WITH_CLICK":case"NAME_CHANGE":case"REMOVE_SHARED_CLICK":case"SHARED_WITH_EMAIL_CHANGE":case"SHARED_EMAIL_ADD":case"BEFORE_SEND_CARD":case"AFTER_SEND_CARD_SUCCESS":case"AFTER_SEND_CARD_ERROR":case"AFTER_SEND_CARD":case"ITEMIZED_CHARGES_CLICK":return _r_(Object.assign({},e,{cards:t.payload.cards}));default:return _r_(e)}_r_()},a),_r_()}),booking.jstmpl("company_settings_company_cards_permissions",function(){_i_("3bb:5b986e19");var b,p=["\n    ",'\n<div id="company-settings-company-cards-permissions"\n    data-component="business/payments/company-cards/company-cards-permissions/company-settings-company-cards-permissions"\n    class="w-section company-section--permissions w-box">\n\n    <div class="w-section-head">\n        <div class="w-section-head__title">\n            ',"/private/bbt_settings_card_permissions_header/name",'\n        </div>\n        <div class="w-section-head__subtitle">\n            ',"/private/bbt_settings_card_permissions_subheader/name",'\n        </div>\n    </div>\n\n    <div class="w-section-content w-section-content--paddingless">\n        ',"\n            ",'\n                <div class="row-fluid w-table__row airplus-card-box-wrapper">\n                    <button class="bui-button bui-button--primary airplus-add-card-btn" type="button" on:click="onAddCardOpenClick">\n                        <span class="bui-button__text">\n                            ',"/private/account_settings_add_card/name","\n                        </span>\n                    </button>\n                </div>\n            ",'\n                <div class="row-fluid w-table__row airplus-card-box-wrapper">\n                    ','\n                        <div class="bui-alert bui-alert--error bui-u-bleed@small airplus-credit-card-alert" role="status">\n                            <span class="icon--hint bui-alert__icon" role="presentation">\n                                ',"vertical-align-initial","iconset/warning","presentation","24",'\n                            </span>\n                            <div class="bui-alert__description">\n                                <p class="bui-alert__text">\n                                    ',"/private/bbp_airplus_card_error/name","</strong>","<strong class='bui-f-font-strong'>","\n                                </p>\n                            </div>\n                        </div>\n                    ","\n                    ",'\n                            </span>\n                            <div class="bui-alert__description">\n                                <p class="bui-alert__text">\n                                    <strong class="bui-f-font-strong">\n                                        ',"/private/bbt_settings_permissions_error/name","\n                                    </strong>\n                                </p>\n                            </div>\n                        </div>\n                    ",'\n                    <div class="company-form-container">\n                        <div class="row-fluid w-form-group">\n                            <div class="span12">\n                                <div class="w-form-field">\n                                    <label class="w-form-label w-form-label--thin w-form-label--required">\n                                        ',"/private/bbt_settings_card_permissions_name/name",'\n                                        <span class="w-form-label__sup">\n                                            \n                                        </span>\n                                    </label>\n                                    <input type="text"\n                                        class="airplus-card-name bootstrapped-input input-text input-block-level js-card-name ',"has-error",'"\n                                        ','disabled="disabled"','\n                                        maxlength="255"\n                                        placeholder="',"/private/bbt_settings_card_permissions_name_placeholder/name",'"\n                                        autocomplete="off"\n                                        on:keyup="onAddCardNameChange"\n                                        value="','">\n                                </div>\n                            </div>\n                        </div>\n                        <div class="row-fluid w-form-group">\n                            <div class="span6">\n                                <div class="w-form-field">\n                                    <label class="w-form-label w-form-label--thin w-form-label--required">\n                                        ',"/private/bbp_airplus_setup_step_2_card/name",'\n                                        <span class="w-form-label__sup">\n                                            \n                                        </span>\n                                    </label>\n                                    <input type="text"\n                                        class="airplus-card-name bootstrapped-input input-text input-block-level js-card-name airplus-card-name-100 ',"/private/bbp_airplus_setup_step_2_card_placeholder/name",'"\n                                        autocomplete="off"\n                                        on:keyup="onAddCardNumberChange"\n                                        value="','">\n                                </div>\n                            </div>\n                            <div class="span6">\n                                <div class="w-form-field">\n                                    <label class="w-form-label w-form-label--thin w-form-label--required">\n                                        ',"/private/bbp_airplus_setup_step_2_expires/name",'\n                                        <span class="w-form-label__sup">\n                                            \n                                        </span>\n                                    </label>\n                                    <input type="text"\n                                        class="airplus-card-name airplus-expiry bootstrapped-input input-text input-block-level js-card-name ',"/private/bbp_airplus_setup_step_2_date_placeholder/name",'"\n                                        autocomplete="off"\n                                        on:keyup="onAddCardExpiryChange"\n                                        value="','">\n                                </div>\n                            </div>\n                        </div>\n                        ','\n                            <div class="row-fluid w-form-group">\n                                <div class="span12">\n                                    <div class="w-form-field">\n                                        <label class="w-form-label w-form-label--thin w-form-label--required">\n                                            ',"/private/bb_payments_create_card_charges_intro/name",'\n                                            <span class="w-form-label__sup">\n                                                \n                                            </span>\n                                        </label>\n                                    </div>\n                                    <div class="row-fluid">\n                                        <div class="span6">\n                                            <label class="bui-checkbox">\n                                                <input class="bui-checkbox__input" type="checkbox" checked="checked" disabled/>\n                                                <span class="bui-checkbox__label">\n                                                    ',"/private/bb_payments_create_card_charges_room/name",'\n                                                </span>\n                                            </label>\n                                        </div>\n                                        <div class="span6">\n                                            <label class="bui-checkbox">\n                                                <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                    data-key="breakfast"\n                                                    on:click="onAddCardItemizedChargesCheckboxClick"\n                                                    ',"\n                                                    ",'\n                                                        checked="checked"\n                                                    ','\n                                                    type="checkbox" />\n                                                <span class="bui-checkbox__label">\n                                                    ',"/private/bb_payments_create_card_charges_bfast/name",'\n                                                </span>\n                                            </label>\n                                        </div>\n                                    </div>\n                                    <div class="row-fluid">\n                                        <div class="span6">\n                                            <label class="bui-checkbox">\n                                                <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                    data-key="taxes"\n                                                    on:click="onAddCardItemizedChargesCheckboxClick"\n                                                    ',"/private/bb_payments_create_card_charges_taxes/name",'\n                                                </span>\n                                            </label>\n                                        </div>\n                                        <div class="span6">\n                                            <label class="bui-checkbox">\n                                                <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                    data-key="parking"\n                                                    on:click="onAddCardItemizedChargesCheckboxClick"\n                                                    ',"/private/bb_payments_create_card_charges_park/name",'\n                                                </span>\n                                            </label>\n                                        </div>\n                                    </div>\n                                    <div class="row-fluid">\n                                        <div class="span6">\n                                            <label class="bui-checkbox">\n                                                <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                    data-key="internet"\n                                                    on:click="onAddCardItemizedChargesCheckboxClick"\n                                                    ',"/private/bb_payments_create_card_charges_internet/name",'\n                                                </span>\n                                            </label>\n                                        </div>\n                                        <div class="span6">\n                                            <label class="bui-checkbox">\n                                                <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                    data-key="all"\n                                                    on:click="onAddCardItemizedChargesCheckboxClick"\n                                                    ',"/private/bb_payments_create_card_charges_all/name","\n                                                </span>\n                                            </label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        ",'\n                        <div class="row-fluid w-form-group">\n                            <div class="span12">\n                                <label class="w-form-label w-form-label--thin w-form-label--required">\n                                    ',"/private/bbt_settings_card_permissions_share/name",'\n                                    <span class="w-form-label__sup">\n                                        \n                                    </span>\n                                </label>\n                                <label class="airplus-shared-inline">\n                                    <input type="radio"\n                                        name="shared-with"\n                                        value="all"\n                                        class="w-spacer-right"\n                                        on:click="onAddCardSharedWithClick"\n                                        data-index="',"\n                                        ",'checked="checked"',">\n                                    ","/private/bbt_settings_card_permissions_share_company/name",'\n                                </label>\n                                <label class="w-spacer-left airplus-shared-inline">\n                                    <input type="radio"\n                                        name="shared-with"\n                                        value="emails"\n                                        class="w-spacer-right"\n                                        on:click="onAddCardSharedWithClick"\n                                        data-index="',"/private/bbt_settings_card_permissions_share_selected/name","\n                                </label>\n                            </div>\n                        </div>\n                        ",'\n                            <div class="row-fluid">\n                                <div class="span6">\n                                    <input type="text"\n                                        class="js-shared-with-email bootstrapped-input input-text input-block-level ','"\n                                        maxlength="255"\n                                        placeholder="',"/private/bbt_settings_card_permissions_email_placeholder/name",'"\n                                        autocomplete="off"\n                                        on:keyup="onAddCardSharedWithEmailChange"\n                                        ','\n                                        value="','">\n                                </div>\n                                <div class="span4">\n                                    <a href="javascript:void(0)"\n                                        on:click="onAddCardAddSharedEmailClick"\n                                        class="js-add-shared-email ',"disabled",'">\n                                        ',"/private/bbt_settings_card_permissions_add_cta/name","\n                                    </a>\n                                </div>\n                            </div>\n                            ",'\n                                <div class="row-fluid w-form-group">\n                                    <div class="span6" data-index="','\n                                            <div class="w-spacer-right" data-email-index="','">\n                                                ',"airplus-remove-shared","iconset/trash","onAddCardRemoveSharedClick","small","\n                                                ","\n                                            </div>\n                                        ","\n                                    </div>\n                                </div>\n                            ","\n                        ","\n                    </div>\n                    ",'\n                        <button class="bui-button bui-button--primary bui-is-loading airplus-add-card-btn" type="button" disabled="disabled">\n                            <span class="bui-button__loader">\n                                <div class="bui-spinner bui-spinner--light bui-spinner--size-small">\n                                    <div class="bui-spinner__inner"></div>\n                                </div>\n                            </span>\n                            <span class="bui-button__text">\n                                ',"\n                            </span>\n                        </button>\n                    ",'\n                        <button class="bui-button bui-button--primary airplus-add-card-btn"\n                            type="button"\n                            ','\n                            on:click="onAddCardClick">\n                            <span class="bui-button__text">\n                                ','\n                    <span class="w-link js-airplus-cancel-btn" on:click="onAddCardCancelClick">\n                        ',"/private/bbt_settings_card_permissions_cancel/name","\n                    </span>\n                </div>\n            ","\n        ",'\n            <div class="row-fluid w-table__row airplus-card-box-wrapper">\n                ','\n                    <div class="row-fluid w-table__row company-airplus-fields airplus-card-box">\n                        ','\n                            <span class="airplus-card-box-success">\n                                <i class="bicon-checkmark-circle"></i>\n                                ',"/private/bbt_settings_permissions_success/name","\n                            </span>\n                        ",'\n                            <span class="airplus-card-box-error">\n                                <i class="bicon-close"></i>\n                                ','\n                            <span class="airplus-card-box-pending">\n                                <div class="w-form-loading">\n                                    <span class="w-form-loading-content__inline">\n                                        ',"/private/bbt_settings_permissions_saving/name","\n                                    </span>\n                                </div>\n                            </span>\n                        ","\n                    </div>\n                ",'\n                    <div class="row-fluid airplus-card-box">\n                        <div class="row-fluid  w-table__row airplus-card-box-header">\n                            <div class="span1 w-table__cell w-text-bold ellipsis" data-index="','">\n                                ','\n                                    <span role="presentation" class="bui-accordion__icon-container airplus-show-hide-card" on:click="onCancelClick" data-index="',"bui-accordion__icon","iconset/navarrow_up","\n                                    </span>\n                                ",'\n                                    <span role="presentation" class="bui-accordion__icon-container airplus-show-hide-card" on:click="onEditClick" data-index="',"iconset/navarrow_down",'\n                            </div>\n                            <div class="span5 w-table__cell w-text-bold ellipsis">\n                                ',"\n                                    ","\n                                ",'\n                            </div>\n                            <div class="span1 w-table__cell ellipsis">\n                                ','\n                            </div>\n                            <div class="span5 w-table__cell ellipsis">\n                                <p class="airplus-card-box-shared-with ellipsis">\n                                    ',"/private/bbt_settings_card_permissions_shared_with/name","/private/bbt_settings_card_permissions_shared_whole/name","\n                                            ",",\n                                            ","\n                                </p>\n                            </div>\n                        </div>\n                        \n                        \n                        \n                        ",'\n                            <div class="company-form-container">\n                                <div class="row-fluid w-form-group">\n                                    <div class="span12">\n                                        <div class="w-form-field">\n                                            <label class="w-form-label w-form-label--thin w-form-label--required">\n                                                ','\n                                                <span class="w-form-label__sup">\n                                                    \n                                                </span>\n                                            </label>\n                                            <input type="text"\n                                                class="airplus-card-name bootstrapped-input input-text input-block-level js-card-name ','"\n                                                on:keyup="onNameChange"\n                                                maxlength="255"\n                                                placeholder="','"\n                                                autocomplete="off"\n                                                data-index="','"\n                                                value="','">\n                                        </div>\n                                    </div>\n                                </div>\n                                ','\n                                    <div class="row-fluid w-form-group">\n                                        <div class="span12">\n                                            <div class="w-form-field">\n                                                <label class="w-form-label w-form-label--thin w-form-label--required">\n                                                    ','\n                                                    <span class="w-form-label__sup">\n                                                        \n                                                    </span>\n                                                </label>\n                                            </div>\n                                            <div class="row-fluid">\n                                                <div class="span6">\n                                                    <label class="bui-checkbox">\n                                                        <input class="bui-checkbox__input" type="checkbox" checked="checked" disabled/>\n                                                        <span class="bui-checkbox__label">\n                                                            ','\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                                <div class="span6">\n                                                    <label class="bui-checkbox">\n                                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                            data-key="breakfast"\n                                                            on:click="onItemizedChargesCheckboxClick"\n                                                            data-index="','"\n                                                            ','\n                                                                checked="checked"\n                                                            ','\n                                                            type="checkbox" />\n                                                        <span class="bui-checkbox__label">\n                                                            ','\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                            </div>\n                                            <div class="row-fluid">\n                                                <div class="span6">\n                                                    <label class="bui-checkbox">\n                                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                            data-key="taxes"\n                                                            on:click="onItemizedChargesCheckboxClick"\n                                                            data-index="','\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                                <div class="span6">\n                                                    <label class="bui-checkbox">\n                                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                            data-key="parking"\n                                                            on:click="onItemizedChargesCheckboxClick"\n                                                            data-index="','\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                            </div>\n                                            <div class="row-fluid">\n                                                <div class="span6">\n                                                    <label class="bui-checkbox">\n                                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                            data-key="internet"\n                                                            on:click="onItemizedChargesCheckboxClick"\n                                                            data-index="','\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                                <div class="span6">\n                                                    <label class="bui-checkbox">\n                                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                                            data-key="all"\n                                                            on:click="onItemizedChargesCheckboxClick"\n                                                            data-index="',"\n                                                        </span>\n                                                    </label>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ",'\n                                <div class="row-fluid w-form-group">\n                                    <div class="span12">\n                                        <label class="w-form-label w-form-label--thin w-form-label--required">\n                                            ','\n                                            <span class="w-form-label__sup">\n                                                \n                                            </span>\n                                        </label>\n                                        <label class="airplus-shared-inline">\n                                            <input type="radio"\n                                                name="shared-with-','"\n                                                on:click="onSharedWithClick"\n                                                value="all"\n                                                class="w-spacer-right"\n                                                data-index="','"\n                                                ',">\n                                            ",'\n                                        </label>\n                                        <label class="w-spacer-left airplus-shared-inline">\n                                            <input type="radio"\n                                                name="shared-with-','"\n                                                on:click="onSharedWithClick"\n                                                value="emails"\n                                                class="w-spacer-right"\n                                                data-index="',"\n                                        </label>\n                                    </div>\n                                </div>\n                                ",'\n                                    <div class="row-fluid">\n                                        <div class="span6">\n                                            <input type="text"\n                                                class="js-shared-with-email bootstrapped-input input-text input-block-level ','"\n                                                maxlength="255"\n                                                placeholder="','"\n                                                on:keyup="onSharedWithEmailChange"\n                                                value="','">\n                                        </div>\n                                        <div class="span4">\n                                            <a href="javascript:void(0)"\n                                                data-index="','"\n                                                on:click="onAddSharedEmailClick"\n                                                class="js-add-shared-email ',"\n                                            </a>\n                                        </div>\n                                    </div>\n                                    ",'\n                                        <div class="row-fluid w-form-group">\n                                            <div class="span6" data-index="','\n                                                    <div class="w-spacer-right" data-email-index="','">\n                                                        ',"onRemoveSharedClick","\n                                                        ","\n                                                    </div>\n                                                ","\n                                            </div>\n                                        </div>\n                                    ",'\n                                <div class="row-fluid">\n                                    <div class="span7">\n                                        <button class="bui-button bui-button--primary m-r-15" type="button" ',' on:click="onSaveClick" data-index="','">\n                                            <span class="bui-button__text" on:click="onSaveClick" data-index="',"/private/bbt_settings_card_permissions_save_cta/name",'\n                                            </span>\n                                        </button>\n                                        <span class="w-link js-airplus-cancel-btn" on:click="onCancelClick" data-index="','">\n                                            ',"\n                                        </span>\n                                    </div>\n                                    ",'\n                                        <div class="span5">\n                                            <button class="bui-button bui-button--destructive airplus-remove-card-btn"\n                                                type="button"\n                                                on:click="onRemoveCardClick"\n                                                data-index="','">\n                                                    <span class="bui-button__text" data-index="',"/private/settings_personal_details_email_remove/name","\n                                                    </span>\n                                            </button>\n                                        </div>\n                                    ","\n                                </div>\n                            </div>\n                        ","\n            </div>\n        ","\n    </div>\n</div>\n","\n"],u=["isAddCardOpen","hasAjaxNumberError","hasAjaxGeneralError","card","isLoading","itemizedChargesEnabled","isSelfServiceEnabled","cards"];return _r_(function(c){_i_("3bb:598765a8");var e="",d=this.fn;return e=function(e){if(_i_("3bb:5046cf8e"),e+=["",p[1],d.ME(p[2],d.MB,d.MN,null),p[3],d.ME(p[4],d.MB,d.MN,null),p[5]].join(""),d.MJ(d.MB(u[6]))){if(e+=p[6],d.MK(d.MB(u[0])))e+=[p[7],d.ME(p[8],d.MB,d.MN,null),p[9]].join("");else{if(e+=p[10],d.MJ(d.MB(u[1]))&&(e+=[p[11],(c.unshift({class:p[12],name:p[13],role:p[14],width:p[15]}),b=d.HELPER("icon",c[0]),c.shift(),b),p[16],(c.unshift({end_bold:p[18],start_bold:p[19]}),b=d.ME(p[17],d.MB,d.MN,null),c.shift(),b),p[20]].join("")),e+=p[21],d.MJ(d.MB(u[2]))&&(e+=[p[11],(c.unshift({class:p[12],name:p[13],role:p[14],width:p[15]}),b=d.HELPER("icon",c[0]),c.shift(),b),p[22],d.ME(p[23],d.MB,d.MN,null),p[24]].join("")),e+=[p[25],d.ME(p[26],d.MB,d.MN,null),p[27]].join(""),d.MJ(d.MC(u[3]).hasInvalidName)&&(e+=p[28]),e+=p[29],d.MD(u[4])&&(e+=p[30]),e+=[p[31],d.ME(p[32],d.MB,d.MN,null),p[33],d.F.entities((d.MC(u[3])||{}).name),p[34],d.ME(p[35],d.MB,d.MN,null),p[36]].join(""),d.MJ(d.MC(u[3]).hasInvalidNumber)&&(e+=p[28]),e+=p[29],d.MD(u[4])&&(e+=p[30]),e+=[p[31],d.ME(p[37],d.MB,d.MN,null),p[38],d.F.entities((d.MC(u[3])||{}).number),p[39],d.ME(p[40],d.MB,d.MN,null),p[41]].join(""),d.MJ(d.MC(u[3]).hasInvalidExpiry)&&(e+=p[28]),e+=p[29],d.MD(u[4])&&(e+=p[30]),e+=[p[31],d.ME(p[42],d.MB,d.MN,null),p[43],d.F.entities((d.MC(u[3])||{}).expiry),p[44]].join(""),d.MD(u[5])&&(e+=[p[45],d.ME(p[46],d.MB,d.MN,null),p[47],d.ME(p[48],d.MB,d.MN,null),p[49]].join(""),d.MD(u[4])&&(e+=p[30]),e+=p[50],d.MJ(d.MG(((d.MC(u[3])||{}).itemizedCharges||{}).breakfast))&&(e+=p[51]),e+=[p[52],d.ME(p[53],d.MB,d.MN,null),p[54]].join(""),d.MD(u[4])&&(e+=p[30]),e+=p[50],d.MJ(d.MG(((d.MC(u[3])||{}).itemizedCharges||{}).taxes))&&(e+=p[51]),e+=[p[52],d.ME(p[55],d.MB,d.MN,null),p[56]].join(""),d.MD(u[4])&&(e+=p[30]),e+=p[50],d.MJ(d.MG(((d.MC(u[3])||{}).itemizedCharges||{}).parking))&&(e+=p[51]),e+=[p[52],d.ME(p[57],d.MB,d.MN,null),p[58]].join(""),d.MD(u[4])&&(e+=p[30]),e+=p[50],d.MJ(d.MG(((d.MC(u[3])||{}).itemizedCharges||{}).internet))&&(e+=p[51]),e+=[p[52],d.ME(p[59],d.MB,d.MN,null),p[60]].join(""),d.MD(u[4])&&(e+=p[30]),e+=p[50],d.MJ(d.MG(((d.MC(u[3])||{}).itemizedCharges||{}).all))&&(e+=p[51]),e+=[p[52],d.ME(p[61],d.MB,d.MN,null),p[62]].join("")),e+=[p[63],d.ME(p[64],d.MB,d.MN,null),p[65],d.F.entities(i),p[29]].join(""),d.MD(u[4])&&(e+=p[30]),e+=p[66],d.MJ(d.MC(u[3]).isCompanyShared)&&(e+=p[67]),e+=[p[68],d.ME(p[69],d.MB,d.MN,null),p[70],d.F.entities(i),p[29]].join(""),d.MD(u[4])&&(e+=p[30]),e+=p[66],d.MK(d.MC(u[3]).isCompanyShared)&&(e+=p[67]),e+=[p[68],d.ME(p[71],d.MB,d.MN,null),p[72]].join(""),d.MK(d.MC(u[3]).isCompanyShared)){if(e+=p[73],d.MJ(d.MC(u[3]).hasInvalidSharedWithEmail)&&(e+=p[28]),e+=[p[74],d.ME(p[75],d.MB,d.MN,null),p[76]].join(""),d.MD(u[4])&&(e+=p[30]),e+=[p[77],d.F.entities((d.MC(u[3])||{}).sharedWithEmail),p[78]].join(""),d.MJ(d.MC(u[3]).hasInvalidSharedWithEmail)&&(e+=p[79]),e+=[p[80],d.ME(p[81],d.MB,d.MN,null),p[82]].join(""),d.MJ(d.array_length(d.MC(u[3]).sharedWith))){e+=[p[83],d.F.entities(i),p[80]].join("");var t=(d.MC(u[3])||{}).sharedWith||[];c.unshift({email:null});for(var i=1,n=t.length;i<=n;i++)c[0].email=l=t[i-1],e+=[p[84],d.F.entities(i),p[85],(c.unshift({class:p[86],color:"#FCB4B4",name:p[87],"on:click":p[88],size:p[89]}),b=d.HELPER("icon",c[0]),c.shift(),b),p[90],d.F.entities(l),p[91]].join("");c.shift(),e+=p[92]}e+=p[93]}e+=p[94],d.MJ(d.MB(u[4]))?e+=[p[95],d.ME(p[8],d.MB,d.MN,null),p[96]].join(""):(e+=p[97],d.MJ(d.MC(u[3]).isInvalid)&&(e+=p[30]),e+=[p[98],d.ME(p[8],d.MB,d.MN,null),p[96]].join("")),e+=[p[99],d.ME(p[100],d.MB,d.MN,null),p[101]].join("")}e+=p[102]}var a;for(e+=p[102],t=d.MC(u[7])||[],c.unshift({card:null}),i=1,n=t.length;i<=n;i++){if(c[0].card=a=t[i-1],e+=p[103],d.MJ(a.isLoading))e+=p[104],d.MJ(a.loadingStatus+""=="success")&&(e+=[p[105],d.ME(p[106],d.MB,d.MN,null),p[107]].join("")),e+=p[93],d.MJ(a.loadingStatus+""=="error")&&(e+=[p[108],d.ME(p[23],d.MB,d.MN,null),p[107]].join("")),e+=p[93],d.MJ(a.loadingStatus+""=="pending")&&(e+=[p[109],d.ME(p[110],d.MB,d.MN,null),p[111]].join("")),e+=p[112];else{if(e+=[p[113],d.F.entities(i),p[114]].join(""),d.MJ(d.MG((a||{}).isOpen))?e+=[p[115],d.F.entities(i),p[80],(c.unshift({class:p[116],"data-index":i,name:p[117],role:p[14],width:p[15]}),b=d.HELPER("icon",c[0]),c.shift(),b),p[118]].join(""):e+=[p[119],d.F.entities(i),p[80],(c.unshift({class:p[116],"data-index":i,name:p[120],role:p[14],width:p[15]}),b=d.HELPER("icon",c[0]),c.shift(),b),p[118]].join(""),e+=p[121],d.MJ(a.hasInvalidName)?e+=[p[122],d.ME(p[32],d.MB,d.MN,null),p[123]].join(""):e+=[p[122],d.F.entities((a||{}).name),p[123]].join(""),e+=[p[124],d.F.entities((a||{}).expiry),p[125],d.ME(p[126],d.MB,d.MN,null),p[122]].join(""),d.MJ(d.MG((a||{}).isCompanyShared)))e+=[p[66],d.ME(p[127],d.MB,d.MN,null),p[122]].join("");else{e+=p[66];var r=i,_=t,s=n,o=l;for(t=(a||{}).sharedWith||[],c.unshift({email:null}),i=1,n=t.length;i<=n;i++)c[0].email=l=t[i-1],e+=p[128],d.MK(d.MJ(i==t.length))?e+=[p[90],d.F.entities(l),p[129]].join(""):e+=[p[90],d.F.entities(l),p[128]].join(""),e+=p[66];c.shift(),i=r,t=_,n=s,l=o,e+=p[122]}if(e+=p[130],d.MJ(d.MG((a||{}).isOpen))){if(e+=[p[131],d.ME(p[26],d.MB,d.MN,null),p[132]].join(""),d.MJ(a.hasInvalidName)&&(e+=p[28]),e+=[p[133],d.ME(p[32],d.MB,d.MN,null),p[134],d.F.entities(i),p[135],d.F.entities((a||{}).name),p[136]].join(""),d.MD(u[5])&&(e+=[p[137],d.ME(p[46],d.MB,d.MN,null),p[138],d.ME(p[48],d.MB,d.MN,null),p[139],d.F.entities(i),p[140]].join(""),d.MJ(d.MG(((a||{}).itemizedCharges||{}).breakfast))&&(e+=p[141]),e+=[p[142],d.ME(p[53],d.MB,d.MN,null),p[143],d.F.entities(i),p[140]].join(""),d.MJ(d.MG(((a||{}).itemizedCharges||{}).taxes))&&(e+=p[141]),e+=[p[142],d.ME(p[55],d.MB,d.MN,null),p[144],d.F.entities(i),p[140]].join(""),d.MJ(d.MG(((a||{}).itemizedCharges||{}).parking))&&(e+=p[141]),e+=[p[142],d.ME(p[57],d.MB,d.MN,null),p[145],d.F.entities(i),p[140]].join(""),d.MJ(d.MG(((a||{}).itemizedCharges||{}).internet))&&(e+=p[141]),e+=[p[142],d.ME(p[59],d.MB,d.MN,null),p[146],d.F.entities(i),p[140]].join(""),d.MJ(d.MG(((a||{}).itemizedCharges||{}).all))&&(e+=p[141]),e+=[p[142],d.ME(p[61],d.MB,d.MN,null),p[147]].join("")),e+=[p[148],d.ME(p[64],d.MB,d.MN,null),p[149],d.F.entities(i),p[150],d.F.entities(i),p[151]].join(""),d.MJ(a.isCompanyShared)&&(e+=p[67]),e+=[p[152],d.ME(p[69],d.MB,d.MN,null),p[153],d.F.entities(i),p[154],d.F.entities(i),p[151]].join(""),d.MK(a.isCompanyShared)&&(e+=p[67]),e+=[p[152],d.ME(p[71],d.MB,d.MN,null),p[155]].join(""),d.MK(a.isCompanyShared)){if(e+=p[156],d.MJ(a.hasInvalidSharedWithEmail)&&(e+=p[28]),e+=[p[157],d.ME(p[75],d.MB,d.MN,null),p[134],d.F.entities(i),p[158],d.F.entities((a||{}).sharedWithEmail),p[159],d.F.entities(i),p[160]].join(""),d.MJ(a.hasInvalidSharedWithEmail)&&(e+=p[79]),e+=[p[85],d.ME(p[81],d.MB,d.MN,null),p[161]].join(""),d.MJ(d.array_length(a.sharedWith))){var l;for(e+=[p[162],d.F.entities(i),p[85]].join(""),r=i,_=t,s=n,o=l,t=(a||{}).sharedWith||[],c.unshift({email:null}),i=1,n=t.length;i<=n;i++)c[0].email=l=t[i-1],e+=[p[163],d.F.entities(i),p[164],(c.unshift({class:p[86],color:"#FCB4B4",name:p[87],"on:click":p[165],size:p[89]}),b=d.HELPER("icon",c[0]),c.shift(),b),p[166],d.F.entities(l),p[167]].join("");c.shift(),i=r,t=_,n=s,l=o,e+=p[168]}e+=p[123]}e+=p[169],(d.MJ(a.hasInvalidName)||d.MJ(a.isInvalid))&&(e+=p[79]),e+=[p[170],d.F.entities(i),p[171],d.F.entities(i),p[85],d.ME(p[172],d.MB,d.MN,null),p[173],d.F.entities(i),p[174],d.ME(p[100],d.MB,d.MN,null),p[175]].join(""),d.MJ(d.MB(u[6]))&&(e+=[p[176],d.F.entities(i),p[177],d.F.entities(i),p[164],d.ME(p[178],d.MB,d.MN,null),p[179]].join("")),e+=p[180]}e+=p[112]}e+=p[181]}return c.shift(),e+=[p[182],"",p[183]].join(""),_r_(e)}(e+=p[0]),e+=p[183],_r_(e)})}()),B.define("component/business/payments/company-cards/company-cards-permissions/company-settings-company-cards-permissions",function(e,t,i){_i_("3bb:53df72a4");var a=e("component/business/payments/company-cards/company-cards-permissions/store");i.exports=e("component/reactive").extend({template:"company_settings_company_cards_permissions",initialize:function(){_i_("3bb:1676e289"),a.subscribe(this.render.bind(this)),this.render(),_r_()},getState:function(){return _i_("3bb:28b84018"),_r_(a.getState())},onSaveClick:function(e){_i_("3bb:4a5744b5"),e.preventDefault();var t=+e.target.dataset.index-1,i=this.getState().cards;if(i[t].hasInvalidName||i[t].isInvalid)return _r_();this.sendCardDetails(t,i),_r_()},onRemoveCardClick:function(e){_i_("3bb:dd47f02a"),e.preventDefault();var t=+e.target.dataset.index-1,i=this.getState().cards;$.ajax({type:"POST",url:"bbtool_company_delete_airplus_card",traditional:!0,data:{bhc_csrf_token:B.env.b_csrf_token,id:i[t].id},beforeSend:function(){_i_("3bb:6e144c16"),i[t].isOpen=!1,i[t].isLoading=!0,i[t].loadingStatus="pending",a.dispatch({type:"BEFORE_SEND_CARD",payload:{cards:i}}),_r_()},success:function(e){_i_("3bb:6c99e0a2"),"ok"===e.status?(i.splice(t,1),a.dispatch({type:"AFTER_SEND_CARD_SUCCESS",payload:{cards:i}})):(i[t].isOpen=!0,i[t].isLoading=!0,i[t].loadingStatus="error",a.dispatch({type:"AFTER_SEND_CARD_ERROR",payload:{cards:i}})),_r_()},error:function(){_i_("3bb:69d6771b"),i[t].isOpen=!0,i[t].isLoading=!0,i[t].loadingStatus="error",a.dispatch({type:"AFTER_SEND_CARD_ERROR",payload:{cards:i}}),_r_()},complete:function(){_i_("3bb:e4da385c"),i[t]&&(i[t].isLoading=!1,i[t].loadingStatus="none"),setTimeout(function(){_i_("3bb:ce2e1697"),a.dispatch({type:"AFTER_SEND_CARD",payload:{cards:i}}),_r_()},500),_r_()}}),_r_()},onAddCardOpenClick:function(){_i_("3bb:6b3fdfd8"),a.dispatch({type:"CHANGE_ADD_CARD_OPEN",payload:{isAddCardOpen:!0}}),_r_()},onAddCardCancelClick:function(){_i_("3bb:c97d5087"),a.dispatch({type:"CHANGE_ADD_CARD_OPEN",payload:{isAddCardOpen:!1}}),_r_()},onAddCardClick:function(e){_i_("3bb:85a1185f");var t=this.getState();a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!0}}),$.ajax({type:"POST",url:"bbtool_company_new_airplus_card",traditional:!0,data:{bhc_csrf_token:B.env.b_csrf_token,name:t.card.name,number:t.card.number,expiryMonth:t.card.expiry.split("/")[0],expiryYear:t.card.expiry.split("/")[1],isCompanyShared:t.card.isCompanyShared,sharedWithEmail:t.card.sharedWith,perm_room:!0,perm_breakfast:t.card.itemizedCharges.breakfast,perm_taxes:t.card.itemizedCharges.taxes,perm_parking:t.card.itemizedCharges.parking,perm_internet:t.card.itemizedCharges.internet,perm_allow_all:t.card.itemizedCharges.all,isPayRestricted:!0,perm_other:!1},success:function(e){_i_("3bb:f1f5392a"),"ok"===e.status?(window.location.reload(),a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!1}})):"ok"!==e.status&&-1!==e.error.indexOf("companyaccount invalid")?(a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!1}}),a.dispatch({type:"AJAX_NUMBER_ERROR",payload:{hasAjaxNumberError:!0}}),setTimeout(function(){_i_("3bb:bd8d976a"),a.dispatch({type:"AJAX_NUMBER_ERROR",payload:{hasAjaxNumberError:!1}}),_r_()},1e4)):(a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!1}}),a.dispatch({type:"AJAX_GENERAL_ERROR",payload:{hasAjaxGeneralError:!0}}),setTimeout(function(){_i_("3bb:ff3c5683"),a.dispatch({type:"AJAX_GENERAL_ERROR",payload:{hasAjaxGeneralError:!1}}),_r_()},1e4)),_r_()}}),_r_()},onAddCardSharedWithClick:function(e){_i_("3bb:00b0cc77");var t=e.target.value,i=this.getState().card;i.isCompanyShared="all"===t,i.isCompanyShared||i.sharedWith.length?i.isInvalid=!1:i.isInvalid=!0,a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onAddCardNameChange:function(e){_i_("3bb:4bf75405");var t=e.target.value,i=this.getState().card;i.name=t,i.hasInvalidName=!t,i.isNameDirty=!0,this.isCardValid(i),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onAddCardNumberChange:function(e){_i_("3bb:9f152333");var t=e.target.value,i=this.getState().card;i.number=t,i.isNumberDirty=!0,t&&15===t.length?i.hasInvalidNumber=!1:i.hasInvalidNumber=!0,this.isCardValid(i),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onAddCardExpiryChange:function(e){_i_("3bb:75a0310d");var t=e.target.value,i=this.getState().card;i.expiry=t,i.isExpiryDirty=!0,t&&-1!==t.indexOf("/")&&5===t.length?i.hasInvalidExpiry=!1:i.hasInvalidExpiry=!0,this.isCardValid(i),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},isCardValid:function(e){var t;_i_("3bb:b59586d1"),t=!(e.hasInvalidExpiry||e.hasInvalidNumber||e.hasInvalidName)&&!!(e.isNameDirty&&e.isNumberDirty&&e.isExpiryDirty),e.isInvalid=!t,a.dispatch({type:"UPDATE_CARD",payload:{card:e}}),_r_()},onAddCardRemoveSharedClick:function(e){_i_("3bb:eee17bc4");var t=+$(e.target).parents("[data-email-index]").data().emailIndex-1,i=this.getState().card;i.sharedWith.splice(t,1),i.isCompanyShared||i.sharedWith.length?i.isInvalid=!1:i.isInvalid=!0,a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onAddCardAddSharedEmailClick:function(){_i_("3bb:d948d928");var e=this.getState().card,t=e.sharedWithEmail.toLowerCase().trim();if(e.hasInvalidSharedWithEmail)return _r_();t&&-1===e.sharedWith.indexOf(t)&&e.sharedWith.push(t),e.isCompanyShared||e.sharedWith.length?e.isInvalid=!1:e.isInvalid=!0,e.sharedWithEmail="",a.dispatch({type:"UPDATE_CARD",payload:{card:e}}),_r_()},onAddCardSharedWithEmailChange:function(e){_i_("3bb:af72cbf5"),13===e.keyCode&&this.onAddSharedEmailClick(e);var t=e.target.value,i=this.getState().card;i.sharedWithEmail=t,i.hasInvalidSharedWithEmail=!/\S+@\S+\.\S+/.test(t.toLowerCase()),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onAddCardItemizedChargesCheckboxClick:function(e){_i_("3bb:7898ef42");var t=e.target.dataset.key,i=this.getState().card;i.itemizedCharges.hasOwnProperty(t)&&(i.itemizedCharges[t]=!i.itemizedCharges[t]),"all"===t&&i.itemizedCharges.all?i.itemizedCharges={room:!0,breakfast:!0,taxes:!0,parking:!0,internet:!0,all:!0}:"all"!==t||i.itemizedCharges.all||(i.itemizedCharges={room:!0,breakfast:!1,taxes:!1,parking:!1,internet:!1,all:!1}),i.itemizedCharges.room&&i.itemizedCharges.breakfast&&i.itemizedCharges.taxes&&i.itemizedCharges.internet&&i.itemizedCharges.parking?i.itemizedCharges.all=!0:i.itemizedCharges.all=!1,a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onItemizedChargesCheckboxClick:function(e){_i_("3bb:59da56d7");var t=+e.target.dataset.index-1,i=e.target.dataset.key,n=this.getState().cards;n[t].itemizedCharges.hasOwnProperty(i)&&(n[t].itemizedCharges[i]=!n[t].itemizedCharges[i]),"all"===i&&n[t].itemizedCharges.all?n[t].itemizedCharges={room:!0,breakfast:!0,taxes:!0,parking:!0,internet:!0,all:!0}:"all"!==i||n[t].itemizedCharges.all||(n[t].itemizedCharges={room:!0,breakfast:!1,taxes:!1,parking:!1,internet:!1,all:!1}),n[t].itemizedCharges.room&&n[t].itemizedCharges.breakfast&&n[t].itemizedCharges.taxes&&n[t].itemizedCharges.internet&&n[t].itemizedCharges.parking?n[t].itemizedCharges.all=!0:n[t].itemizedCharges.all=!1,a.dispatch({type:"ITEMIZED_CHARGES_CLICK",payload:{cards:n}}),_r_()},onAddSharedEmailClick:function(e){_i_("3bb:07e2d104");var t=+e.target.dataset.index-1,i=this.getState().cards,n=i[t].sharedWithEmail.toLowerCase().trim();if(i[t].hasInvalidSharedWithEmail)return _r_();n&&-1===i[t].sharedWith.indexOf(n)&&i[t].sharedWith.push(n),i[t].isCompanyShared||i[t].sharedWith.length?i[t].isInvalid=!1:i[t].isInvalid=!0,i[t].sharedWithEmail="",a.dispatch({type:"SHARED_EMAIL_ADD",payload:{cards:i}}),_r_()},onSharedWithEmailChange:function(e){_i_("3bb:b3274ba3"),13===e.keyCode&&this.onAddSharedEmailClick(e);var t=+e.target.dataset.index-1,i=e.target.value,n=this.getState().cards;n[t].sharedWithEmail=i,n[t].hasInvalidSharedWithEmail=!/\S+@\S+\.\S+/.test(i.toLowerCase()),a.dispatch({type:"SHARED_WITH_EMAIL_CHANGE",payload:{cards:n}}),_r_()},onRemoveSharedClick:function(e){_i_("3bb:83f9cf57");var t=+$(e.target).parents("[data-index]").data().index-1,i=+$(e.target).parents("[data-email-index]").data().emailIndex-1,n=this.getState().cards;n[t].sharedWith.splice(i,1),n[t].isCompanyShared||n[t].sharedWith.length?n[t].isInvalid=!1:n[t].isInvalid=!0,a.dispatch({type:"REMOVE_SHARED_CLICK",payload:{cards:n}}),_r_()},onNameChange:function(e){_i_("3bb:f87e9105");var t=+e.target.dataset.index-1,i=e.target.value,n=this.getState().cards;n[t].name=i,n[t].hasInvalidName=!i,a.dispatch({type:"NAME_CHANGE",payload:{cards:n}}),_r_()},onEditClick:function(e){_i_("3bb:d901dbdc");var t=+e.target.dataset.index-1,i=this.getState().cards;i[t].isOpen=!0,a.dispatch({type:"EDIT_CLICK",payload:{cards:i}}),_r_()},onCancelClick:function(e){_i_("3bb:d12ec829");var t=+e.target.dataset.index-1,i=this.getState().cards;i[t]=this.resetToFallbackCard(i[t]),i[t].isOpen=!1,a.dispatch({type:"CANCEL_CLICK",payload:{cards:i}}),_r_()},resetToFallbackCard:function(e){return _i_("3bb:3e3052ec"),e.sharedWith=e.sharedWithOld.slice(),e.isCompanyShared=e.isCompanySharedOld,e.name=e.nameOld,e.itemizedCharges=e.itemizedChargesOld,e.hasInvalidName=!1,_r_(e)},updateFallbackCard:function(e){return _i_("3bb:2c6f49d9"),e.sharedWithOld=e.sharedWith.slice(),e.isCompanySharedOld=e.isCompanyShared,e.nameOld=e.name,e.itemizedChargesOld=e.itemizedCharges,e.hasInvalidName=!1,_r_(e)},serializeCardData:function(e){_i_("3bb:c023976a");var t=this.getState().cards[e],i={bhc_csrf_token:B.env.b_csrf_token,id:t.id,name:t.name,isCompanyShared:t.isCompanyShared,sharedWithEmail:t.sharedWith,companyName:B.env.companyAction.b_company_name,lang:B.env.b_lang};return this.getState().itemizedChargesEnabled&&(i.perm_room=!0,i.perm_breakfast=t.itemizedCharges.breakfast,i.perm_taxes=t.itemizedCharges.taxes,i.perm_parking=t.itemizedCharges.parking,i.perm_internet=t.itemizedCharges.internet,i.perm_allow_all=t.itemizedCharges.all,i.isPayRestricted=!0,i.perm_other=!1),_r_(i)},sendCardDetails:function(t,i){_i_("3bb:5f626b52");var n=this;$.ajax({type:"POST",url:"bbtool_company_airplus_cards",traditional:!0,data:n.serializeCardData(t),beforeSend:function(){_i_("3bb:6e144c161"),i[t].isOpen=!1,i[t].isLoading=!0,i[t].loadingStatus="pending",a.dispatch({type:"BEFORE_SEND_CARD",payload:{cards:i}}),_r_()},success:function(e){_i_("3bb:3506cbdc"),"ok"===e.status?(i[t]=n.updateFallbackCard(i[t]),i[t].isOpen=!1,i[t].isLoading=!0,i[t].loadingStatus="success",a.dispatch({type:"AFTER_SEND_CARD_SUCCESS",payload:{cards:i}})):(i[t]=n.resetToFallbackCard(i[t]),i[t].isOpen=!0,i[t].isLoading=!0,i[t].loadingStatus="error",a.dispatch({type:"AFTER_SEND_CARD_ERROR",payload:{cards:i}})),_r_()},error:function(){_i_("3bb:a6bf5500"),i[t]=n.resetToFallbackCard(i[t]),i[t].isOpen=!0,i[t].isLoading=!0,i[t].loadingStatus="error",a.dispatch({type:"AFTER_SEND_CARD_ERROR",payload:{cards:i}}),_r_()},complete:function(){_i_("3bb:4faae833"),i[t].isLoading=!1,i[t].loadingStatus="none",setTimeout(function(){_i_("3bb:ce2e16971"),a.dispatch({type:"AFTER_SEND_CARD",payload:{cards:i}}),_r_()},500),_r_()}}),_r_()},onSharedWithClick:function(e){_i_("3bb:290283e1");var t=+e.target.dataset.index-1,i=e.target.value,n=this.getState().cards;n[t].isCompanyShared="all"===i,n[t].isCompanyShared||n[t].sharedWith.length?n[t].isInvalid=!1:n[t].isInvalid=!0,a.dispatch({type:"SHARED_WITH_CLICK",payload:{cards:n}}),_r_()}}),_r_()}),B.define("component/business/payments/company-card/company-card-bs3/cc-card-entity",function(e,t,i){_i_("3bb:9b3f3d45");var o;function l(e,t,i,n,a){_i_("3bb:549589f8"),this.code=e,this.value="",this.inputName="dbi_"+e.toLowerCase(),this.isDisplayed=t,this.isRequired=i,this.isValid=!!n.length,this.isDirty=!1,this.hasRequiredError=!1,this.hasLengthError=!1,this.isSelect=!!n.length,this.acceptedValues=n,this.minLength=a.min_length,this.maxLength=a.max_length,_r_()}function n(e){_i_("3bb:3f6d195d"),this.cardMeta=e,this._isSelected=!1,this._dbiProperties=null,this.init(),_r_()}function a(e){_i_("3bb:1b337b76"),this.cardMeta=e,this._isSelected=!1,this._dbiProperties=null,this.init(),_r_()}o=(B.env.dbiProps||[]).reduce(function(e,t){return _i_("3bb:3d45fa4c"),e[t.code]=t,_r_(e)},{}),Object.assign(n.prototype,{init:function(){_i_("3bb:272df2c8"),this._dbiProperties=this._compileDbiProps(),this._initGenericProperies(),_r_()},_compileDbiProps:function(){_i_("3bb:d2833cad");var e,t,i,n,a,r,_=[];e=Object.keys(this.cardMeta.b_dbi_overrides||{});for(var s=0;s<e.length;s++)n=e[s],i=this.cardMeta.b_dbi_overrides[n],t=o[n],r=a=!1,i.is_required?a=r=!0:t?t.isDisplayed&&(a=!0,r=!!t.isRequired):r=!(a=!0),a&&_.push(new l(n,a,r,t&&t.acceptedValues||[],{min_length:i.min_length,max_length:i.max_length}));return _.sort(function(e,t){if(_i_("3bb:fd31dd71"),e.code>t.code)return _r_(1);if(e.code<t.code)return _r_(-1);return _r_(0)}),_r_(_)},_initGenericProperies:function(){_i_("3bb:86bb1140"),this.id="uatp"+this.cardMeta.b_cc_uatp_id,this.type="AirPlus",this.name=this.cardMeta.bs_cc_name,this.label=this.cardMeta.b_cc_name,this.expiry=this.cardMeta.b_cc_expire_month+"/"+this.cardMeta.b_cc_expire_year,_r_()},setSelected:function(e){_i_("3bb:f5d4fd58"),this._isSelected=e,_r_()},isSelected:function(){return _i_("3bb:76e444e6"),_r_(this._isSelected)}}),Object.assign(a.prototype,{init:function(){_i_("3bb:2ec49092"),this._dbiProperties=[],this._initGenericProperies(),_r_()},_initGenericProperies:function(){_i_("3bb:82ae79ce"),this.id="shared_cc"+this.cardMeta.b_cardstash_id,this.type=this.cardMeta.b_cc_type,this.name=this.cardMeta.b_cc_name,this.label=this.cardMeta.b_cc_label,this.expiry=this.cardMeta.b_cc_expire_month+"/"+this.cardMeta.b_cc_expire_year,_r_()},setSelected:function(e){_i_("3bb:f5d4fd581"),this._isSelected=e,_r_()},isSelected:function(){return _i_("3bb:76e444e61"),_r_(this._isSelected)}}),i.exports.CorporateLodgeCard=a,i.exports.AirPlusCard=n,_r_()}),B.define("component/business/payments/company-card/company-card-bs3/store",function(e,t,i){_i_("3bb:d1e878ea");var n,a,r=e("reducer-store"),_=e("component/business/payments/company-card/company-card-bs3/cc-card-entity"),s=(n=B.env.b_user_company_cards||[],_i_("3bb:0fdd2b40"),_r_(n.map(function(e,t){var i;return _i_("3bb:4cb6727f"),"uatp"===e.b_card_category?i=new _.AirPlusCard(e):"shared_cc"===e.b_card_category&&(i=new _.CorporateLodgeCard(e)),_r_(i)}))),o={cards:s,selectedCard:function(){if(_i_("3bb:7b1199a5"),s&&s.length)return s[0].setSelected(!0),_r_(s[0]);return _r_(null)}(),dbiProps:(a=B.env.dbiProps||[],_i_("3bb:87c12af5"),_r_(a.map(function(e){return _i_("3bb:3e67531e"),_r_({code:e.code,value:"",inputName:"dbi_"+e.code.toLowerCase(),isDisplayed:!!e.isDisplayed,isRequired:!!e.isRequired,isValid:!!e.acceptedValues.length,isDirty:!1,hasRequiredError:!1,hasLengthError:!1,isSelect:!!e.acceptedValues.length,acceptedValues:e.acceptedValues,minLength:1,maxLength:17})}))),isDbiAreaVisible:function(e){var t,i;for(_i_("3bb:ac3e6966"),t=0,i=e.length;t<i;++t)if(e[t].isDisplayed)return _r_(!0);return _r_(!1)}(B.env.dbiProps||[]),paymentTypeIcon:{airplus:B.env.fe_payment_type__airplus,visa:B.env.fe_payment_type__visa,mastercard:B.env.fe_payment_type__mastercard,amex:B.env.fe_payment_type__amex},fe_require_cvc:B.env.fe_require_cvc};i.exports=new r(function(e,t){switch(_i_("3bb:beb4dd9f"),t.type){case"CARD_CLICK":return _r_(Object.assign({},e,{cards:t.payload.cards,selectedCard:t.payload.selectedCard}));case"VALIDATE_FORM":return _r_(Object.assign({},e,{dbiProps:t.payload.dbiProps}));default:return _r_(e)}_r_()},o),_r_()}),booking.jstmpl("company_card_bs3",function(){_i_("3bb:4fe3884c");var u,h=["\n    ",'\n<div id="business-bookers-company-card-bs3"\n    data-component="business/payments/company-cards/company-card-bs3/company-card-bs3">\n    <h3 class="company-card-bs3-header">\n        ',"/private/bb_bp_company_card/name",'\n    </h3>\n    <table class="company-card-content-table">\n        <tr class="company-card-content-table-header-row">\n            <th class="company-card-content-table-header-cell company-card-content-table-header-cell--card-type">\n                ',"/private/bb_bp_company_card_card_type/name",'\n            </th>\n            <th class="company-card-content-table-header-cell">\n                ',"/private/bb_bp_company_card_card_name/name",'\n            </th>\n            <th class="company-card-content-table-header-cell company-card-content-table-header-cell--card-number">\n                ',"/private/bp_bs3_shared_cards_card_number/name","/private/bb_bp_company_card_expiry_date/name","\n            </th>\n\n            ",'\n                <th class="company-card-content-table-header-cell">\n                    <span id="label_shared_cc_cvc"\n                          class="label cvc_code jq_tooltip"\n                          title="',"/private/bp_bs3_shared_cards_cvc_tooltip/name",'"\n                            ','style="font-weight: normal !important"',"\n                    >\n                        ","/private/cvc_code/name","\n                    </span>\n                </th>\n            ","\n        </tr>\n        ","\n            ","\n\n            ","\n                ","\n                    ",'\n\n            <tr class="company-card-content-table-row">\n                <td class="company-card-content-table-cell company-card-content-table-header-cell--card-type">\n                    <label>\n                        <input type="radio"\n                            id="','"\n                            data-cc-card-id\n                            class="company-select-cc"\n                            data-index="','"\n                            name="cc_company_card_id_internal"\n                            value="',"checked",">\n\n                        ",'\n                            <span class="company-card-content-table-cell__logo"><img src="','" alt=""></span>\n                        ','\n\n                        <span class="company-card-content-table-cell__text">',"</span>\n\n                        ",'\n                            <input type="hidden" name="cc_type_','" value="','" data-shared-cc-type>\n                        ','\n                    </label>\n                </td>\n                <td class="company-card-content-table-cell">\n                    <label for="','">\n                        ','\n                    </label>\n                </td>\n                <td class="company-card-content-table-cell company-card-content-table-header-cell--card-number">\n                    <label for="','">\n                        <span class="company-card-content-table-cell__card-number__dots">&#183;&#183;&#183;&#183;&nbsp;</span>',"\n                    </label>\n                </td>\n\n                ",'\n                    <td class="company-card-content-table-cell">\n                        ','\n                            <label for="','">\n                                <input type="text" name="cc_cvc_','" id="cvc_','"\n                                       data-shared-cc-cvc\n                                       class="company-card--shared-cc__cvc cc_cvc_input ClickTaleSensitive cb_confidential bp_input_text"\n                                       value="" size="4" maxlength="4" autocomplete="off" aria-label="Enter CVC code" data-tab-toggle-disable-off="" >\n                            </label>\n                        ',"\n                    </td>\n                ","\n            </tr>\n        ","\n    </table>\n\n    ","\n\n    ",'\n        <h3 class="company-card-bs3-header company-card-bs3-sub-header">\n            ',"/private/bb_bp_company_card_statement_fields/name",'\n        </h3>\n        <div class="company-card-bs3-bdi-props">\n            ','\n                    <div class="bp_form__field">\n                        <label for="','"\n                            class="bp_form__field__label">\n                            ',"\n                                    ","/private/bbp_cc_project_fields_dbiae/name","\n                                ","/private/bbp_cc_project_fields_dbiak/name","/private/bbp_cc_project_fields_dbiau/name","/private/bbp_cc_project_fields_dbids/name","/private/bbp_cc_project_fields_dbiik/name","/private/bbp_cc_project_fields_dbipk/name","/private/bbp_cc_project_fields_dbipr/name","/private/bbp_cc_project_fields_dbiks/name","\n                            ",'\n                                <abbr class="mandatory-asterisk" title="Required" aria-hidden="true"> *</abbr>\n                            ',"\n                        </label>\n                        ",'\n                            <input type="text"\n                                name="','"\n                                id="','"\n                                data-index="','"\n                                class="bp_input_text\n                                    bp_form__field__input\n                                    company-card-bs3-input\n                                    ',"\n                                        company-card-bs3-input-invalid\n                                    ",'"\n                                placeholder="',"/private/bb_bp_company_card_enter_value/name",'"\n                                value="','"\n                                size="35"\n                                ',"\n                                    required\n                                ",">\n                        ",'\n                            <select name="','"\n                                class="fixed_width bp_input_select\n                                    bp_form__field__input company-card-bs3-select\n                                    ','"\n                                ','>\n                                \n                                <option value="">\n                                    ',"/private/bb_bp_company_card_select_value/name","\n                                </option>\n                                ",'\n                                    <option value="','"\n                                        ',"\n                                            selected\n                                        ",">\n                                        ","\n                                    </option>\n                                ","\n                            </select>\n                        ","\n                        \n                        \n                        \n                        ",'\n                            <span class="company-card-bs3-inline-error ">\n                                ',"/private/bb_bp_company_card_required_field/name","\n                            </span>\n                        ","/private/bbp_bp_company_card_entry_error/name","\n                    </div>\n                ","\n        </div>\n    ",'\n        \n        \n        \n        \n        <div class="bs3-auth-form-banner-spacer"></div>\n        <div class="bs3-auth-form-banner">\n            <div class="bs3-auth-form-banner-header">\n                ',"iconset/bell_normal","medium","/private/bb_airplus_payment_module_header/name",'\n            </div>\n            <div class="bs3-auth-form-banner-body">\n                ',"/private/bb_airplus_payment_module_body/name","\n            </div>\n        </div>\n    ","\n\n    \n    \n    ",'\n        <input type="hidden" value="','" name="full_cost"/>\n    ','" name="full_cost_plain"/>\n    ',"\n\n</div>\n","\n"],f=["b_lang_is_ja","fe_require_cvc","cards","paymentTypeIcon","fe_card_is_shared_cc","fe_input_id","fe_payment_item__logo","selectedCard","dbiPropsToUse","showDbiArea","b_u_total_cost_with_addons_without_symbol","b_u_total_cost_with_addons_plain"];return _r_(function(b){_i_("3bb:d2fedb0e");var e="",p=this.fn;return e=function(e){_i_("3bb:0da7d751"),e+=["",h[1],p.ME(h[2],p.MB,p.MN,null),h[3],p.ME(h[4],p.MB,p.MN,null),h[5],p.ME(h[6],p.MB,p.MN,null),h[7],p.ME(h[8],p.MB,p.MN,null),h[5],p.ME(h[9],p.MB,p.MN,null),h[10]].join(""),p.MD(f[1])&&(e+=[h[11],p.F.html(p.ME(h[12],p.MB,p.MN,null)),h[13]].join(""),p.MD(f[0])&&(e+=h[14]),e+=[h[15],p.ME(h[16],p.MB,p.MN,null),h[17]].join("")),e+=h[18];var t=p.MC(f[2])||[];b.unshift({card:null});for(var i,n=1,a=t.length;n<=a;n++)b[0].card=i=t[n-1],e+=h[19],p.MN("fe_input_id","cc_company_card_id_internal__"+n),e+=h[20],p.MN("fe_card_is_shared_cc",i.cardMeta&&p.MJ(i.cardMeta.b_card_category+""=="shared_cc")),e+=h[20],p.MD(f[4])?(e+=h[21],p.MJ(i.type+""=="MasterCard")?(e+=h[22],p.MN("fe_payment_item__logo",p.MG((p.MC(f[3])||{}).mastercard)),e+=h[21]):p.MJ(i.type+""=="Visa")?(e+=h[22],p.MN("fe_payment_item__logo",p.MG((p.MC(f[3])||{}).visa)),e+=h[21]):p.MJ(i.type+""=="American Express")&&(e+=h[22],p.MN("fe_payment_item__logo",p.MG((p.MC(f[3])||{}).amex)),e+=h[21])):(e+=h[21],p.MN("fe_payment_item__logo",p.MG((p.MC(f[3])||{}).airplus))),e+=h[19],e+=[h[23],p.F.html(p.MB(f[5])),h[24],p.F.entities(n),h[25],i.id,h[13]].join(""),p.MJ(i._isSelected)&&(e+=h[26]),e+=h[27],p.MD(f[6])&&(e+=[h[28],p.F.entities(p.MB(f[6])),h[29]].join("")),e+=[h[30],i.type,h[31]].join(""),p.MJ(p.MB(f[4]))&&p.MJ(i._isSelected)&&(e+=[h[32],p.F.entities(p.MG(((i||{}).cardMeta||{}).b_cardstash_id)),h[33],p.F.entities(p.MG((i||{}).type)),h[34]].join("")),e+=[h[35],p.F.html(p.MB(f[5])),h[36],i.label?i.label:"&mdash;",h[37],p.F.html(p.MB(f[5])),h[38],i.cardMeta.b_cc_last_digits,h[35],p.F.html(p.MB(f[5])),h[36],i.expiry,h[39]].join(""),p.MD(f[1])&&(e+=h[40],p.MD(f[4])&&(e+=[h[41],p.F.html(p.MB(f[5])),h[42],p.F.entities(p.MG(((i||{}).cardMeta||{}).b_cardstash_id)),h[43],p.F.entities(p.MG((i||{}).id)),h[44]].join("")),e+=h[45]),e+=h[46];if(b.shift(),e+=h[47],p.MN("showDbiArea",p.MB(f[7])?p.array_length(p.MC(f[7])._dbiProperties):0),e+=h[0],p.MN("dbiPropsToUse",p.MB(f[7])?p.MC(f[7])._dbiProperties:0),e+=h[48],p.MJ(p.MB(f[9]))){var r;for(e+=[h[49],p.ME(h[50],p.MB,p.MN,null),h[51]].join(""),t=p.MC(f[8])||[],b.unshift({prop:null}),n=1,a=t.length;n<=a;n++){if(b[0].prop=r=t[n-1],e+=h[21],p.MJ(r.isDisplayed)){e+=[h[52],r.inputName,h[53]].join("");var _=r.code;if(p.MJ(_+""=="AE")?e+=[h[54],p.ME(h[55],p.MB,p.MN,null),h[56]].join(""):p.MJ(_+""=="AK")?e+=[h[54],p.ME(h[57],p.MB,p.MN,null),h[56]].join(""):p.MJ(_+""=="AU")?e+=[h[54],p.ME(h[58],p.MB,p.MN,null),h[56]].join(""):p.MJ(_+""=="DS")?e+=[h[54],p.ME(h[59],p.MB,p.MN,null),h[56]].join(""):p.MJ(_+""=="IK")?e+=[h[54],p.ME(h[60],p.MB,p.MN,null),h[56]].join(""):p.MJ(_+""=="PK")?e+=[h[54],p.ME(h[61],p.MB,p.MN,null),h[56]].join(""):p.MJ(_+""=="PR")?e+=[h[54],p.ME(h[62],p.MB,p.MN,null),h[56]].join(""):p.MJ(_+""=="KS")&&(e+=[h[54],p.ME(h[63],p.MB,p.MN,null),h[64]].join("")),e+=h[64],p.MJ(r.isRequired)&&(e+=h[65]),e+=h[66],p.MK(r.isSelect))e+=[h[67],r.inputName,h[68],r.inputName,h[69],p.F.entities(n),h[70]].join(""),p.MK(r.isValid)&&p.MJ(r.isDirty)&&(e+=h[71]),e+=[h[72],p.ME(h[73],p.MB,p.MN,null),h[74],r.value,h[75]].join(""),p.MJ(r.isRequired)&&(e+=h[76]),e+=h[77];else{e+=[h[78],r.inputName,h[69],p.F.entities(n),h[79]].join(""),p.MK(r.isValid)&&p.MJ(r.isDirty)&&(e+=h[71]),e+=[h[68],r.inputName,h[80]].join(""),p.MJ(r.isRequired)&&(e+=h[76]),e+=[h[81],p.ME(h[82],p.MB,p.MN,null),h[83]].join("");var s,o=n,l=t,c=a,d=s;for(t=r.acceptedValues||[],b.unshift({option:null}),n=1,a=t.length;n<=a;n++)b[0].option=s=t[n-1],e+=[h[84],s,h[85]].join(""),p.MJ(r.value==s)&&(e+=h[86]),e+=[h[87],s,h[88]].join("");b.shift(),n=o,t=l,a=c,s=d,e+=h[89]}e+=h[90],p.MK(r.isValid)&&p.MJ(r.isDirty)&&p.MJ(r.hasRequiredError)&&(e+=[h[91],p.ME(h[92],p.MB,p.MN,null),h[93]].join("")),e+=h[90],p.MK(r.isValid)&&p.MJ(r.isDirty)&&p.MJ(r.hasLengthError)&&(e+=[h[91],p.ME(h[94],p.MB,p.MN,null),h[93]].join("")),e+=h[95]}e+=h[19]}b.shift(),e+=h[96]}return e+=h[48],p.MJ(p.MB(f[7]))&&p.MJ(p.MC(f[7]).type+""=="AirPlus")&&(e+=[h[97],(b.unshift({name:h[98],size:h[99]}),u=p.HELPER("icon",b[0]),b.shift(),u),h[21],p.ME(h[100],p.MB,p.MN,null),h[101],p.ME(h[102],p.MB,p.MN,null),h[103]].join("")),e+=h[104],p.MD(f[10])&&(e+=[h[105],p.MC(f[10]),h[106]].join("")),e+=h[0],p.MD(f[11])&&(e+=[h[105],p.MC(f[11]),h[107]].join("")),e+=[h[108],"",h[109]].join(""),_r_(e)}(e+=h[0]),e+=h[109],_r_(e)})}()),B.define("component/business/payments/company-cards/company-card-bs3/company-card-bs3",function(e,t,i){_i_("3bb:13f2009a");var s=e("component/business/payments/company-card/company-card-bs3/store"),a=e("ga-tracker"),n=e("promise");i.exports=e("component/reactive").extend({template:"company_card_bs3",initialize:function(){_i_("3bb:2fbb14e3"),s.subscribe(this.render.bind(this)),this.events({"click .company-select-cc":p,"keyup .company-card-bs3-input":l,"change select.company-card-bs3-select":l,"focusin input.company-card--shared-cc__cvc":c}),this.render(),e=this,_i_("3bb:5f90d1ba"),$('input[name="payment_method"]').on("change",function(){_i_("3bb:1789e0e7"),d.call(e,!0),o(),e.$el.find(".company-card-content-table-row:visible").length&&e.$el.trigger("shown"),_r_()}),_r_(),d(!1),o(),new n(function(e){_i_("3bb:ecd7d6d0"),this.$el.on("shown",e),_r_()}.bind(this)).then(_),this.$el.find(".company-card-content-table-row:visible").length&&this.$el.trigger("shown");var e;_r_()},getState:h});var r=17;function _(){_i_("3bb:d983c7c6"),a.trackEvent(a.BBToolTracker,"view","Table with company cards is shown"),_r_()}function o(){var e,t;_i_("3bb:71e8a0c4");var i,n=$("#bookForm"),a=n.find("[data-cc-card-id]:checked").val(),r=n.find('input[name="payment_method"]:checked');r.length?r.attr("data-original-value")?(i=r.attr("data-original-value"),r.val(i),r.removeAttr("data-original-value")):i=r.val():$("#business-bookers-company-card-bs3").find(".company-card-content-table-row:visible").length&&(i="company"),$("[data-cc-uatp-id]").remove(),$("[data-cc-card-id-override]").remove(),"company"===i&&(-1!==a.indexOf("uatp")?(e=a.replace("uatp",""),n.append('<input hidden data-cc-uatp-id type="radio" name="cc_uatp_id" checked="checked" value="'+e+'">'),n.append('<input hidden data-cc-card-id-override type="radio" name="cc_card_id" checked="checked" value="">')):-1!==a.indexOf("shared_cc")&&(t=a.replace("shared_cc",""),n.append('<input hidden data-cc-card-id-override type="radio" name="cc_card_id" checked="checked" value="%value">'.replace("%value",t)),r.attr("data-original-value",r.val()),r.val("creditcard"))),_r_()}function l(e){_i_("3bb:7d3e827a"),d(!1,+e.target.dataset.index-1),_r_()}function c(e){var t;_i_("3bb:f1fe51ae"),t=e.target.getAttribute("id").replace("cvc_shared_cc",""),u(0+$("[data-cc-card-id]").filter("[value=%value]".replace("%value","shared_cc"+t)).attr("data-index")-1),_r_()}function d(e,t){_i_("3bb:6b7bc61a");var i=$(".bp-overview-buttons-submit"),n=$(".js-booking-overview__trigger");if("company"!==$('input[name="payment_method"]:checked').val())return i.removeClass("disabled"),n.removeClass("disabled"),_r_(void 0);return function(e,t){var i,n,a;_i_("3bb:fe45ca83");var r=!0,_=(h().selectedCard||{})._dbiProperties||[];for(i=0,n=_.length;i<n;++i)(a=_[i]).value=$("#"+a.inputName).val()||"",a.hasLengthError=!1,a.hasRequiredError=!1,a.isValid=!0,a.isDisplayed&&(a.isRequired&&!a.value&&(a.hasRequiredError=!0,a.isValid=!1,r=!1),b(a,a.value)||(a.hasLengthError=!0,a.isValid=!1,r=!1)),(e||t===i)&&(a.isDirty=!0);return s.dispatch({type:"VALIDATE_FORM",payload:{dbiProps:_}}),_r_(r)}(e,t)?(i.removeClass("disabled"),n.removeClass("disabled"),_r_(!0)):(i.addClass("disabled"),n.addClass("disabled"),_r_(!1))}function b(e,t){if(_i_("3bb:eb0599b8"),e.isSelect)return _r_(!0);if(e.maxLength){if(t.length>e.maxLength)return _r_(!1)}else if(t.length>r)return _r_(!1);return _r_(!0)}function p(e){_i_("3bb:3a60915b"),u(+e.target.dataset.index-1),_r_()}function u(i){var n,e;_i_("3bb:80bb29f0"),e=h().cards.map(function(e,t){return _i_("3bb:1c9fde29"),e.setSelected(!1),t===i&&(e.setSelected(!0),n=Object.assign({},e)),_r_(e)}),s.dispatch({type:"CARD_CLICK",payload:{cards:e,selectedCard:n}}),o(),d(),n&&a.trackEvent(a.BBToolTracker,"click","AirPlus"===n.type?"AirPlus card is selected":"Shared CC is selected"),_r_()}function h(){return _i_("3bb:96c9797f2"),_r_(s.getState())}_r_()}),B.define("component/business/payments/auth-form/store",function(e,t,i){_i_("3bb:ddc7e409");var n=e("reducer-store"),a={name:"",phone:"",email:""},r={fe_print_url_eng:B.env.fe_print_url_eng,fe_print_url_guest:B.env.fe_print_url_guest,fe_print_url_hotel:B.env.fe_print_url_hotel,fe_download_url_eng:B.env.fe_download_url_eng,fe_download_url_guest:B.env.fe_download_url_guest,fe_download_url_hotel:B.env.fe_download_url_hotel,b_booking_number_plain:B.env.b_booking_number_plain,b_site_type:B.env.b_site_type,fe_bbt_ga_category:B.env.fe_bbt_ga_category,fe_language_trans_en:B.env.fe_language_trans_en,fe_language_trans_guest:B.env.fe_language_trans_guest,fe_language_trans_hotel:B.env.fe_language_trans_hotel,fe_show_download_button:B.env.fe_show_download_button,isLoading:!1,indexOfLoadingOption:-1,fe_has_rights_to_notify_guests:B.env.fe_has_rights_to_notify_guests,langSelectedForGuests:null,guest_list:[Object.assign({},a)],guestListProcessing:"IDLE",fe_notified_guest_name_list:[],fe_notification_error:""};i.exports=new n(function(e,i){switch(_i_("3bb:94ff32a8"),i.type){case"START_LOADING":return _r_(Object.assign({},e,{isLoading:!0,indexOfLoadingOption:i.payload.indexOfLoadingOption}));case"STOP_LOADING":return _r_(Object.assign({},e,{isLoading:!1,indexOfLoadingOption:-1}));case"SELECT_LANG_FOR_GUESTS":return _r_(Object.assign({},e,{langSelectedForGuests:i.payload.langSelectedForGuests}));case"RESET_GUEST_LIST_FORM":return _r_(Object.assign({},e,{guestListProcessing:"IDLE",guest_list:[Object.assign({},a)]}));case"CHANGE_GUEST_LIST":return _r_(Object.assign({},e,{guest_list:i.payload.guestList}));case"ADD_ANOTHER_GUEST":return _r_(Object.assign({},e,{guest_list:e.guest_list.concat(Object.assign({},a))}));case"REMOVE_GUEST":return _r_(Object.assign({},e,{guest_list:e.guest_list.filter(function(e,t){return _i_("3bb:a4cc4f2e"),_r_(t!==i.payload.index)})}));case"REQUEST_SEND_GUEST_LIST":return _r_(Object.assign({},e,{guestListProcessing:"SENDING"}));case"SUCCESS_SEND_GUEST_LIST":return _r_(Object.assign({},e,{guestListProcessing:"SENT_SUCCESS",fe_notified_guest_name_list:i.payload.notifiedGuestList}));case"FAILURE_SEND_GUEST_LIST":return _r_(Object.assign({},e,{guestListProcessing:"SENT_FAILURE",fe_notification_error:"Something went wrong. Please, try later."}));default:return _r_(e)}_r_()},r),_r_()}),booking.jstmpl("auth_form_print",function(){_i_("3bb:3008834b");var d,b=["\n    ",'\n<div data-component="business/payments/auth-form/auth-form-print" class="bbpayments-auth-form">\n\n    ',"\n        ",'<div class="bui-alert bui-alert--success bbpayments-auth-form__notified-guests" role="status">\n    <div class="bui-alert__description">\n        <p class="bui-alert__text">\n            ',"/private/bbmanage_authform_sent_header/name",'\n        </p>\n\n        <ul class="bui-list bui-list--text bui-list--icon">\n            ','\n                <li class="bui-list__item">\n                    <span class="bui-list__icon" role="presentation">\n                        ',"","24","iconset/checkmark","presentation",'\n                    </span>\n                    <div class="bui-list__body">\n                        ',"\n                    </div>\n                </li>\n            ","\n        </ul>\n    </div>\n</div>\n","\n\n    ",'<div class="bui-dropdown bbpayments-auth-form__control" data-bui-component="Dropdown" data-active-button-classname="bui-button--active">\n    <label role="button"\n        data-bui-ref="dropdown-button"\n        for="dropdown_secondary"\n        class="bui-button bui-button--primary btn-notify-guests"\n        aria-haspopup="true"\n        aria-controls="dropdown_secondary_menu"\n        type="button">\n\n        <span class="bui-button__text">\n            ',"/private/bbmanage_authform_send_button/name",'\n        </span>\n\n        <span class="bui-button__icon bui-button__icon--end">\n            ',"iconset/dropdown","16",'\n        </span>\n    </label>\n\n    <div class="bui-dropdown__content" data-bui-ref="dropdown-slot">\n        <div class="bui-dropdown-menu" id="dropdown_secondary_menu" role="menu" data-component="business/payments/auth-form/notify-button">\n            <ul class="bui-dropdown-menu__items">\n                ',"/private/bbmanage_authform_send_lang_1/name","\n                ",'\n\n<li class="bui-dropdown-menu__item">\n  <a data-bui-ref="dropdown-item" class="bui-dropdown-menu__button auth-form__notify" role="link" tabindex="0"\n     data-lang="','"\n     aria-label="#TODO" data-modal-id="authFormGuestListNotification" data-bui-component1="Modal"\n     data-ga-track="click|',"|AuthForm|Send(","): ",'"\n  >\n    <span role="presentation" class="bui-icon bui-dropdown-menu__icon bui-icon--medium">\n        ',"iconset/email",'\n    </span>\n    <span class="bui-dropdown-menu__text">',"</span>\n  </a>\n</li>\n","\n\n                ","/private/bbmanage_authform_send_lang_2/name","/private/bbmanage_authform_send_lang_3/name",'\n            </ul>\n        </div>\n    </div>\n</div>\n\n<template id="authFormGuestListNotification">\n    ','<div data-component="business/payments/auth-form/guest-list">\n    <header class="bui-modal__header">\n        <h1 class="bui-modal__title" id="authFormGuestListNotification-title" data-bui-ref="modal-title">',"/private/bbmanage_authform_send_header/name",'</h1>\n        <p class="bui-modal__paragraph" id="authFormGuestListNotification-subtitle" data-bui-ref="modal-subtitle">\n            ',"/private/bbmanage_authform_send_body/name",'\n        </p>\n    </header>\n\n    <div class="bui-card" role="region" aria-label="A11y description for card">\n        <form class="bui-card__content" name="guest-list">\n            <fieldset','>\n                <ul class="bui-list bui-list--text auth-form__guest-list">\n                    ',"\n                    ","\n\n                    ","\n                        ","\n\n",'\n\n<li class="bui-list__item auth-form__guest-list__item">\n    ',"/private/bbmanage_authform_send_name/name","/private/bbmanage_authform_send_name_plc/name","\n","/private/bbm_payment_auth_phone_header/name","+31000000000","/private/bbmanage_authform_send_email/name","/private/bbmanage_authform_send_email_plc/name",'\n\n<div class="bui-form__group auth-form__guest-list__item__field auth-form__guest-list__item__field--','">\n    ','\n        <label for="',"html",'">',"</label>\n    ",'\n\n    <div class="bui-input-text__content">\n        <div class="bui-input-text__field">\n            <input type="','" id="','" name="','[]" value="','"\n                   class="bui-input-text__control" placeholder="','"\n                   tabindex="0"\n                   ',"pattern=",'\n            />\n            <div class="bui-input-text__decorator"></div>\n        </div>\n    </div>\n</div>\n',"name","phone","email",'\n        <button class="auth-form__guest-list__item__field__delete">\n            ',"iconset/close","\n        </button>\n    ","\n</li>",'\n                </ul>\n                <a class="bui-link bui-link--primary auth-form__add-guest"\n                    ',"\n                ><span>+</span> ","/private/bbmanage_authform_send_add/name",'</a>\n            </fieldset>\n        </form>\n    </div>\n\n    <footer class="bui-modal__footer">\n        <div class="bui-group bui-group--inline">\n            <button type="button" class="bui-button bui-button--primary auth-form__guest-list__submit"\n                ','\n            >\n                <span class="bui-button__text">',"/private/bbmanage_authform_send_confirm/name",'</span>\n            </button>\n            <button type="button" class="bui-button bui-button--secondary" data-bui-ref="modal-close"\n                ',"/private/bbmanage_authform_send_cancel/name","</span>\n            </button>\n        </div>\n\n        ",'\n            <div class="bui-alert bui-alert--error" role="status" style="margin-top: 20px;">\n                <span class="icon--hint bui-alert__icon" role="presentation">\n                    ',"iconset/warning",'\n                </span>\n                <div class="bui-alert__description">\n                    <p class="bui-alert__text">',"</p>\n                </div>\n            </div>\n        ","\n    </footer>\n</div>\n","\n</template>\n",'\n\n<div class="bui-dropdown bbpayments-auth-form__control" data-bui-component="Dropdown" data-active-button-classname="bui-button--active">\n    <label role="button"\n        data-bui-ref="dropdown-button"\n        for="dropdown_primary"\n        class="bui-button '," btn-print-auth-form appacq_print_lightbox ",'"\n        aria-haspopup="true"\n        aria-controls="dropdown_primary_menu"\n        type="button">\n\n        <span class="bui-button__text">\n            ',"/private/bb_payments_conf_airplus_request_auth/name",'\n        </span>\n        <i class="mb-loader mb-loader--print"></i>\n    </label>\n\n    <div class="bui-dropdown__content" data-bui-ref="dropdown-slot">\n        <div class="bui-dropdown-menu" id="dropdown_secondary_menu" role="menu">\n            <ul class="bui-dropdown-menu__items">\n                ',"/private/bbmanage_authform_print_lang_1/name",'\n\n<li class="bui-dropdown-menu__item">\n  <a data-bui-ref="dropdown-item"\n     class="bui-dropdown-menu__button auth-form-lang-select\n     ',"\n     ",'"\n     role="button" tabindex="0" role="button"\n     ','data-component="myreservations-print"','\n     data-print-url="','"\n     data-ga-track="click|',"|AuthForm|Print(",'"\n     data-order-index="',"bui-dropdown__icon","iconset/printer","/private/bbmanage_authform_print_lang_2/name","/private/bbmanage_authform_print_lang_3/name","\n            </ul>\n        </div>\n    </div>\n</div>\n",'<div class="bui-dropdown bbpayments-auth-form__control" data-bui-component="Dropdown" data-active-button-classname="bui-button--active">\n     <label role="button"\n        data-bui-ref="dropdown-button"\n        for="dropdown_secondary"\n        class="bui-button bui-button--secondary btn-download-auth-form"\n        aria-haspopup="true"\n        aria-controls="dropdown_secondary_menu"\n        type="button">\n\n        <span class="bui-button__text">\n            ',"/private/bbmanage_authform_dwld_button/name",'\n        </span>\n    </label>\n\n    <div class="bui-dropdown__content" data-bui-ref="dropdown-slot">\n        <div class="bui-dropdown-menu" id="dropdown_secondary_menu" role="menu">\n            <ul class="bui-dropdown-menu__items">\n                ',"/private/bbmanage_authform_dwld_lang_1/name",'\n\n<li class="bui-dropdown-menu__item">\n  <a href="','" data-bui-ref="dropdown-item" class="bui-dropdown-menu__button auth-form-lang-select" role="link" tabindex="0"\n    data-ga-track="click|',"|AuthForm|PDF(","/private/bbmanage_authform_dwld_lang_2/name","/private/bbmanage_authform_dwld_lang_3/name","\n</div>\n"],p=["fe_notified_guest_name_list","fe_auth_form__button_notify__caption","fe_language_trans_en","in_lang_code","fe_bbt_ga_category","in_translation__lang_param","b_booking_number_plain","in_caption","fe_language_trans_guest","fe_language_trans_hotel","guestListProcessing","guest_list","guest_list_is_empty","guest_list_length","in_index","b_site_type","copy_guest_list_record__caption","copy_guest_list_record__placeholder","in_field_name","in_field_id","in_field_add_caption","fe_guest_list_item__field__input_type","in_field_value","fe_guest_list_item__field__input_pattern","in_add_caption","in_is_empty","in_value","in_add_delete_button","fe_notification_error","fe_has_rights_to_notify_guests","in_is_primary","isLoading","in_auth_form__dropdown__option_index","indexOfLoadingOption","in_print_lang_url","fe_auth_form__dropdown__option_index","fe_print_url_eng","fe_print_url_guest","fe_print_url_hotel","in_lang_url","fe_download_url_eng","fe_download_url_guest","fe_download_url_hotel","fe_show_download_button"];return _r_(function(_){_i_("3bb:18abc372");var e,t,i,n,a="",s=this.fn;function o(e){return _i_("3bb:dfad9f44"),e+=b[44],s.MJ(s.MB(p[18])+""=="name")?(e+=b[0],s.MN(p[16],s.ME(b[46],s.MB,s.MN,null)),e+=b[0],s.MN(p[17],s.ME(b[47],s.MB,s.MN,null)),e+=b[0],s.MN("fe_guest_list_item__field__input_type","text"),e+=b[0],s.MN("fe_guest_list_item__field__input_pattern",""),e+=b[48]):s.MJ(s.MB(p[18])+""=="phone")?(e+=b[0],s.MN(p[16],s.ME(b[49],s.MB,s.MN,null)),e+=b[0],s.MN(p[17],b[50]),e+=b[0],s.MN("fe_guest_list_item__field__input_type","tel"),e+=b[0],s.MN("fe_guest_list_item__field__input_pattern","\\+?[0-9]{7,14}"),e+=b[48]):s.MJ(s.MB(p[18])+""=="email")&&(e+=b[0],s.MN(p[16],s.ME(b[51],s.MB,s.MN,null)),e+=b[0],s.MN(p[17],s.ME(b[52],s.MB,s.MN,null)),e+=b[0],s.MN("fe_guest_list_item__field__input_type","email"),e+=b[0],s.MN("fe_guest_list_item__field__input_pattern",""),e+=b[48]),e+=[b[53],s.F.html(s.MB(p[18])),b[54]].join(""),s.MD(p[20])&&(e+=[b[55],(_.unshift({escpae:b[56]}),d=s.F.entities(s.MB(p[19])),_.shift(),d),b[57],s.MB(p[16]),b[58]].join("")),e+=[b[59],s.F.html(s.MB(p[21])),b[60],(_.unshift({escpae:b[56]}),d=s.F.entities(s.MB(p[19])),_.shift(),d),b[61],s.F.entities(s.MB(p[18])),b[62],s.F.entities(s.MB(p[22])),b[63],s.F.html(s.MB(p[17])),b[64]].join(""),s.MD(p[23])&&(e+=[b[65],s.F.html(s.MB(p[23]))].join("")),e+=b[66],_r_(e)}function r(e){return _i_("3bb:780984e2"),e+=[b[112],s.F.entities(s.MC(p[39])),b[113],s.MC(p[4]),b[114],s.MC(p[5]),b[26],s.MC(p[6]),b[27],(_.unshift({name:b[28]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[29],s.MB(p[7]),b[30]].join(""),_r_(e)}function l(e){return _i_("3bb:49b7ea03"),e+=[b[23],s.F.entities(s.MB(p[3])),b[24],s.MC(p[4]),b[25],s.MC(p[5]),b[26],s.MC(p[6]),b[27],(_.unshift({name:b[28]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[29],s.MB(p[7]),b[30]].join(""),_r_(e)}function c(e){return _i_("3bb:8b9b9f6d"),e+=[b[95],s.F.entities(s.MB(p[31])?"bui-dropdown__item--disabled":""),b[96],s.F.entities(s.MJ(s.MB(p[32])==s.MB(p[33]))?"is-loading":""),b[97]].join(""),s.MK(s.MB(p[31]))&&(e+=b[98]),e+=[b[99],s.F.entities(s.MC(p[34])),b[100],s.MC(p[4]),b[101],s.MC(p[5]),b[26],s.MC(p[6]),b[102],s.F.entities(s.MB(p[32])),b[27],(_.unshift({class:b[103],name:b[104]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[29],s.MB(p[7]),b[30]].join(""),_r_(e)}return a+=b[0],e=a,_i_("3bb:f9b9504b"),e+=["",b[1]].join(""),s.MJ(s.MB(p[0]))&&s.MJ(s.array_length(s.MB(p[0])))&&(e=function(e){_i_("3bb:14908cc8"),e+=[b[3],s.ME(b[4],s.MB,s.MN,s.MO(s.array_length(s.MB(p[0])),null,b[4])),b[5]].join("");var t=s.MC(p[0])||[];_.unshift({fe_notified_guest_name:null});for(var i,n=1,a=t.length;n<=a;n++)_[0].fe_notified_guest_name=i=t[n-1],e+=[b[6],(_.unshift({class:b[7],color:"#008009","data-width":b[8],name:b[9],role:b[10],width:b[8]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[11],s.F.entities(i),b[12]].join("");return _.shift(),e+=b[13],_r_(e)}(e+=b[2]),e+=b[0]),e+=b[14],s.MD(p[29])&&(e+=b[2],t=e,_i_("3bb:eb737d9b"),t+=[b[15],s.ME(b[16],s.MB,s.MN,null),b[17],(_.unshift({name:b[18],role:b[10],width:b[19]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[20]].join(""),s.MN(p[1],(_.unshift({lang_name:s.MB(p[2])}),d=s.ME(b[21],s.MB,s.MN,null),_.shift(),d)),t+=b[22],_.unshift({in_caption:s.MB(p[1]),in_lang_code:s.MB(p[2])}),t=l(t),_.shift(),t+=b[31],s.MN(p[1],(_.unshift({lang_name:s.MB(p[8])}),d=s.ME(b[32],s.MB,s.MN,null),_.shift(),d)),t+=b[22],_.unshift({in_caption:s.MB(p[1]),in_lang_code:s.MB(p[8])}),t=l(t),_.shift(),t+=b[31],s.MN(p[1],(_.unshift({lang_name:s.MB(p[9])}),d=s.ME(b[33],s.MB,s.MN,null),_.shift(),d)),t+=b[22],_.unshift({in_caption:s.MB(p[1]),in_lang_code:s.MB(p[9])}),t=l(t),_.shift(),t=function(e){_i_("3bb:132fc153"),e+=[b[35],s.ME(b[36],s.MB,s.MN,null),b[37],s.ME(b[38],s.MB,s.MN,null),b[39],s.F.entities(s.MJ(s.MB(p[10])+""=="SENDING")?" disabled":""),b[40]].join(""),s.MN("guest_list_is_empty",s.MK(s.defined(s.MB(p[11])))||s.MJ(0==s.array_length(s.MB(p[11])))),e+=b[41],s.MN("guest_list_length",s.MB(p[12])?1:s.array_length(s.MB(p[11]))),e+=b[42];var t,i=s.seq(0,s.MI(s.MB(p[13]))-s.MI(1))||[];_.unshift({index:null});for(var n,a=1,r=i.length;a<=r;a++)_[0].index=n=i[a-1],e+=b[43],_.unshift({in_add_delete_button:s.MJ(0<n.value),in_index:n.value,in_is_empty:s.MB(p[12]),in_value:s.MB(p[12])?"":s.MC(p[11])[n.value]}),t=e,_i_("3bb:23b66606"),t+=b[44],s.MN("in_add_caption",s.MJ(0==s.MB(p[14]))||s.MJ(s.MC(p[15])+""=="mdot")?"1":""),t+=b[45],_.unshift({in_field_add_caption:s.MB(p[24]),in_field_id:"guest-name_"+s.MB(p[14]),in_field_name:b[67],in_field_value:s.MB(p[25])?"":s.MC(p[26]).name}),t=o(t),_.shift(),t+=b[0],_.unshift({in_field_add_caption:s.MB(p[24]),in_field_id:"guest-phone_"+s.MB(p[14]),in_field_name:b[68],in_field_value:s.MB(p[25])?"":s.MC(p[26]).phone}),t=o(t),_.shift(),t+=b[0],_.unshift({in_field_add_caption:s.MB(p[24]),in_field_id:"guest-email_"+s.MB(p[14]),in_field_name:b[69],in_field_value:s.MB(p[25])?"":s.MC(p[26]).email}),t=o(t),_.shift(),t+=b[14],s.MD(p[27])&&(t+=[b[70],(_.unshift({color:"#0071C2",height:b[8],name:b[71],width:b[8]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[72]].join("")),t+=b[73],e=_r_(t),_.shift(),e+=b[41];return _.shift(),e+=[b[74],s.F.entities(s.MJ(s.MB(p[10])+""=="SENDING")?"disabled":""),b[75],s.ME(b[76],s.MB,s.MN,null),b[77],s.F.entities(s.MJ(s.MB(p[10])+""=="SENDING")?"disabled":""),b[78],s.ME(b[79],s.MB,s.MN,null),s.F.entities(s.MJ(s.MB(p[10])+""=="SENDING")?"...":""),b[80],s.F.entities(s.MJ(s.MB(p[10])+""=="SENDING")?"disabled":""),b[78],s.ME(b[81],s.MB,s.MN,null),b[82]].join(""),s.MJ(s.MB(p[10])+""=="SENT_FAILURE")&&(e+=[b[83],(_.unshift({class:b[7],name:b[84],role:b[10],width:b[8]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[85],s.F.entities(s.MB(p[28])),b[86]].join("")),e+=b[87],_r_(e)}(t+=b[34]),t+=b[88],e=_r_(t),e+=b[0]),e+=b[14],_.unshift({in_is_primary:s.MK(s.MB(p[29]))}),i=e,_i_("3bb:a8a9cb28"),i+=[b[89],s.F.entities(s.MB(p[30])?"bui-button--primary":"bui-button--secondary"),b[90],s.F.entities(s.MB(p[31])?"is-loading":""),b[91],s.ME(b[92],s.MB,s.MN,null),b[17],(_.unshift({name:b[18],role:b[10],width:b[19]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[93]].join(""),s.MN("fe_auth_form__dropdown__option_index",0),i+=b[22],s.MN(p[1],(_.unshift({lang_name:s.MB(p[2])}),d=s.ME(b[94],s.MB,s.MN,null),_.shift(),d)),i+=b[22],_.unshift({in_auth_form__dropdown__option_index:s.MB(p[35]),in_caption:s.MB(p[1]),in_print_lang_url:s.MB(p[36]),in_translation__lang_param:s.MB(p[2])}),i=c(i),_.shift(),i+=b[31],s.MN("fe_auth_form__dropdown__option_index",s.MI(s.MB(p[35]))+s.MI(1)),i+=b[22],s.MN(p[1],(_.unshift({lang_name:s.MB(p[8])}),d=s.ME(b[105],s.MB,s.MN,null),_.shift(),d)),i+=b[22],_.unshift({in_auth_form__dropdown__option_index:s.MB(p[35]),in_caption:s.MB(p[1]),in_print_lang_url:s.MB(p[37]),in_translation__lang_param:s.MB(p[8])}),i=c(i),_.shift(),i+=b[31],s.MN("fe_auth_form__dropdown__option_index",s.MI(s.MB(p[35]))+s.MI(1)),i+=b[22],s.MN(p[1],(_.unshift({lang_name:s.MB(p[9])}),d=s.ME(b[106],s.MB,s.MN,null),_.shift(),d)),i+=b[22],_.unshift({in_auth_form__dropdown__option_index:s.MB(p[35]),in_caption:s.MB(p[1]),in_print_lang_url:s.MB(p[38]),in_translation__lang_param:s.MB(p[9])}),i=c(i),_.shift(),i+=b[107],e=_r_(i),_.shift(),e+=b[14],s.MD(p[43])&&(e+=b[2],n=e,_i_("3bb:cb4d302b"),n+=[b[108],s.ME(b[109],s.MB,s.MN,null),b[17],(_.unshift({name:b[18],role:b[10],width:b[19]}),d=s.HELPER("icon",_[0]),_.shift(),d),b[110]].join(""),s.MN(p[1],(_.unshift({lang_name:s.MB(p[2])}),d=s.ME(b[111],s.MB,s.MN,null),_.shift(),d)),n+=b[22],_.unshift({in_caption:s.MB(p[1]),in_lang_url:s.MB(p[40]),in_translation__lang_param:s.MB(p[2])}),n=r(n),_.shift(),n+=b[22],s.MN(p[1],(_.unshift({lang_name:s.MB(p[2])}),d=s.ME(b[115],s.MB,s.MN,null),_.shift(),d)),n+=b[22],_.unshift({in_caption:s.MB(p[1]),in_lang_url:s.MB(p[41]),in_translation__lang_param:s.MB(p[8])}),n=r(n),_.shift(),n+=b[22],s.MN(p[1],(_.unshift({lang_name:s.MB(p[9])}),d=s.ME(b[116],s.MB,s.MN,null),_.shift(),d)),n+=b[22],_.unshift({in_caption:s.MB(p[1]),in_lang_url:s.MB(p[42]),in_translation__lang_param:s.MB(p[9])}),n=r(n),_.shift(),n+=b[107],e=_r_(n),e+=b[0]),e+=[b[117],"",b[48]].join(""),a=_r_(e),a+=b[48],_r_(a)})}()),B.define("component/business/payments/auth-form/auth-form-print",function(e,t,i){_i_("3bb:00b5122c");var n=e("component/business/payments/auth-form/store"),a=B.require("legacy-event-bus");i.exports=e("component/reactive").extend({template:"auth_form_print",initialize:function(){_i_("3bb:81a7aab4"),n.subscribe(this.render.bind(this)),n.subscribe(this.updateBUI.bind(this)),a.bind("myreservations-print.print",this._startLoading.bind(this)),a.bind("myreservations-print.printEnd",this._stopLoading.bind(this)),this.render(),_r_()},updateBUI:function(){_i_("3bb:ecae0215"),window.BUI.initComponents(),_r_()},getState:function(){return _i_("3bb:5f622c48"),_r_(n.getState())},_targetBelongsToForm:function(e){return _i_("3bb:b09806b5"),_r_(0<e.closest(this.$el).length)},_startLoading:function(e){if(_i_("3bb:65a011eb"),!this._targetBelongsToForm(e))return _r_();n.dispatch({type:"START_LOADING",payload:{indexOfLoadingOption:+e.attr("data-order-index")}}),_r_()},_stopLoading:function(e){if(_i_("3bb:514805a4"),!this._targetBelongsToForm(e))return _r_();n.dispatch({type:"STOP_LOADING"}),_r_()}}),_r_()}),B.define("component/business/payments/company-card/onboarding/store",function(e,t,i){_i_("3bb:9b9f76df");var n=e("reducer-store"),a={b_secure_hostname:B.env.b_secure_hostname,fe_bbt_ga_category:B.env.fe_bbt_ga_category,b_query_params_with_lang:B.env.b_query_params_with_lang,airplusStartLink:"<a target='_blank' data-ga-track='click|"+B.env.fe_bbt_ga_category+"|AirPlus Onboarding|Navigate to AirPlus website "+B.env.b_reg_user_id+"' href='https://virtualpayment.airplus.com'>",page:"choose-provider",isAnimated:!0,isLegalTermOneClicked:!1,isLegalTermTwoClicked:!1,isLegalTermThreeClicked:!1,itemizedChargesEnabled:!0,providerAmexClicked:!1,providerEnettClicked:!1,providerWexClicked:!1,providerSharedMasterCardClicked:!1,providerOtherClicked:!1,providerOtherValue:"",isLoading:!1,hasAjaxNumberError:!1,hasAjaxGeneralError:!1,card:{name:"",expiry:"",number:"",isLoading:!1,loadingStatus:"none",isCompanyShared:!0,hasInvalidName:!1,isNameDirty:!1,hasInvalidNumber:!1,isNumberDirty:!1,hasInvalidExpiry:!1,isExpiryDirty:!1,isInvalid:!0,hasInvalidSharedWithEmail:!1,sharedWithEmail:"",sharedWith:[],hasPaymentRestrictions:!1,itemizedCharges:{room:!0,breakfast:!1,taxes:!1,parking:!1,internet:!1,all:!1,other:!1,otherText:""}}};i.exports=new n(function(e,t){switch(_i_("3bb:e8484bc7"),t.type){case"CHANGE_PAGE":return _r_(Object.assign({},e,{page:t.payload.page,isAnimated:t.payload.isAnimated}));case"CHANGE_LOADING":return _r_(Object.assign({},e,{isLoading:t.payload.isLoading}));case"AJAX_NUMBER_ERROR":return _r_(Object.assign({},e,{hasAjaxNumberError:t.payload.hasAjaxNumberError}));case"AJAX_GENERAL_ERROR":return _r_(Object.assign({},e,{hasAjaxGeneralError:t.payload.hasAjaxGeneralError}));case"ANIMATE":return _r_(Object.assign({},e,{isAnimated:t.payload.isAnimated}));case"UPDATE_CARD":return _r_(Object.assign({},e,{card:t.payload.card}));case"PROVIDER_OTHER_VALUE_CHANGE":return _r_(Object.assign({},e,{providerOtherValue:t.payload.providerOtherValue}));case"PROVIDER_CLICKED":return _r_(Object.assign({},e,{providerAmexClicked:t.payload.providerAmexClicked,providerEnettClicked:t.payload.providerEnettClicked,providerWexClicked:t.payload.providerWexClicked,providerSharedMasterCardClicked:t.payload.providerSharedMasterCardClicked,providerOtherClicked:t.payload.providerOtherClicked}));case"LEGAL_CHECKBOX_CLICK":return _r_(Object.assign({},e,{isLegalTermOneClicked:t.payload.isLegalTermOneClicked,isLegalTermTwoClicked:t.payload.isLegalTermTwoClicked,isLegalTermThreeClicked:t.payload.isLegalTermThreeClicked}));default:return _r_(e)}_r_()},a),_r_()}),booking.jstmpl("company_settings_company_cards_onboarding",function(){_i_("3bb:dcc31ce5");var r,o=["\n    ",'\n<div id="company-settings-airplus-onboarding"\n    data-component="business/payments/company-card/onboarding/onboarding"\n    class="w-section company-section--permissions w-box">\n\n    ','\n        <div class="w-section-head">\n            <div class="w-section-head__title">\n                ',"/private/bbp_shared_card_setup_header/name",'\n            </div>\n            <div class="w-section-head__subtitle">\n                ',"/private/bbp_shared_card_setup_subheader/name",'\n            </div>\n        </div>\n        <div class="w-section-content ',"animate",'">\n            <p class="w-section-content__text">\n                ',"/private/bbp_shared_card_setup_body/name",'\n            </p>\n            <a class="bui-link bui-link--primary" href="#company-settings-airplus-onboarding" title="AirPLus" on:click="onAirPlusProviderClick">\n                ',"/private/bbp_shared_card_setup_airplus/name",'\n            </a>\n            <hr class="divider"/>\n            <a class="bui-link bui-link--primary" href="#company-settings-airplus-onboarding" title="Other provider" on:click="onOtherProviderClick">\n                ',"/private/bbp_shared_card_setup_other/name","\n            </a>\n        </div>\n    ","\n\n    ",'">\n            <p class="w-section-content__text header">\n                ',"/private/bbp_airplus_other_pay_header/name",'\n            </p>\n            <p>\n                <label class="bui-checkbox">\n                    <input class="bui-checkbox__input" name="amex" type="checkbox" on:click="onAmexClick" ',"checked"," ","disabled",' />\n                    <span class="bui-checkbox__label">\n                        ',"/private/bbp_airplus_other_pay_amex/name",'\n                    </span>\n                </label>\n            </p>\n            <p>\n                <label class="bui-checkbox">\n                    <input class="bui-checkbox__input" name="ennet" type="checkbox" on:click="onEnettClick" ',"/private/bbp_airplus_other_pay_enett/name",'\n                    </span>\n                </label>\n            </p>\n            <p>\n                <label class="bui-checkbox">\n                    <input class="bui-checkbox__input" name="wex" type="checkbox" on:click="onWexClick" ',"/private/bbp_airplus_other_pay_wex/name",'\n                    </span>\n                </label>\n            </p>\n            <p>\n                <label class="bui-checkbox">\n                    <input class="bui-checkbox__input" name="shared-master" type="checkbox" on:click="onSharedMcClick" ',"/private/bbp_airplus_other_pay_shared/name","\n                    </span>\n                </label>\n            </p>\n            <p ",'class="m-t-15"','class="m-b-50"','>\n                <label class="bui-checkbox">\n                    <input class="bui-checkbox__input" name="other" type="checkbox" on:click="onOtherCheckboxClick" ','/>\n                    <span class="bui-checkbox__label">\n                        ',"/private/bbp_airplus_other_pay_other/name","\n                    </span>\n                </label>\n            </p>\n            ",'\n                <p class="m-b-50">\n                    <div class="bui-input-text__content">\n                        <div class="bui-input-text__field">\n                            <input class="bui-input-text__control" type="text" placeholder="','" value="','" on:keyup="onProviderOtherChange" ','/>\n                            <div class="bui-input-text__decorator"></div>\n                        </div>\n                    </div>\n                </p>\n            ',"\n            <p>\n                ",'\n                    <button class="bui-button bui-button--primary bui-is-loading" type="button">\n                        <span class="bui-button__loader">\n                            <div class="bui-spinner bui-spinner--light bui-spinner--size-small">\n                                <div class="bui-spinner__inner"></div>\n                            </div>\n                        </span>\n                        <span class="bui-button__text">\n                            ',"/private/bbp_airplus_other_pay_cta_submit/name","\n                        </span>\n                    </button>\n                ",'\n                    <button class="bui-button bui-button--primary" on:click="onModalSubmitClick">\n                        <span class="bui-button__text">\n                            ','\n                <button type="button" class="bui-button bui-button--secondary w-float-right" on:click="onOverviewCancelClick" ','>\n                    <span class="bui-button__text">\n                        ',"/private/bbp_airplus_other_pay_cta_cancel/name","\n                    </span>\n                </button>\n            </p>\n        </div>\n    ","/private/bbp_airplus_other_pay_thanks/name","\n            </p>\n        </div>\n    ","/private/bbp_airplus_requirements_header/name","/private/bbp_airplus_requirements_subheader/name","/private/bbp_airplus_setup_required/name",'\n            </p>\n            <ul class="bui-list bui-list--unordered">\n               <li class="bui-list__item">\n                   ',"/private/bbp_airplus_setup_required_1/name","</strong>","</a>","<strong>",'\n               </li>\n               <li class="bui-list__item">\n                   ',"/private/bbp_airplus_setup_required_2/name","/private/bbp_airplus_setup_required_3/name",'\n               </li>\n            </ul>\n            <button class="bui-button bui-button--primary" type="button" on:click="onStartConfigurationClick">\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_required_next/name",'\n                </span>\n            </button>\n            <a class="bui-link bui-link--primary cancel-link" title="AirPLus" on:click="onOverviewCancelClick">\n               ',"/private/bbp_airplus_setup_required_cancel/name","/private/bbp_airplus_setup_header/name","/private/bbp_airplus_setup_subheader/name",'">\n            <ol class="bui-nav-progress bui-nav-progress--horizontal">\n                <li class="bui-nav-progress__item bui-nav-progress__item--active">\n                    <span class="bui-nav-progress__indicator">\n                        1\n                    </span>\n                    <strong class="bui-nav-progress__title">\n                        ',"/private/bbp_airplus_setup_breadcrumb_legal/name",'\n                    </strong>\n                </li>\n                <li role="presentation" class="bui-nav-progress__divider"></li>\n                <li class="bui-nav-progress__item bui-nav-progress__item--disabled">\n                    <span class="bui-nav-progress__indicator">\n                        2\n                    </span>\n                    <strong class="bui-nav-progress__title">\n                        ',"/private/bbp_airplus_setup_breadcrumb_card/name",'\n                    </strong>\n                </li>\n                <li role="presentation" class="bui-nav-progress__divider"></li>\n                <li class="bui-nav-progress__item bui-nav-progress__item--disabled">\n                    <span class="bui-nav-progress__indicator">\n                        3\n                    </span>\n                    <strong class="bui-nav-progress__title">\n                    ',"/private/bbp_airplus_setup_breadcrumb_dbi/name",'\n                    </strong>\n                </li>\n            </ol>\n            <p class="w-section-content__text header">\n                ',"/private/bbp_airplus_setup_step_1_legal_header/name",'\n            </p>\n            <p class="w-section-content__text">\n                ',"\n                ","/private/bbp_airplus_setup_step_1_body/name",'\n            </p>\n            <label class="bui-checkbox legal-checkbox">\n                <input class="bui-checkbox__input"\n                    type="checkbox"\n                    on:click="onLegalCheckboxOneClick"\n                    ','checked="checked"','/>\n                <span class="bui-checkbox__label">\n                    ',"/private/bbp_airplus_setup_step_1_bullet_1/name",'\n                </span>\n            </label>\n            <label class="bui-checkbox legal-checkbox">\n                <input class="bui-checkbox__input"\n                    type="checkbox"\n                    on:click="onLegalCheckboxTwoClick"\n                    ',"/private/bbp_airplus_setup_step_1_bullet_2/name",'\n                </span>\n            </label>\n            <label class="bui-checkbox legal-checkbox">\n                <input class="bui-checkbox__input"\n                    type="checkbox"\n                    on:click="onLegalCheckboxThreeClick"\n                    ',"/private/bbp_airplus_setup_step_1_bullet_3/name",'\n                </span>\n            </label>\n            <button class="bui-button bui-button--secondary" type="button" on:click="onLegalReqCancelClick">\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_step_1_cancel/name",'\n                </span>\n            </button>\n            <button class="bui-button bui-button--primary w-float-right"\n                type="button"\n                on:click="onLegalReqNextClick"\n                ','disabled="disabled"','>\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_step_1_next/name","\n                </span>\n            </button>\n        </div>\n    ",'">\n            <ol class="bui-nav-progress bui-nav-progress--horizontal">\n                <li class="bui-nav-progress__item bui-nav-progress__item--active">\n                    <span class="bui-nav-progress__indicator">\n                        <svg class="bui-nav-progress__icon" xmlns="http://www.w3.org/2000/svg" width="41" height="32" viewBox="0 0 41 32" aria-hidden="true" role="presentation">\n                            <path class="bui-f-fill-white" d="M34.7 0l5.9 5.8L14.3 32 0 17.8 5.9 12l8.4 8.3L34.7 0z"/>\n                        </svg>\n                    </span>\n                    <strong class="bui-nav-progress__title">\n                        ','\n                    </strong>\n                </li>\n                <li role="presentation" class="bui-nav-progress__divider"></li>\n                <li class="bui-nav-progress__item bui-nav-progress__item--active">\n                    <span class="bui-nav-progress__indicator">\n                        2\n                    </span>\n                    <strong class="bui-nav-progress__title">\n                        ',"/private/bbp_airplus_setup_step_2_card_header/name","/private/bbp_airplus_setup_step_2_body/name","\n            </p>\n            ",'\n                <div class="bui-alert bui-alert--error bui-u-bleed@small credit-card-alert" role="status">\n                    <span class="icon--hint bui-alert__icon" role="presentation">\n                        ',"vertical-align-initial","iconset/warning","presentation","24",'\n                    </span>\n                    <div class="bui-alert__description">\n                        <p class="bui-alert__text">\n                            ',"/private/bbp_airplus_card_error/name","<strong class='bui-f-font-strong'>","\n                        </p>\n                    </div>\n                </div>\n            ","\n            ",'\n                    </span>\n                    <div class="bui-alert__description">\n                        <p class="bui-alert__text">\n                            <strong class="bui-f-font-strong">\n                                ',"/private/bbt_settings_permissions_error/name","\n                            </strong>\n                        </p>\n                    </div>\n                </div>\n            ",'\n            <div class="company-form-container">\n                <div class="row-fluid w-form-group">\n                    <div class="span12">\n                        <div class="w-form-field">\n                            <label class="w-form-label w-form-label--thin w-form-label--required">\n                                ',"/private/bbt_settings_card_permissions_name/name",'\n                                <span class="w-form-label__sup">\n                                    \n                                </span>\n                            </label>\n                            <input type="text"\n                                class="airplus-card-name bootstrapped-input input-text input-block-level js-card-name ',"has-error",'"\n                                ','\n                                maxlength="255"\n                                placeholder="',"/private/bbt_settings_card_permissions_name_placeholder/name",'"\n                                autocomplete="off"\n                                on:keyup="onNameChange"\n                                value="','">\n                        </div>\n                    </div>\n                </div>\n                <div class="row-fluid w-form-group">\n                    <div class="span6">\n                        <div class="w-form-field">\n                            <label class="w-form-label w-form-label--thin w-form-label--required">\n                                ',"/private/bbp_airplus_setup_step_2_card/name","/private/bbp_airplus_setup_step_2_card_placeholder/name",'"\n                                autocomplete="off"\n                                on:keyup="onNumberChange"\n                                value="','">\n                        </div>\n                    </div>\n                    <div class="span6">\n                        <div class="w-form-field">\n                            <label class="w-form-label w-form-label--thin w-form-label--required">\n                                ',"/private/bbp_airplus_setup_step_2_expires/name",'\n                                <span class="w-form-label__sup">\n                                    \n                                </span>\n                            </label>\n                            <input type="text"\n                                class="airplus-card-name airplus-expiry bootstrapped-input input-text input-block-level js-card-name ',"/private/bbp_airplus_setup_step_2_date_placeholder/name",'"\n                                autocomplete="off"\n                                on:keyup="onExpiryChange"\n                                value="','">\n                        </div>\n                    </div>\n                </div>\n                ','\n                    <div class="row-fluid w-form-group">\n                        <div class="span12">\n                            <div class="w-form-field">\n                                <label class="w-form-label w-form-label--thin w-form-label--required">\n                                    ',"/private/bb_payments_create_card_charges_intro/name",'\n                                    <span class="w-form-label__sup">\n                                        \n                                    </span>\n                                </label>\n                            </div>\n                            <div class="row-fluid">\n                                <div class="span6">\n                                    <label class="bui-checkbox">\n                                        <input class="bui-checkbox__input" type="checkbox" checked="checked" disabled/>\n                                        <span class="bui-checkbox__label">\n                                            ',"/private/bb_payments_create_card_charges_room/name",'\n                                        </span>\n                                    </label>\n                                </div>\n                                <div class="span6">\n                                    <label class="bui-checkbox">\n                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                            data-key="breakfast"\n                                            on:click="onItemizedChargesCheckboxClick"\n                                            ',"\n                                            ",'\n                                                checked="checked"\n                                            ','\n                                            type="checkbox" />\n                                        <span class="bui-checkbox__label">\n                                            ',"/private/bb_payments_create_card_charges_bfast/name",'\n                                        </span>\n                                    </label>\n                                </div>\n                            </div>\n                            <div class="row-fluid">\n                                <div class="span6">\n                                    <label class="bui-checkbox">\n                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                            data-key="taxes"\n                                            on:click="onItemizedChargesCheckboxClick"\n                                            ',"/private/bb_payments_create_card_charges_taxes/name",'\n                                        </span>\n                                    </label>\n                                </div>\n                                <div class="span6">\n                                    <label class="bui-checkbox">\n                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                            data-key="parking"\n                                            on:click="onItemizedChargesCheckboxClick"\n                                            ',"/private/bb_payments_create_card_charges_park/name",'\n                                        </span>\n                                    </label>\n                                </div>\n                            </div>\n                            <div class="row-fluid">\n                                <div class="span6">\n                                    <label class="bui-checkbox">\n                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                            data-key="internet"\n                                            on:click="onItemizedChargesCheckboxClick"\n                                            ',"/private/bb_payments_create_card_charges_internet/name",'\n                                        </span>\n                                    </label>\n                                </div>\n                                <div class="span6">\n                                    <label class="bui-checkbox">\n                                        <input class="bui-checkbox__input js-itemized-charges-checkbox"\n                                            data-key="all"\n                                            on:click="onItemizedChargesCheckboxClick"\n                                            ',"/private/bb_payments_create_card_charges_all/name","\n                                        </span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ",'\n                <div class="row-fluid w-form-group">\n                    <div class="span12">\n                        <label class="w-form-label w-form-label--thin w-form-label--required">\n                            ',"/private/bbt_settings_card_permissions_share/name",'\n                            <span class="w-form-label__sup">\n                                \n                            </span>\n                        </label>\n                        <label class="airplus-shared-inline">\n                            <input type="radio"\n                                name="shared-with"\n                                value="all"\n                                class="w-spacer-right"\n                                on:click="onSharedWithClick"\n                                data-index="',"\n                                ",">\n                            ","/private/bbt_settings_card_permissions_share_company/name",'\n                        </label>\n                        <label class="w-spacer-left airplus-shared-inline">\n                            <input type="radio"\n                                name="shared-with"\n                                value="emails"\n                                class="w-spacer-right"\n                                on:click="onSharedWithClick"\n                                data-index="',"/private/bbt_settings_card_permissions_share_selected/name","\n                        </label>\n                    </div>\n                </div>\n                ",'\n                    <div class="row-fluid">\n                        <div class="span6">\n                            <input type="text"\n                                class="js-shared-with-email bootstrapped-input input-text input-block-level ','"\n                                maxlength="255"\n                                placeholder="',"/private/bbt_settings_card_permissions_email_placeholder/name",'"\n                                autocomplete="off"\n                                on:keyup="onSharedWithEmailChange"\n                                ','\n                                value="','">\n                        </div>\n                        <div class="span4">\n                            <a href="javascript:void(0)"\n                                on:click="onAddSharedEmailClick"\n                                class="js-add-shared-email ','">\n                                ',"/private/bbt_settings_card_permissions_add_cta/name","\n                            </a>\n                        </div>\n                    </div>\n                    ",'\n                        <div class="row-fluid w-form-group">\n                            <div class="span6" data-index="','\n                                    <div class="w-spacer-right" data-email-index="','">\n                                        ',"airplus-remove-shared","iconset/trash","onRemoveSharedClick","small","\n                                        ","\n                                    </div>\n                                ","\n                            </div>\n                        </div>\n                    ",'\n            </div>\n            <button class="bui-button bui-button--secondary" type="button" on:click="onCardDetailsBackClick">\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_step_2_back/name","\n                </span>\n            </button>\n            ",'\n                <button class="bui-button bui-button--primary bui-is-loading w-float-right" type="button">\n                    <span class="bui-button__loader">\n                        <div class="bui-spinner bui-spinner--light bui-spinner--size-small">\n                            <div class="bui-spinner__inner"></div>\n                        </div>\n                    </span>\n                    <span class="bui-button__text">\n                        ',"/private/bbp_airplus_setup_step_2_next/name","\n                    </span>\n                </button>\n            ",'\n                <button class="bui-button bui-button--primary w-float-right" type="button" on:click="onCardDetailsNextClick" ',"\n        </div>\n    ",'\n                    </strong>\n                </li>\n                <li role="presentation" class="bui-nav-progress__divider"></li>\n                <li class="bui-nav-progress__item bui-nav-progress__iteme">\n                    <span class="bui-nav-progress__indicator">\n                        <svg class="bui-nav-progress__icon" xmlns="http://www.w3.org/2000/svg" width="41" height="32" viewBox="0 0 41 32" aria-hidden="true" role="presentation">\n                            <path class="bui-f-fill-white" d="M34.7 0l5.9 5.8L14.3 32 0 17.8 5.9 12l8.4 8.3L34.7 0z"/>\n                        </svg>\n                    </span>\n                    <strong class="bui-nav-progress__title">\n                        ','\n                    </strong>\n                </li>\n                <li role="presentation" class="bui-nav-progress__divider"></li>\n                <li class="bui-nav-progress__item bui-nav-progress__item--active">\n                    <span class="bui-nav-progress__indicator">\n                        3\n                    </span>\n                    <strong class="bui-nav-progress__title">\n                    ',"/private/bbp_airplus_setup_step_3_dbi_header/name","/private/bbp_airplus_setup_step_3_body/name","\n            </p>\n            \n            \n            \n            ",'\n<div id="company-settings-company-cards"\n    data-component="business/payments/company-cards/company-settings/company-settings-company-cards"\n    class="w-section company-section--permissions w-box">\n\n    <div class="w-section-head">\n        <div class="w-section-head__title">\n            ',"/private/bb_company_card_header/name",'\n        </div>\n        <div class="w-section-head__subtitle">\n            ',"/private/bb_company_card_subheader/name",'\n        </div>\n    </div>\n\n    <div class="w-section-content w-section-content--paddingless">\n        <div class="w-table w-table--with-icons w-table--no-border-top">\n            <div class="row-fluid w-table__row">\n                <div class="span2 w-table__cell w-text-bold">\n                    ',"/private/bb_company_card_field_name/name",'\n                </div>\n                <div class="span2 w-table__cell w-text-bold w-text-center">\n                    ',"/private/bb_company_card_field_code/name","/private/bb_company_card_displayed/name",'\n                </div>\n                <div class="span2 w-table__cell w-text-bold w-text-center ',"w-text-lh-14",'">\n                    ',"/private/bb_company_card_required/name",'\n                </div>\n                <div class="span4 w-table__cell w-text-bold ',"/private/bb_company_card_accepted_values_header/name",'\n                    <i class="bicon-questionmarkcircle company-settings-accepted-values-tooltip"\n                        data-component="tooltip"\n                        data-tooltip-text="',"/private/bb_company_card_accepted_values_tooltip/name",'">\n                    </i>\n                </div>\n            </div>\n\n            ','\n                    <div class="row-fluid w-table__row company-airplus-fields">\n                        ','\n                            <span class="company-airplus-fields-success">\n                                <i class="bicon-checkmark-circle"></i>\n                                ',"/private/bbt_settings_permissions_success/name","\n                            </span>\n                        ","\n                        ",'\n                            <span class="company-airplus-fields-error">\n                                <i class="bicon-close"></i>\n                                ','\n                            <span class="company-airplus-fields-pending">\n                                <div class="w-form-loading">\n                                    <span class="w-form-loading-content__inline">\n                                        ',"/private/bbt_settings_permissions_saving/name","\n                                    </span>\n                                </div>\n                            </span>\n                        ","\n                    </div>\n                ",'\n                    <div class="row-fluid w-table__row company-airplus-fields">\n                        <span class="company-airplus-fields-error">\n                            <i class="bicon-close"></i>\n                            \n                            ',"/private/bbp_company_card_settings_value_error/name","\n                        </span>\n                    </div>\n                ",'\n                    <div class="row-fluid w-table__row">\n                        <div class="span2 w-table__cell">\n                            ',"\n                                    ","/private/bbp_cc_project_fields_dbiae/name","/private/bbp_cc_project_fields_dbiak/name","/private/bbp_cc_project_fields_dbiau/name","/private/bbp_cc_project_fields_dbids/name","/private/bbp_cc_project_fields_dbiik/name","/private/bbp_cc_project_fields_dbipk/name","/private/bbp_cc_project_fields_dbipr/name","/private/bbp_cc_project_fields_dbiks/name","\n                            ",'\n                        </div>\n                        <div class="span2 w-table__cell w-text-center">\n                            ','\n                        </div>\n                        <div class="span2 w-table__cell w-text-center">\n                            <input type="checkbox"\n                                data-index="','"\n                                class="w-input-centered w-input-middle js-is-displayed"\n                                ','>\n                        </div>\n                        <div class="span2 w-table__cell w-text-center ','">\n                            <input type="checkbox"\n                                data-index="','"\n                                class="w-input-centered w-input-middle js-is-required"\n                                ','>\n                        </div>\n                        <div class="span4 w-table__cell ','">\n                            <input class="bootstrapped-input input-block-level input-text airplus-dbi-input js-airplus-dbi-input"\n                                data-index="','"\n                                value="','"\n                                placeholder="',"/private/bb_company_card_placeholder/name",">\n                        </div>\n                    </div>\n                ","\n        </div>\n    </div>\n</div>\n","\n",'\n\n            <button class="bui-button bui-button--secondary" type="button" on:click="onDbiDetailsBackClick" disabled="disabled">\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_step_3_back/name",'\n                </span>\n            </button>\n            <button class="bui-button bui-button--primary w-float-right" type="button" on:click="onDbiDetailsNextClick">\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_step_3_next/name","/private/bbp_airplus_setup_complete_header/name","/private/bbp_airplus_setup_complete_body_1/name","/private/bbp_airplus_setup_complete_body_2/name","",'\n            </p>\n            <p class="w-section-content__text completed-last-paragraph">\n                ',"/private/bbp_airplus_setup_complete_body_3/name",'\n            </p>\n            <button class="bui-button bui-button--secondary" type="button" on:click="onCompleteBackClick">\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_complete_back/name",'\n                </span>\n            </button>\n            <button class="bui-button bui-button--primary w-float-right" type="button" on:click="onCompleteNextClick">\n                <span class="bui-button__text">\n                    ',"/private/bbp_airplus_setup_complete_finish/name","\n                </span>\n            </button>\n\n        </div>\n    ","\n</div>\n"],l=["isAnimated","page","providerAmexClicked","isLoading","providerEnettClicked","providerWexClicked","providerSharedMasterCardClicked","providerOtherClicked","providerOtherValue","airplusStartLink","b_secure_hostname","b_query_params_with_lang","end_link","start_link","isLegalTermOneClicked","isLegalTermTwoClicked","isLegalTermThreeClicked","hasAjaxNumberError","hasAjaxGeneralError","card","itemizedChargesEnabled","b_lang","dbiProps"];return _r_(function(_){_i_("3bb:0f88dc07");var e="",s=this.fn;return e=function(e){if(_i_("3bb:a506d21b"),e+=["",o[1]].join(""),s.MJ(s.MB(l[1])+""=="choose-provider")&&(e+=[o[2],s.ME(o[3],s.MB,s.MN,null),o[4],s.ME(o[5],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e+=[o[8],s.ME(o[9],s.MB,s.MN,null),o[10],s.ME(o[11],s.MB,s.MN,null),o[12],s.ME(o[13],s.MB,s.MN,null),o[14]].join("")),e+=o[15],s.MJ(s.MB(l[1])+""=="other-provider")&&(e+=[o[2],s.ME(o[3],s.MB,s.MN,null),o[4],s.ME(o[5],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e+=[o[16],s.ME(o[17],s.MB,s.MN,null),o[18]].join(""),s.MD(l[2])&&(e+=o[19]),e+=o[20],s.MD(l[3])&&(e+=o[21]),e+=[o[22],s.ME(o[23],s.MB,s.MN,null),o[24]].join(""),s.MD(l[4])&&(e+=o[19]),e+=o[20],s.MD(l[3])&&(e+=o[21]),e+=[o[22],s.ME(o[25],s.MB,s.MN,null),o[26]].join(""),s.MD(l[5])&&(e+=o[19]),e+=o[20],s.MD(l[3])&&(e+=o[21]),e+=[o[22],s.ME(o[27],s.MB,s.MN,null),o[28]].join(""),s.MD(l[6])&&(e+=o[19]),e+=o[20],s.MD(l[3])&&(e+=o[21]),e+=[o[22],s.ME(o[29],s.MB,s.MN,null),o[30]].join(""),s.MD(l[7])?e+=o[31]:e+=o[32],e+=o[33],s.MD(l[7])&&(e+=o[19]),e+=o[20],s.MD(l[3])&&(e+=o[21]),e+=[o[34],s.ME(o[35],s.MB,s.MN,null),o[36]].join(""),s.MD(l[7])&&(e+=[o[37],s.ME(o[35],s.MB,s.MN,null),o[38],s.F.entities(s.MC(l[8])),o[39]].join(""),s.MD(l[3])&&(e+=o[21]),e+=o[40]),e+=o[41],s.MD(l[3])?e+=[o[42],s.ME(o[43],s.MB,s.MN,null),o[44]].join(""):e+=[o[45],s.ME(o[43],s.MB,s.MN,null),o[44]].join(""),e+=o[46],s.MD(l[3])&&(e+=o[21]),e+=[o[47],s.ME(o[48],s.MB,s.MN,null),o[49]].join("")),e+=o[15],s.MJ(s.MB(l[1])+""=="other-provider-thanks")&&(e+=[o[2],s.ME(o[3],s.MB,s.MN,null),o[4],s.ME(o[5],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e+=[o[16],s.ME(o[50],s.MB,s.MN,null),o[51]].join("")),e+=o[15],s.MJ(s.MB(l[1])+""=="airplus-overview")&&(e+=[o[2],s.ME(o[52],s.MB,s.MN,null),o[4],s.ME(o[53],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e+=[o[16],s.ME(o[54],s.MB,s.MN,null),o[55],(_.unshift({end_bold:o[57],end_link:o[58],start_bold:o[59],start_link:s.MB(l[9])}),r=s.ME(o[56],s.MB,s.MN,null),_.shift(),r),o[60],(_.unshift({end_bold:o[57],start_bold:o[59]}),r=s.ME(o[61],s.MB,s.MN,null),_.shift(),r),o[60],(_.unshift({end_bold:o[57],start_bold:o[59]}),r=s.ME(o[62],s.MB,s.MN,null),_.shift(),r),o[63],s.ME(o[64],s.MB,s.MN,null),o[65],s.ME(o[66],s.MB,s.MN,null),o[14]].join("")),e+=o[15],s.MJ(s.MB(l[1])+""=="legal-requirements")&&(e+=[o[2],s.ME(o[67],s.MB,s.MN,null),o[4],s.ME(o[68],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e+=[o[69],s.ME(o[70],s.MB,s.MN,null),o[71],s.ME(o[72],s.MB,s.MN,null),o[73],s.ME(o[74],s.MB,s.MN,null),o[75],s.ME(o[76],s.MB,s.MN,null),o[77]].join(""),s.MN("start_link",'<a target="_blank" href="'+s.MC(l[10])+"/bbtool_airplus_terms"+s.MC(l[11])+'">'),e+=o[78],s.MN("end_link","</a>"),e+=[o[78],(_.unshift({end_link:s.MB(l[12]),start_link:s.MB(l[13])}),r=s.ME(o[79],s.MB,s.MN,null),_.shift(),r),o[80]].join(""),s.MJ(s.MB(l[14]))&&(e+=o[81]),e+=[o[82],(_.unshift({end_link:s.MB(l[12]),start_link:s.MB(l[13])}),r=s.ME(o[83],s.MB,s.MN,null),_.shift(),r),o[84]].join(""),s.MJ(s.MB(l[15]))&&(e+=o[81]),e+=[o[82],s.ME(o[85],s.MB,s.MN,null),o[86]].join(""),s.MJ(s.MB(l[16]))&&(e+=o[81]),e+=[o[82],s.ME(o[87],s.MB,s.MN,null),o[88],s.ME(o[89],s.MB,s.MN,null),o[90]].join(""),s.MK(s.MB(l[14])&&s.MB(l[15])&&s.MB(l[16]))&&(e+=o[91]),e+=[o[92],s.ME(o[93],s.MB,s.MN,null),o[94]].join("")),e+=o[15],s.MJ(s.MB(l[1])+""=="card-details")){if(e+=[o[2],s.ME(o[67],s.MB,s.MN,null),o[4],s.ME(o[68],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e+=[o[95],s.ME(o[70],s.MB,s.MN,null),o[96],s.ME(o[72],s.MB,s.MN,null),o[73],s.ME(o[74],s.MB,s.MN,null),o[75],s.ME(o[97],s.MB,s.MN,null),o[77],(_.unshift({end_bold:o[57],start_bold:o[59]}),r=s.ME(o[98],s.MB,s.MN,null),_.shift(),r),o[99]].join(""),s.MJ(s.MB(l[17]))&&(e+=[o[100],(_.unshift({class:o[101],name:o[102],role:o[103],width:o[104]}),r=s.HELPER("icon",_[0]),_.shift(),r),o[105],(_.unshift({end_bold:o[57],start_bold:o[107]}),r=s.ME(o[106],s.MB,s.MN,null),_.shift(),r),o[108]].join("")),e+=o[109],s.MJ(s.MB(l[18]))&&(e+=[o[100],(_.unshift({class:o[101],name:o[102],role:o[103],width:o[104]}),r=s.HELPER("icon",_[0]),_.shift(),r),o[110],s.ME(o[111],s.MB,s.MN,null),o[112]].join("")),e+=[o[113],s.ME(o[114],s.MB,s.MN,null),o[115]].join(""),s.MJ(s.MC(l[19]).hasInvalidName)&&(e+=o[116]),e+=o[117],s.MD(l[3])&&(e+=o[91]),e+=[o[118],s.ME(o[119],s.MB,s.MN,null),o[120],s.F.entities((s.MC(l[19])||{}).name),o[121],s.ME(o[122],s.MB,s.MN,null),o[115]].join(""),s.MJ(s.MC(l[19]).hasInvalidNumber)&&(e+=o[116]),e+=o[117],s.MD(l[3])&&(e+=o[91]),e+=[o[118],s.ME(o[123],s.MB,s.MN,null),o[124],s.F.entities((s.MC(l[19])||{}).number),o[125],s.ME(o[126],s.MB,s.MN,null),o[127]].join(""),s.MJ(s.MC(l[19]).hasInvalidExpiry)&&(e+=o[116]),e+=o[117],s.MD(l[3])&&(e+=o[91]),e+=[o[118],s.ME(o[128],s.MB,s.MN,null),o[129],s.F.entities((s.MC(l[19])||{}).expiry),o[130]].join(""),s.MD(l[20])&&(e+=[o[131],s.ME(o[132],s.MB,s.MN,null),o[133],s.ME(o[134],s.MB,s.MN,null),o[135]].join(""),s.MD(l[3])&&(e+=o[91]),e+=o[136],s.MJ(s.MG(((s.MC(l[19])||{}).itemizedCharges||{}).breakfast))&&(e+=o[137]),e+=[o[138],s.ME(o[139],s.MB,s.MN,null),o[140]].join(""),s.MD(l[3])&&(e+=o[91]),e+=o[136],s.MJ(s.MG(((s.MC(l[19])||{}).itemizedCharges||{}).taxes))&&(e+=o[137]),e+=[o[138],s.ME(o[141],s.MB,s.MN,null),o[142]].join(""),s.MD(l[3])&&(e+=o[91]),e+=o[136],s.MJ(s.MG(((s.MC(l[19])||{}).itemizedCharges||{}).parking))&&(e+=o[137]),e+=[o[138],s.ME(o[143],s.MB,s.MN,null),o[144]].join(""),s.MD(l[3])&&(e+=o[91]),e+=o[136],s.MJ(s.MG(((s.MC(l[19])||{}).itemizedCharges||{}).internet))&&(e+=o[137]),e+=[o[138],s.ME(o[145],s.MB,s.MN,null),o[146]].join(""),s.MD(l[3])&&(e+=o[91]),e+=o[136],s.MJ(s.MG(((s.MC(l[19])||{}).itemizedCharges||{}).all))&&(e+=o[137]),e+=[o[138],s.ME(o[147],s.MB,s.MN,null),o[148]].join("")),e+=[o[149],s.ME(o[150],s.MB,s.MN,null),o[151],s.F.entities(n),o[117]].join(""),s.MD(l[3])&&(e+=o[91]),e+=o[152],s.MJ(s.MC(l[19]).isCompanyShared)&&(e+=o[81]),e+=[o[153],s.ME(o[154],s.MB,s.MN,null),o[155],s.F.entities(n),o[117]].join(""),s.MD(l[3])&&(e+=o[91]),e+=o[152],s.MK(s.MC(l[19]).isCompanyShared)&&(e+=o[81]),e+=[o[153],s.ME(o[156],s.MB,s.MN,null),o[157]].join(""),s.MK(s.MC(l[19]).isCompanyShared)){if(e+=o[158],s.MJ(s.MC(l[19]).hasInvalidSharedWithEmail)&&(e+=o[116]),e+=[o[159],s.ME(o[160],s.MB,s.MN,null),o[161]].join(""),s.MD(l[3])&&(e+=o[91]),e+=[o[162],s.F.entities((s.MC(l[19])||{}).sharedWithEmail),o[163]].join(""),s.MJ(s.MC(l[19]).hasInvalidSharedWithEmail)&&(e+=o[21]),e+=[o[164],s.ME(o[165],s.MB,s.MN,null),o[166]].join(""),s.MJ(s.array_length(s.MC(l[19]).sharedWith))){e+=[o[167],s.F.entities(n),o[164]].join("");var t=(s.MC(l[19])||{}).sharedWith||[];_.unshift({email:null});for(var i,n=1,a=t.length;n<=a;n++)_[0].email=i=t[n-1],e+=[o[168],s.F.entities(n),o[169],(_.unshift({class:o[170],color:"#FCB4B4",name:o[171],"on:click":o[172],size:o[173]}),r=s.HELPER("icon",_[0]),_.shift(),r),o[174],s.F.entities(i),o[175]].join("");_.shift(),e+=o[176]}e+=o[78]}e+=[o[177],s.ME(o[178],s.MB,s.MN,null),o[179]].join(""),s.MD(l[3])?e+=[o[180],s.ME(o[181],s.MB,s.MN,null),o[182]].join(""):(e+=o[183],s.MJ(s.MC(l[19]).isInvalid)&&(e+=o[91]),e+=[o[47],s.ME(o[181],s.MB,s.MN,null),o[182]].join("")),e+=o[184]}return e+=o[15],s.MJ(s.MB(l[1])+""=="dbi-setup")&&(e+=[o[2],s.ME(o[67],s.MB,s.MN,null),o[4],s.ME(o[68],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e=function(e){_i_("3bb:b12e5617"),e+=["",o[190],s.ME(o[191],s.MB,s.MN,null),o[192],s.ME(o[193],s.MB,s.MN,null),o[194],s.ME(o[195],s.MB,s.MN,null),o[196],s.ME(o[197],s.MB,s.MN,null),o[196],s.ME(o[198],s.MB,s.MN,null),o[199]].join(""),s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[21])))&&(e+=o[200]),e+=[o[201],s.ME(o[202],s.MB,s.MN,null),o[203]].join(""),s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[21])))&&(e+=o[200]),e+=[o[201],s.ME(o[204],s.MB,s.MN,null),o[205],s.ME(o[206],s.MB,s.MN,null),o[207]].join("");var t=s.MC(l[22])||[];_.unshift({prop:null});for(var i,n=1,a=t.length;n<=a;n++){if(_[0].prop=i=t[n-1],e+=o[78],s.MJ(i.isLoading))e+=o[208],s.MJ(i.loadingStatus+""=="success")&&(e+=[o[209],s.ME(o[210],s.MB,s.MN,null),o[211]].join("")),e+=o[212],s.MJ(i.loadingStatus+""=="error")&&(e+=[o[213],s.ME(o[111],s.MB,s.MN,null),o[211]].join("")),e+=o[212],s.MJ(i.loadingStatus+""=="pending")&&(e+=[o[214],s.ME(o[215],s.MB,s.MN,null),o[216]].join("")),e+=o[217];else if(s.MJ(i.hasValidationError))e+=[o[218],s.ME(o[219],s.MB,s.MN,null),o[220]].join("");else{e+=o[221];var r=i.code;s.MJ(r+""=="AE")?e+=[o[222],s.ME(o[223],s.MB,s.MN,null),o[152]].join(""):s.MJ(r+""=="AK")?e+=[o[222],s.ME(o[224],s.MB,s.MN,null),o[152]].join(""):s.MJ(r+""=="AU")?e+=[o[222],s.ME(o[225],s.MB,s.MN,null),o[152]].join(""):s.MJ(r+""=="DS")?e+=[o[222],s.ME(o[226],s.MB,s.MN,null),o[152]].join(""):s.MJ(r+""=="IK")?e+=[o[222],s.ME(o[227],s.MB,s.MN,null),o[152]].join(""):s.MJ(r+""=="PK")?e+=[o[222],s.ME(o[228],s.MB,s.MN,null),o[152]].join(""):s.MJ(r+""=="PR")?e+=[o[222],s.ME(o[229],s.MB,s.MN,null),o[152]].join(""):s.MJ(r+""=="KS")&&(e+=[o[222],s.ME(o[230],s.MB,s.MN,null),o[231]].join("")),e+=[o[232],i.code,o[233],s.F.entities(n),o[234]].join(""),s.MJ(i.isDisplayed)&&(e+=o[81]),e+=o[235],s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[21])))&&(e+=o[200]),e+=[o[236],s.F.entities(n),o[237]].join(""),s.MJ(i.isRequired)&&(e+=o[81]),e+=o[152],s.MK(i.isRequiredActive)&&(e+=o[21]),e+=o[238],s.MJ(/ru|el|es|pt|ca|uk|id|ms/.test(s.MC(l[21])))&&(e+=o[200]),e+=[o[239],s.F.entities(n),o[240],i.acceptedValues,o[241],s.ME(o[242],s.MB,s.MN,null),o[117]].join(""),s.MK(i.isAcceptedValuesActive)&&(e+=o[21]),e+=o[243]}e+=o[109]}return _.shift(),e+=[o[244],"",o[245]].join(""),_r_(e)}(e+=[o[95],s.ME(o[70],s.MB,s.MN,null),o[185],s.ME(o[72],s.MB,s.MN,null),o[186],s.ME(o[74],s.MB,s.MN,null),o[75],s.ME(o[187],s.MB,s.MN,null),o[77],s.ME(o[188],s.MB,s.MN,null),o[189]].join("")),e+=[o[246],s.ME(o[247],s.MB,s.MN,null),o[248],s.ME(o[249],s.MB,s.MN,null),o[94]].join("")),e+=o[15],s.MJ(s.MB(l[1])+""=="completed")&&(e+=[o[2],s.ME(o[67],s.MB,s.MN,null),o[4],s.ME(o[68],s.MB,s.MN,null),o[6]].join(""),s.MJ(s.MB(l[0]))&&(e+=o[7]),e+=[o[16],s.ME(o[250],s.MB,s.MN,null),o[77],(_.unshift({end_bold:o[57],start_bold:o[59]}),r=s.ME(o[251],s.MB,s.MN,null),_.shift(),r),o[77],(_.unshift({end_bold:o[57],end_link:o[253],start_bold:o[59],start_link:o[253]}),r=s.ME(o[252],s.MB,s.MN,null),_.shift(),r),o[254],(_.unshift({end_bold:o[57],end_link:o[253],start_bold:o[59],start_link:o[253]}),r=s.ME(o[255],s.MB,s.MN,null),_.shift(),r),o[256],s.ME(o[257],s.MB,s.MN,null),o[258],s.ME(o[259],s.MB,s.MN,null),o[260]].join("")),e+=[o[261],"",o[245]].join(""),_r_(e)}(e+=o[0]),e+=o[245],_r_(e)})}()),B.define("component/business/payments/company-card/onboarding/onboarding",function(e,t,i){_i_("3bb:4d39f1a5");var n=e("ga-tracker"),a=e("component/business/payments/company-card/onboarding/store"),r=e("jquery");i.exports=e("component/reactive").extend({template:"company_settings_company_cards_onboarding",initialize:function(){_i_("3bb:f37b88e5"),a.subscribe(this.render.bind(this)),_r_()},getState:function(){return _i_("3bb:5f622c481"),_r_(a.getState())},onProviderOtherChange:function(e){_i_("3bb:6079318a");var t=e.target.value;a.dispatch({type:"PROVIDER_OTHER_VALUE_CHANGE",payload:{providerOtherValue:t}}),_r_()},onAmexClick:function(){_i_("3bb:e730a2d6"),a.dispatch({type:"PROVIDER_CLICKED",payload:{providerAmexClicked:!this.getState().providerAmexClicked,providerEnettClicked:this.getState().providerEnettClicked,providerWexClicked:this.getState().providerWexClicked,providerSharedMasterCardClicked:this.getState().providerSharedMasterCardClicked,providerOtherClicked:this.getState().providerOtherClicked}}),_r_()},onEnettClick:function(){_i_("3bb:2e84924c"),a.dispatch({type:"PROVIDER_CLICKED",payload:{providerAmexClicked:this.getState().providerAmexClicked,providerEnettClicked:!this.getState().providerEnettClicked,providerWexClicked:this.getState().providerWexClicked,providerSharedMasterCardClicked:this.getState().providerSharedMasterCardClicked,providerOtherClicked:this.getState().providerOtherClicked}}),_r_()},onWexClick:function(){_i_("3bb:8648b648"),a.dispatch({type:"PROVIDER_CLICKED",payload:{providerAmexClicked:this.getState().providerAmexClicked,providerEnettClicked:this.getState().providerEnettClicked,providerWexClicked:!this.getState().providerWexClicked,providerSharedMasterCardClicked:this.getState().providerSharedMasterCardClicked,providerOtherClicked:this.getState().providerOtherClicked}}),_r_()},onSharedMcClick:function(){_i_("3bb:ed0e3155"),a.dispatch({type:"PROVIDER_CLICKED",payload:{providerAmexClicked:this.getState().providerAmexClicked,providerEnettClicked:this.getState().providerEnettClicked,providerWexClicked:this.getState().providerWexClicked,providerSharedMasterCardClicked:!this.getState().providerSharedMasterCardClicked,providerOtherClicked:this.getState().providerOtherClicked}}),_r_()},onOtherCheckboxClick:function(){_i_("3bb:ca05338f"),a.dispatch({type:"PROVIDER_CLICKED",payload:{providerAmexClicked:this.getState().providerAmexClicked,providerEnettClicked:this.getState().providerEnettClicked,providerWexClicked:this.getState().providerWexClicked,providerSharedMasterCardClicked:this.getState().providerSharedMasterCardClicked,providerOtherClicked:!this.getState().providerOtherClicked}}),_r_()},onOtherProviderClick:function(){_i_("3bb:0b7d78a2"),n.trackEvent(n.BBToolTracker,"click","Click: I use another provider in AirPlus onboarding screen 1"),B.env.b_airplus_survey_taken?a.dispatch({type:"CHANGE_PAGE",payload:{page:"other-provider-thanks",isAnimated:!1}}):a.dispatch({type:"CHANGE_PAGE",payload:{page:"other-provider",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b254414"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onModalSubmitClick:function(){_i_("3bb:454d605b");var e=this.getState();a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!0}}),r.ajax({type:"POST",url:"bbtool_payment_method_survey",traditional:!0,data:{bhc_csrf_token:B.env.b_csrf_token,amex:e.providerAmexClicked,enett:e.providerEnettClicked,wex:e.providerWexClicked,mastercard:e.providerSharedMasterCardClicked,otherText:e.providerOtherClicked?e.providerOtherValue:null},complete:function(){_i_("3bb:f20ed286"),a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!1}}),a.dispatch({type:"CHANGE_PAGE",payload:{page:"other-provider-thanks",isAnimated:!1}}),setTimeout(function(){_i_("3bb:58b3fd74"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()}}),_r_()},onOverviewCancelClick:function(){_i_("3bb:b3713703"),n.trackEvent(n.BBToolTracker,"click","Click: Cancel in AirPlus onboarding screen 2"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"choose-provider",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544141"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onAirPlusProviderClick:function(){_i_("3bb:6f7b2f15"),n.trackEvent(n.BBToolTracker,"click","Click: I use AirPlus in AirPlus screen 1"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"airplus-overview",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544142"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onStartConfigurationClick:function(){_i_("3bb:3b557a2d"),n.trackEvent(n.BBToolTracker,"click","Click: Continue in AirPlus onboarding screen 2"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"legal-requirements",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544143"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onLegalReqCancelClick:function(){_i_("3bb:c32bdc64"),n.trackEvent(n.BBToolTracker,"click","Click: Cancel in AirPlus onboarding screen 3"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"airplus-overview",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544144"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onLegalReqNextClick:function(){_i_("3bb:6ffefa34"),n.trackEvent(n.BBToolTracker,"click","Click: Continue in AirPlus onboarding screen 3"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"card-details",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544145"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onCardDetailsBackClick:function(){_i_("3bb:594be7a3"),n.trackEvent(n.BBToolTracker,"click","Click: Cancel in AirPlus onboarding screen 4"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"legal-requirements",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544146"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onCardDetailsNextClick:function(){_i_("3bb:d6f84def"),n.trackEvent(n.BBToolTracker,"click","Click: Cancel in AirPlus onboarding screen 4");var e=this.getState();a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!0}}),r.ajax({type:"POST",url:"bbtool_company_new_airplus_card",traditional:!0,data:{bhc_csrf_token:B.env.b_csrf_token,name:e.card.name,number:e.card.number,expiryMonth:e.card.expiry.split("/")[0],expiryYear:e.card.expiry.split("/")[1],isCompanyShared:e.card.isCompanyShared,sharedWithEmail:e.card.sharedWith,perm_room:!0,perm_breakfast:e.card.itemizedCharges.breakfast,perm_taxes:e.card.itemizedCharges.taxes,perm_parking:e.card.itemizedCharges.parking,perm_internet:e.card.itemizedCharges.internet,perm_allow_all:e.card.itemizedCharges.all,isPayRestricted:!0,perm_other:!1},success:function(e){_i_("3bb:3967d200"),"ok"===e.status?(a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!1}}),a.dispatch({type:"CHANGE_PAGE",payload:{page:"dbi-setup",isAnimated:!1}}),setTimeout(function(){_i_("3bb:585ab1bc"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100)):"ok"!==e.status&&-1!==e.error.indexOf("companyaccount invalid")?(a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!1}}),a.dispatch({type:"AJAX_NUMBER_ERROR",payload:{hasAjaxNumberError:!0}}),setTimeout(function(){_i_("3bb:3ec099e9"),a.dispatch({type:"AJAX_NUMBER_ERROR",payload:{hasAjaxNumberError:!1}}),_r_()},1e4)):(a.dispatch({type:"CHANGE_LOADING",payload:{isLoading:!1}}),a.dispatch({type:"AJAX_GENERAL_ERROR",payload:{hasAjaxGeneralError:!0}}),setTimeout(function(){_i_("3bb:60981ed0"),a.dispatch({type:"AJAX_GENERAL_ERROR",payload:{hasAjaxGeneralError:!1}}),_r_()},1e4)),_r_()}}),_r_()},onDbiDetailsBackClick:function(){_i_("3bb:88a358af"),n.trackEvent(n.BBToolTracker,"click","Click: Cancel in AirPlus onboarding screen 5"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"card-details",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544147"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onDbiDetailsNextClick:function(){_i_("3bb:fac4c3ac"),n.trackEvent(n.BBToolTracker,"click","Click: Cancel in AirPlus onboarding screen 5"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"completed",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544148"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onCompleteBackClick:function(){_i_("3bb:f27379b7"),n.trackEvent(n.BBToolTracker,"click","Click: Cancel in AirPlus onboarding screen 6"),a.dispatch({type:"CHANGE_PAGE",payload:{page:"dbi-setup",isAnimated:!1}}),setTimeout(function(){_i_("3bb:3b2544149"),a.dispatch({type:"ANIMATE",payload:{isAnimated:!0}}),_r_()},100),_r_()},onCompleteNextClick:function(){_i_("3bb:38afaecb"),n.trackEvent(n.BBToolTracker,"click","Click: Finish in AirPlus onboarding screen 6"),location.reload(),_r_()},onLegalCheckboxOneClick:function(){_i_("3bb:a09758fc");var e=this.getState();a.dispatch({type:"LEGAL_CHECKBOX_CLICK",payload:{isLegalTermOneClicked:!e.isLegalTermOneClicked,isLegalTermTwoClicked:e.isLegalTermTwoClicked,isLegalTermThreeClicked:e.isLegalTermThreeClicked}}),_r_()},onLegalCheckboxTwoClick:function(){_i_("3bb:e303eb9e");var e=this.getState();a.dispatch({type:"LEGAL_CHECKBOX_CLICK",payload:{isLegalTermOneClicked:e.isLegalTermOneClicked,isLegalTermTwoClicked:!e.isLegalTermTwoClicked,isLegalTermThreeClicked:e.isLegalTermThreeClicked}}),_r_()},onLegalCheckboxThreeClick:function(){_i_("3bb:cbc60f93");var e=this.getState();a.dispatch({type:"LEGAL_CHECKBOX_CLICK",payload:{isLegalTermOneClicked:e.isLegalTermOneClicked,isLegalTermTwoClicked:e.isLegalTermTwoClicked,isLegalTermThreeClicked:!e.isLegalTermThreeClicked}}),_r_()},onSharedWithClick:function(e){_i_("3bb:e05051ed");var t=e.target.value,i=this.getState().card;i.isCompanyShared="all"===t,i.isCompanyShared||i.sharedWith.length?i.isInvalid=!1:i.isInvalid=!0,a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onNameChange:function(e){_i_("3bb:147b45bf");var t=e.target.value,i=this.getState().card;i.name=t,i.hasInvalidName=!t,i.isNameDirty=!0,this.isCardValid(i),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onNumberChange:function(e){_i_("3bb:ddc54b21");var t=e.target.value,i=this.getState().card;i.number=t,i.isNumberDirty=!0,t&&15===t.length?i.hasInvalidNumber=!1:i.hasInvalidNumber=!0,this.isCardValid(i),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onExpiryChange:function(e){_i_("3bb:3f28b540");var t=e.target.value,i=this.getState().card;i.expiry=t,i.isExpiryDirty=!0,t&&-1!==t.indexOf("/")&&5===t.length?i.hasInvalidExpiry=!1:i.hasInvalidExpiry=!0,this.isCardValid(i),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},isCardValid:function(e){var t;_i_("3bb:6b8fceae"),t=!(e.hasInvalidExpiry||e.hasInvalidNumber||e.hasInvalidName)&&!!(e.isNameDirty&&e.isNumberDirty&&e.isExpiryDirty),e.isInvalid=!t,a.dispatch({type:"UPDATE_CARD",payload:{card:e}}),_r_()},onRemoveSharedClick:function(e){_i_("3bb:ba3e00fd");var t=+r(e.target).parents("[data-email-index]").data().emailIndex-1,i=this.getState().card;i.sharedWith.splice(t,1),i.isCompanyShared||i.sharedWith.length?i.isInvalid=!1:i.isInvalid=!0,a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onAddSharedEmailClick:function(){_i_("3bb:6d0cadb8");var e=this.getState().card,t=e.sharedWithEmail.toLowerCase().trim();if(e.hasInvalidSharedWithEmail)return _r_();t&&-1===e.sharedWith.indexOf(t)&&e.sharedWith.push(t),e.isCompanyShared||e.sharedWith.length?e.isInvalid=!1:e.isInvalid=!0,e.sharedWithEmail="",a.dispatch({type:"UPDATE_CARD",payload:{card:e}}),_r_()},onSharedWithEmailChange:function(e){_i_("3bb:2e704217"),13===e.keyCode&&this.onAddSharedEmailClick(e);var t=e.target.value,i=this.getState().card;i.sharedWithEmail=t,i.hasInvalidSharedWithEmail=!/\S+@\S+\.\S+/.test(t.toLowerCase()),a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()},onItemizedChargesCheckboxClick:function(e){_i_("3bb:d8812a6f");var t=e.target.dataset.key,i=this.getState().card;i.itemizedCharges.hasOwnProperty(t)&&(i.itemizedCharges[t]=!i.itemizedCharges[t]),"all"===t&&i.itemizedCharges.all?i.itemizedCharges={room:!0,breakfast:!0,taxes:!0,parking:!0,internet:!0,all:!0}:"all"!==t||i.itemizedCharges.all||(i.itemizedCharges={room:!0,breakfast:!1,taxes:!1,parking:!1,internet:!1,all:!1}),i.itemizedCharges.room&&i.itemizedCharges.breakfast&&i.itemizedCharges.taxes&&i.itemizedCharges.internet&&i.itemizedCharges.parking?i.itemizedCharges.all=!0:i.itemizedCharges.all=!1,a.dispatch({type:"UPDATE_CARD",payload:{card:i}}),_r_()}}),_r_()}),function(){"use strict";_i_("3bb:c1b6c359"),B.when({events:"ready",action:"book"}).run(function(s){function e(){_i_("3bb:94e2e0f3");for(var e=document.getElementById("bookForm"),t=e.querySelectorAll('button[type="submit"]'),i=0;i<t.length;i++){var n=t[i];n.setAttribute("disabled","disabled")}_r_()}_i_("3bb:ce48dbf0");try{var t,i,n=s("server-data");if(2!==Number(n.b_stage))return _r_(!1);try{t=function(){var e;_i_("3bb:4a34dec8"),e=window.booking&&window.booking.browserStorageHandler?window.booking.browserStorageHandler:s("browser_storage_handler");return _r_(e)}(),i=t.isLocalStorageSupported()}catch(e){B.reportError(e,"Error occured while accessing local storage")}var a=n.b_hotel_id,r=o+a;if(n.fe_is_bhpps_bgfe)try{i?t.addPermanentValue(r,1):function(e,t,i){_i_("3bb:85c2b122");var n="";if(i){var a=new Date;a.setDate(a.getDate()+i),n="; expires="+a.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/",_r_()}(r,1,1),e()}catch(e){B.reportError(e,"Error occured while pushing a key to local storage")}else try{var _=i?t.getPermanentValue(r):-1<document.cookie.indexOf(r);_&&1===Number(_)&&(e(),function(e){_i_("3bb:2b37585f");var t=s("jstmpl"),i=s("fragment"),e=s("server-data"),n=document.getElementById("bookForm");if("mdot"===e.b_site_type){var a=t("user_blocked_error_mdot").render({b_hotel_name:e.b_hotel_name}),r=document.createElement("div");r.setAttribute("class","bp-alert--container"),r.innerHTML=a,n.parentNode.insertBefore(r,n)}else{var _=document.querySelector(".js-bp-validation-errors__container"),a=t("user_blocked_error").render({b_hotel_name:e.b_hotel_name});_.innerHTML=a+_.innerHTML}i.call("booking_home.blocked_guest_bp",{}),_r_()}(n))}catch(e){B.reportError(e,"Error occured while checking a key from local storage")}}catch(e){B.reportError(e,"Error occured while Guest Blocked By Partners tried to book")}_r_()});var o="fe_is_bhpps_bgfe";_r_()}(),booking.jstmpl("user_blocked_error",function(){_i_("3bb:5c37f591");var n,a=['\n    <div\n        class="bui-alert bui-alert--error bui-alert--large bui-u-bleed@small"\n        data-component="bp/top-validation-errors"\n        role="alert"\n    >\n        <span class="icon--hint bui-alert__icon" role="presentation">\n            ',"iconset/warning","24",'\n        </span>\n        <span class="invisible_spoken">',"/private/a11y_reader_error/name",'</span>\n        <div class="bui-alert__description">\n            <span class="bui-alert__title">\n                ',"/private/bh_pps_bp_blocked_prop_unable_to_accept/name","\n            </span>\n        </div>\n    </div>\n"],r=["b_hotel_name"];return _r_(function(e){_i_("3bb:538cf1ba");var t="",i=this.fn;return t+=[a[0],(e.unshift({name:a[1],width:a[2]}),n=i.HELPER("icon",e[0]),e.shift(),n),a[3],i.ME(a[4],i.MB,i.MN,null),a[5],(e.unshift({property_name:i.MC(r[0])}),n=i.ME(a[6],i.MB,i.MN,null),e.shift(),n),a[7]].join(""),_r_(t)})}()),booking.jstmpl("user_blocked_error_mdot",function(){_i_("3bb:d04a28fe");var _,s=["\n    ","\n        ","/private/mdot_bh_pps_bp_blocked_prop_previous_incident/name","",'<div class="',"bui-alert ","bui-alert--"," ","bui-alert--info ","u-bleed@small",'" role="status" ><span class="bui-alert__icon" role="presentation" >',"24",'</span><div class="bui-alert__description">','<span class="bui-alert__title">',"</span>",'<p class="bui-alert__text">',"</p>",'<a href="','" class="',"bui-button ","bui-button--","bui-link ","bui-link--",'" ',' title="',' target="',' rel="',' download="" ',' on:click="'," >","</a>","\n\t","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",'\n    <div class="bui-alert bui-alert--error bui-alert--inline u-bleed@small" role="status">\n        <span class="icon--hint bui-alert__icon" role="presentation">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" width="24" height="24"><title>warning</title><g id="_8x" data-name="8x"><path id="warning" d="M64,8a56,56,0,1,0,56,56A56,56,0,0,0,64,8Zm0,91a8,8,0,1,1,8-8A8,8,0,0,1,64,99Zm7.93-61h0L67,77H61L56.06,38h0a8,8,0,1,1,15.86,0Z"/></g></svg>\n        </span>\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">\n                ',"\n            </p>\n        </div>\n    </div>\n","\n\n","\n","Both 'text' and 'href' are required options of link.inc.","primary","</div></div>","iconset/warning","error"],o=["mdot_bh_pps_bp_blocked_prop_previous_incident","b_hotel_name","variant","size","icon","heading","text","href","is_button","js_class","link_title","target","rel","force_download","data_args","on_click","component_error","b_dev_server","link_data_args","link_href","on_link_click","link_text"];return _r_(function(n){_i_("3bb:acdfdb05");var e="",a=this.fn;function r(e){var t;return _i_("3bb:dc9318ee"),e+=s[3],a.MJ(a.MB(o[6]))&&a.MJ(a.MB(o[7]))?(e+=[s[17],a.F.html(a.MC(o[7])),s[18]].join(""),a.MD(o[8])?(e+=s[19],(a.MJ(a.MB(o[2])+""=="primary")||a.MJ(a.MB(o[2])+""=="secondary"))&&(e+=[s[20],a.F.entities(a.MC(o[2])),s[7]].join(""))):(e+=s[21],(a.MJ(a.MB(o[2])+""=="primary")||a.MJ(a.MB(o[2])+""=="secondary"))&&(e+=[s[22],a.F.entities(a.MC(o[2])),s[7]].join(""))),a.MJ(a.MB(o[9]))&&a.MJ(/^js-/.test(a.MB(o[9])))&&(e+=[a.F.entities(a.MC(o[9])),s[3]].join("")),e+=s[23],a.MD(o[10])&&(e+=[s[24],a.F.entities(a.MB(o[10])),s[23]].join("")),e+=s[3],a.MD(o[11])&&(e+=[s[25],a.F.entities(a.MC(o[11])),s[23]].join("")),e+=s[3],a.MD(o[12])&&(e+=[s[26],a.F.entities(a.MC(o[12])),s[23]].join("")),e+=s[3],a.MD(o[13])&&(e+=s[27]),e+=s[3],a.MD(o[14])&&(e+=[s[3],a.MC(o[14]),s[3]].join("")),e+=s[3],a.MD(o[15])&&(e+=[s[28],a.F.entities(a.MC(o[15])),s[23]].join("")),e+=[s[29],a.F.entities(a.MB(o[6])),s[30]].join(""),e+=s[3]):a.MD(o[17])&&(e+=s[31],n.unshift({component_error:s[37]}),t=e,_i_("3bb:d7423c38"),t+=s[32],a.MD(o[16])&&(t+=[s[33],a.F.entities(a.MC(o[16])),s[34]].join("")),t+=s[35],a.MN("component_error",""),t+=s[36],e=_r_(t),n.shift(),e+=s[3]),e+=s[3],e+=s[3],a.MN("text",""),e+=s[3],a.MN("href",""),e+=s[3],a.MN("variant",""),e+=s[3],a.MN("is_button",""),e+=s[3],a.MN("link_title",""),e+=s[3],a.MN("target",""),e+=s[3],a.MN("rel",""),e+=s[3],a.MN("force_download",""),e+=s[3],a.MN("js_class",""),e+=s[3],a.MN("data_args",""),e+=s[3],a.MN("on_click",""),e+=s[3],_r_(e)}e+=s[0],a.MN(o[0],[s[1],(n.unshift({property_name:a.MC(o[1])}),_=a.ME(s[2],a.MB,a.MN,null),n.shift(),_),s[0]].join("")),e+=s[0];var t={icon:s[40],text:a.MB(o[0]),variant:s[41]},i=n;return(n=a.SV([{},{}])).unshift(t),e=function(e){if(_i_("3bb:615f679a"),e+=s[3],a.MJ(a.MB(o[6]))&&a.MJ(a.MB(o[4]))){if(e+=s[4],e+=s[5],a.MD(o[2])?e+=[s[6],a.F.entities(a.MC(o[2])),s[7]].join(""):e+=s[8],a.MD(o[3])&&(e+=[s[6],a.F.entities(a.MC(o[3])),s[7]].join("")),e+=s[9],e+=[s[10],(n.unshift({name:a.MB(o[4]),width:s[11]}),_=a.HELPER("icon",n[0]),n.shift(),_),s[12]].join(""),a.MD(o[5])&&(e+=[s[13],a.MC(o[5]),s[14]].join("")),e+=[s[15],a.MB(o[6]),s[16]].join(""),a.MJ(a.MB(o[21]))&&a.MJ(a.MB(o[19]))){e+=s[3];var t={data_args:a.MB(o[18]),href:a.MB(o[19]),link_title:a.MB(o[10]),on_click:a.MB(o[20]),text:a.MB(o[21]),variant:s[38]},i=n;(n=a.SV([{},{}])).unshift(t),e=r(e),n=a.SV(i),e+=s[3]}e+=s[39],e+=s[3]}return e+=s[3],e+=s[3],a.MN("text",""),e+=s[3],a.MN("icon",""),e+=s[3],a.MN("heading",""),e+=s[3],a.MN("variant",""),e+=s[3],a.MN("size",""),e+=s[3],a.MN("link_text",""),e+=s[3],a.MN("link_href",""),e+=s[3],a.MN("link_title",""),e+=s[3],a.MN("link_data_args",""),e+=s[3],a.MN("on_link_click",""),e+=s[3],_r_(e)}(e),n=a.SV(i),e+=s[36],_r_(e)})}()),B.define("genius/existing-email-model",function(e,t,i){_i_("3bb:c09646e9");var n=e("jquery"),a=/\S+@\S+\.\S+/;function r(){_i_("3bb:8c5a11b2"),this.checked={LAST:null,GENIUS:null},_r_()}r.prototype=n.extend(r.prototype,{userTypes:{GENIUS:"GENIUS"},_handleEmailCheck:function(){_i_("3bb:3ac01a3c");var e=this.emailField.val(),t=this.userTypes;e===this.checked.GENIUS?this.showPopover(t.GENIUS):e!==this.checked.LAST&&(this.hidePopovers(),this.checkEmail(e)),_r_()},checkEmail:function(e){if(_i_("3bb:6336f7aa"),!a.test(e))return this.hidePopovers(),this.checked.LAST=e,_r_();this.showPopover(this.userTypes.GENIUS),this.checked[this.userTypes.GENIUS]=e,this.checked.LAST=e,_r_()}}),i.exports=r,_r_()}),B.define("genius/existing-email-popover",function(e,t,i){"use strict";_i_("3bb:387f61a4");var n=e("jquery"),a=e("et"),r=e("events"),_=e("utils/debounce"),s=e("genius/existing-email-model");function o(e){_i_("3bb:7c9997e0"),s.call(this),this.popoverInstances={GENIUS:null},this.emailField=e.emailField,this.emailConfirm=e.emailConfirm,this.emailSuggestion=e.emailSuggestion,this.popoverInstances.GENIUS=e.popoverInstances.GENIUS,this.showPopover=this._showPopover.bind(this),this.hidePopovers=this._hidePopovers.bind(this),this.initEmailListeners(),_r_()}o.prototype=n.extend({},s.prototype,o.prototype,{emailFieldEvents:"input paste focus click keyup",emailCheckConditions:function(){return _i_("3bb:374e46ca"),_r_(!(window.innerWidth<1e3))},initEmailListeners:function(){_i_("3bb:b03fe11c"),this.handleEmailCheck=_(function(){_i_("3bb:f5826a98"),this.emailCheckConditions()?this._handleEmailCheck():this.hidePopovers(),_r_()}.bind(this),250,!0),this.handleEmailCheck(),this.emailField.on(this.emailFieldEvents,this.handleEmailCheck),this.emailConfirm.on("focus",this.handleEmailCheck),_r_()},destroy:function(){_i_("3bb:d7afb148"),this.emailField.off(this.emailFieldEvents,this.handleEmailCheck),_r_()},_showPopover:function(i){_i_("3bb:81a5bb3e");var n=this.popoverInstances,a=this.emailSuggestion;Object.keys(n).forEach(function(e){_i_("3bb:081f1d05");var t=n[e];if(!t)return _r_();e===i?(t.mount(),t.open(),a.fadeOut(),r.trigger("geniusEmailConfirmed")):(t.close(),t.unmount()),_r_()}),_r_()},_hidePopovers:function(){_i_("3bb:ed7f0646"),this.showPopover(),_r_()}}),o.initPopover=function(e,t){if(_i_("3bb:ee3bfaec"),!n("#"+e).length)return _r_();var i=window.BUI.createInstance("Popover",t.get(0),{contentId:e,position:"end",trigger:"click",trapFocus:!1,onAfterOpen:function(){_i_("3bb:696202b8"),a.initAttributesTracking(i.content),_r_()}});return delete i.handlers["root@click"],_r_(i)},i.exports=o,_r_()}),B.define("genius/existing-email-block",function(e,t,i){"use strict";_i_("3bb:2ab838d8");var r=e("jquery"),_=e("events"),n=e("utils/debounce"),a=e("genius/existing-email-model");function s(e){_i_("3bb:7a029ab2"),a.call(this),this.popoverEls={GENIUS:null},this.emailField=e.emailField,this.popoverEls.GENIUS=e.popoverEls.GENIUS,this.showPopover=this._showPopover.bind(this),this.hidePopovers=this._hidePopovers.bind(this),this.initEmailListeners(),_r_()}s.prototype=r.extend({},a.prototype,s.prototype,{ELEMENTS_TO_REPLACE:".js-placeholder--email-suggestion",emailFieldEvents:"focus input change keyup blur",initEmailListeners:function(){_i_("3bb:257c4902"),this.handleEmailCheck=n(this._handleEmailCheck.bind(this),250,!0),this.emailField.on(this.emailFieldEvents,this.handleEmailCheck),this.handleEmailCheck(),_r_()},destroy:function(){_i_("3bb:d7afb1481"),this.emailField.off(this.emailFieldEvents,this.handleEmailCheck),_r_()},_showPopover:function(i){_i_("3bb:2c3020ee");var n=this.popoverEls,a=this.ELEMENTS_TO_REPLACE;Object.keys(n).forEach(function(e){_i_("3bb:30029fbc");var t=n[e];if(!t||!t[0])return _r_();e===i?(t.removeClass("bui-u-hidden"),r(a).addClass("bui-u-hidden"),_.trigger("emailCheckedIsGenius")):t.addClass("bui-u-hidden"),_r_()}),_r_()},_hidePopovers:function(){_i_("3bb:dc09f37e"),this.showPopover(),r(this.ELEMENTS_TO_REPLACE).removeClass("bui-u-hidden"),_r_()}}),i.exports=s,_r_()}),B.when((_i_("3bb:e8ed05e5"),1==B.env.fe_is_ge_email_a_popover?_r_({events:"ready"}):_r_({action:"book",events:"load"}))).run(function(e){"use strict";_i_("3bb:ce236132");var t=e("jquery"),i=e("server-data"),n=e("genius/existing-email-popover"),a=e("genius/existing-email-block"),r=1==i.fe_is_ge_email_a_popover;if(t("#ge_existing_email_popover_genius").length<1)return _r_();if(r){var _=t("#email");new n({emailField:_,emailConfirm:t("#email_confirm"),emailSuggestion:t(".bp_form__email_suggestion"),popoverInstances:{GENIUS:n.initPopover("ge_existing_email_popover_genius",_)}})}else new a({emailField:t("#email"),popoverEls:{GENIUS:t("#ge_existing_email_popover_genius")}});_r_()}),B.define("component/toast-message",function(e,t,i){_i_("3bb:bbcd8f1c");var n=e("component");$(window);i.exports=n.extend({init:function(){_i_("3bb:e33d31f9");var e=this.$el.data("toast-message");if(!e)return _r_();var t=window.BUI.createInstance("Toast");t.mount(),t.show({text:e}),_r_()}}),_r_()}),B.when({events:"ready",condition:B.env.genius_mail_marketing_dismiss_id}).run(function(e){_i_("3bb:70344bc6");var t=e("dismiss-item"),i=e("server-data"),n=i.genius_mail_marketing_dismiss_id,a="mdot"===i.b_site_type?"Drawer":"Modal",r=window.BUI.createInstance(a,null,{id:"ge-mail-marketing",size:450,onAfterOpen:function(){_i_("3bb:a8b087b5"),t(n),_r_()}});r.mount(),r.open(),_r_()}),B.define("component/genius-vip/bp-tracking",function(e,t,i){_i_("3bb:523779d3");var n=e("component"),a=e("utils/debounce"),r=e("server-data"),_="[data-cta-name=genius-vip-button]",s="[data-cta-name=pd-credit-button]",o="[data-credit-banner-expand]",l="",c={SpendAndUnlock:{stage_2:{BANNER_VIEW:"TDXRcJJKDKGbADNNcbSET",BANNER_CTA_CLICK:"TDXRcJJKDKGdBfdJTSSfBNWe"},stage_3:{BANNER_VIEW:"TDXRcJJKDKGbADNNcbSTQWe",BANNER_CTA_CLICK:"TDXRcJJKDKGdBfdJTSSfBNUFO"}},InstantCredit:{stage_2:{BANNER_VIEW:"TDXReAJKDKGbADNNcbSET",BANNER_CTA_CLICK:"TDXReAJKDKGdBfdJTSSfBNWe"},stage_3:{BANNER_VIEW:"TDXReAJKDKGbADNNcbSTQWe",BANNER_CTA_CLICK:"TDXReAJKDKGdBfdJTSSfBNUFO"}}},d=function(e,t){_i_("3bb:d32c0e27");var i="stage_"+r.b_book_stage;if(!c[e]||!c[e][i][t])return _r_();return _r_(B.squeak(c[e][i][t]))},b=n.extend({init:function(){_i_("3bb:6d2a365b");var e=+this.getAttr("data-tracking-enabled");if(l=this.getAttr("data-program-type"),!e||!l)return _r_();var t=!1,i=a(function(){if(_i_("3bb:48464d46"),t)return window.removeEventListener("scroll",i),window.removeEventListener("resize",i),_r_();this.onView()&&(t=!0,d(l,"BANNER_VIEW")),_r_()},300);$(window).on("scroll",i.bind(this)),$(window).on("resize",i.bind(this)),$(_)&&$(_).click(this.onCtaClick.bind(this)),$(o)&&$(o).click(this.onCtaClick.bind(this)),$(s)&&$(s).click(this.onCtaClick.bind(this)),_r_()},getAttr:function(e){return _i_("3bb:fe9eb4eb"),_r_(this.$el.attr(e)||"")},onView:function(){_i_("3bb:49c0081c");var e=this.$el[0].getBoundingClientRect();return _r_(0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth))},onCtaClick:function(){if(_i_("3bb:a36c3aac"),!l)return _r_();if($(o).length&&!$(o).data("creditBannerExpand"))return _r_();d(l,"BANNER_CTA_CLICK"),_r_()}});i.exports=b,_r_()}),B.when({events:"ready",condition:"B.env && B.env.fe_hide_occupancy_selector"}).run(function(e){_i_("3bb:013393a3"),$(document).on("click",".js-bp-link--update-room-guests",function(e){_i_("3bb:448cc455"),$(".occupancy_label").hide().attr("aria-hidden","true"),$(".occupancy_selector").show().attr("aria-hidden","false"),$(".smartav_grp_srls").remove(),_r_()}),_r_()}),B.define("component/covid/fine_print_covid_banner",function(e,t,i){_i_("3bb:bc0d7c49");var n=e("component");i.exports=n.extend({init:function(){_i_("3bb:059d9c0c");var e=this;"mdot"!=B.env.b_site_type&&"hotel"==B.env.b_action||e.$el.find(".js_show_more").click(function(){_i_("3bb:80a37672"),e.$el.find(".js_covid_standard_phrase").show(),e.$el.find(".js_show_more").hide(),_r_()}),_r_()}}),_r_()}),B.define("with-capla",function(e,t,i){_i_("3bb:cabb24f61");var n=e("promise"),a={},r={};function _(e){return _i_("3bb:4d3505931"),_r_(e.slice(0,-8))}function s(t){return _i_("3bb:dcecff491"),a[t]||(a[t]=new n(function(e){_i_("3bb:e000dba41"),r[t]=e,_r_()})),_r_({promise:a[t],resolve:r[t]})}window.B.__caplaInitialised&&Object.keys(window.B.__caplaInitialised).forEach(function(e){_i_("3bb:1d6204421"),s(_(e)).resolve(window.B.__caplaInitialised[e]),_r_()}),document.addEventListener("booking-capla-initialized",function(e){_i_("3bb:bf4fa97b1"),s(_(e.detail.namespace)).resolve(e.detail),_r_()}),i.exports=function(e,t,n){return _i_("3bb:edf873871"),_r_(function(){_i_("3bb:e42d11f11");var i=arguments;s("b-"+e+"-"+t).promise.then(function(e){_i_("3bb:7774fbc21");var t=[].slice.call(i);t.unshift(e),n.apply(n,t),_r_()}),_r_()})},_r_()}),$(function(){if(_i_("3bb:de7b23b7"),B.env.fe_run_one_of_three){var e="mdot"===B.env.b_site_type;B.require("ga-events-tracker").setup({categoryName:B.require("ga-tracker").superSaverTracker,emitter:B.require("event-emitter"),eventsMap:e?{"Booking Process":[{label:"Proceed to final step",trigger:"click .js-bs-submit-button.js-bs-submit-button--stage-2"},{label:"Complete booking",trigger:"click .js-bs-submit-button.js-bs-submit-button--stage-3"}]}:{"Booking Process":[{label:"Proceed to final step",trigger:"click .js-bp-submit-button--next-step"},{label:"Complete booking",trigger:"click .js-bp-submit-button--complete-booking"}]}})}_r_()}),B.define("hotel/roomstable/bundles/helpers",function(e,t,i){_i_("3bb:2b563a27"),i.exports={getGroupIdFromBlockId:function(e){_i_("3bb:eef5acb9");var t=e.split("_"),i=t[0],n=t[1],a=t[2],r=t[4]?t[4]:"";return _r_(i+"_"+n+"_"+a+"__"+r)},blockIdToBlockObject:function(e){if(_i_("3bb:28237cb7"),!e)return _r_({roomId:void 0,policyGroupId:void 0,occupancy:void 0,mealplan:void 0,packageId:void 0,bundleId:void 0,remainderString:void 0,groupId:void 0,blockIdWithoutBundle:void 0});for(var t=e.split("_"),i=t[0],n=t[1],a=t[2],r=t[3],_=t[4]?t[4]:"",s=t[5]?t[5]:"",o="",l=4;l<t.length;l+=1)o+="_"+t[l];return _r_({roomId:i,policyGroupId:n,occupancy:a,mealplan:r,packageId:_,bundleId:s,remainderString:o,groupId:i+"_"+n+"_"+a+"__"+_,blockIdWithoutBundle:i+"_"+n+"_"+a+"_"+r+"_"+_})},getUnitTypeFromRoomTypeId:function(e){_i_("3bb:7f3adb44");var t={1:"apartment",26:"bed",19:"bungalow",27:"bungalow",17:"chalet",28:"chalet",29:"holiday_home",30:"mobile_home",32:"mobile_home",4:"room",7:"room",8:"room",9:"room",10:"room",13:"room",21:"room",22:"room",23:"room",24:"room",25:"room",36:"room",37:"room",38:"room",39:"room",12:"studio",2:"suite",3:"suite",5:"suite",6:"suite",11:"suite",14:"suite",18:"suite",33:"tent",15:"unit",35:"unit",31:"villa"};return _r_(t[e]||t[4])}},_r_()}),B.define("component/chains/bundle_explainer",function(e,t,i){_i_("3bb:2e01d809");var l=e("server-data"),n=e("component/reactive"),c=e("hotel/roomstable/bundles/helpers"),a=e("et");i.exports=n.extend({template:"bundle_explainer",initialize:function(){_i_("3bb:0fa6cbae");var e=this.$el.data("explainerId")||null,t=this.$el.data("roomTypeId")||null,i=this.$el.data("bundleId")||null,n=this.$el.data("hideMeals")||null;if(!e||!t||!i){var a="You should pass explainerId, roomTypeId and bundleRateId to render Bundle Explainer component";B.reportError&&B.reportError(new Error(a),a)}var r=this.$el.data("displayCta")||null,_=this.$el.data("hasModal")||null,s=l.bundle_service_mapping&&l.bundle_service_mapping[i],o=c.getUnitTypeFromRoomTypeId(t);this.setState({explainerId:e,bundleId:i,isCtaVisible:r,bundleInformation:s,unitType:o,hasModal:_,blocksById:l.b_blocks_by_id,feHideMeals:n}),this.initModal(e),_r_()},initModal:function(e){_i_("3bb:bc7a004a");var t=$("#"+e);window.BUI.initComponents(t[0]),_r_()},getInnerState:function(){return _i_("3bb:ddde5c511"),_r_(this.__state)},trackMoreInformationClicked:function(){_i_("3bb:f0e5e94d"),a.customGoal("MCIAFKKHYYfPNQAJLHFDdUUC",4),_r_()}}),_r_()}),booking.jstmpl("bundle_explainer",function(){_i_("3bb:6aaee5da");var a,m=["\n\n","\n    ",'\n\n    \n    <div\n        data-component="chains/bundle_explainer"\n        class="rt-bundle-explainer"\n        data-explainer-id="','"\n        data-bundle-id="','"\n        data-room-type-id="','"\n        data-display-cta="','"\n        data-has-modal="','"\n        data-hide-meals="','"\n    >\n        ',"\n        ","\n            ","\n                ",'\n                    <button\n                        type="button"\n                        data-modal-id="bundle-explainer-',"-",'"\n                        data-bui-component="Modal"\n                        ','\n                            data-modal-full-screen="true"\n                        ','\n                        class="bui-button bui-button--tertiary js-bundle-explainer-trigger"\n                        on:click="trackMoreInformationClicked"\n                    >\n                        <span class="bui-button__text">\n                            ',"/private/chains_rt_bundle_rates_info_cta/name","\n                        </span>\n                    </button>\n                ",'\n\n                <template id="bundle-explainer-','">\n                    <div class="bui-modal__body bui-modal__body--primary">\n                        ',"bui-f-font-featured bui-spacer--medium","\n\n    ","room-details-item-header u-margin-top:8 bui-spacer--medium","bui-spacer--medium",'\n        <div class="bui-spacer--large bundle-explainer__title">\n            <p class="bui-f-font-featured">\n                ',"/private/chains_rt_bundle_rates_modal_title/name","\n            </p>\n        </div>\n    ",'\n        <p class="','">',"</p>\n        \n        ","\n\n        ",'\n                    <ul class="'," bui-list bui-list--unordered "," bui-spacer"," ",'">\n                ','\n                <li class="bui-list__item">\n                    <span class="bui-f-font-body">\n                        ',"\n                    </span>\n                </li>\n                ","\n                    </ul>\n                ",'\n                <p class="bui-spacer">',"</p>\n            ","\n        \n\n        ",'\n\n        <p class="','">\n            ',"\n        </p>\n\n        ","\n                    ",'\n                        <ul class="','">\n                    ','\n                    <li class="bui-list__item">\n                        <span class="bui-f-font-body">\n                            ',"\n                        </span>\n                    </li>\n                    ","\n                        </ul>\n                    ",'\n                    <p class="bui-spacer ',"</p>\n                ","\n","/{fe_fp_group}/{fe_fp_element}/{fe_fp_name}",'\n                    <p class="bui-spacer">\n                        <span class="bui-f-font-body">\n                            ',"/private/chains_bundle_fine_print_contact_property/name","\n                        </span>\n                    </p>\n                "," bui-list bui-list--unordered bui-spacer ",'\n            <p class="bui-text bui-spacer bui-text--variant-small_1 bui-text--color-neutral_alt">\n                ',"/instay_addons_fine_print/fine_print_3/general_fine_print","\n            </p>\n        ",'\n\n    <p class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n        ',"/instay_addons_fine_print/fine_print_1/general_fine_print",'\n    </p>\n    <p class="bui-text bui-text--variant-small_1 bui-text--color-neutral_alt">\n        ',"/instay_addons_fine_print/fine_print_2/general_fine_print","\n    </p>\n","\n                    </div>\n                </template>\n            ","1","\n    </div>\n\n"],g=["explainerId","bundleId","roomTypeId","isCtaVisible","hasModal","feHideMeals","bundle_information","fe_rate_title_classes","fe_rate_content_classes","fe_is_inlined","blocks_by_id","block_id","mealplan_title","__is_last__","__is_first__","mealplan_text","meals_counter","fe_hide_meals","fe_bundle_information","fe_service_fineprints","fineprint_counter","fe_display_general_fine_print_3","fe_fp_copy","fe_fp_be_variables","fe_unit_type","fe_fp_variables","fe_fp_name","b_block_id","blocksById","bundleInformation","unitType"];return _r_(function(u){_i_("3bb:5fd30ef5");var e,t,i="",h=this.fn;function n(e){if(_i_("3bb:aa4b09ef"),e+=[m[0],"",m[1]].join(""),h.MN(g[7],m[21]),e+=m[1],h.MN(g[8],void 0),e+=m[22],h.MD(g[9])?(e+=m[9],h.MN(g[7],m[23]),e+=m[9],h.MN(g[8],m[24]),e+=m[1]):e+=[m[25],h.ME(m[26],h.MB,h.MN,null),m[27]].join(""),e+=m[22],h.MJ(h.MB(g[11]))&&h.MJ(h.MB(g[10]))&&h.MJ(h.MC(g[10])[h.MC(g[11])].b_mealplan_message_short)&&h.MK(h.MB(g[17]))&&h.MJ(h.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))){e+=m[9],h.MN("mealplan_title",h.MC(g[10])[h.MC(g[11])].b_mealplan_policy_title),e+=[m[28],h.F.entities(h.MC(g[7])),m[29],h.F.entities(h.MC(g[12])),m[30]].join(""),h.MN("meals_counter",h.MB(g[11])&&h.MB(g[10])&&h.array_length(h.MC(g[10])[h.MC(g[11])].b_mealplan_message_short)),e+=m[31];var t=h.MC(g[11])&&h.MC(g[10])&&h.MC(g[10])[h.MC(g[11])].b_mealplan_message_short||[];u.unshift({mealplan_item:null});for(var i,n=1,a=t.length;n<=a;n++)u[0].mealplan_item=i=t[n-1],e+=m[10],h.MN("mealplan_text",i.content),e+=m[10],h.MJ(1<h.MB(g[16]))?(e+=m[11],h.MJ(h.MB(g[14]))&&(e+=m[32],e+=m[33],h.MK(h.MB(g[13]))&&(e+=m[34]),e+=[m[35],h.F.entities(h.MC(g[8])),m[35]].join(""),e+=m[36]),e+=[m[37],h.F.entities(h.MC(g[15])),m[38]].join(""),h.MJ(h.MB(g[13]))&&(e+=m[39]),e+=m[10]):e+=[m[40],h.F.entities(h.MC(g[15])),m[41]].join(""),e+=m[9];u.shift(),e+=m[22]}e+=m[22];t=(h.MC(g[18])||{}).services||[];u.unshift({service:null});var r;for(n=1,a=t.length;n<=a;n++){u[0].service=r=t[n-1],e+=m[42],h.MN("fe_display_general_fine_print_3",0),e+=m[9],h.MJ(r.contact_property)&&(e+=m[10],h.MN("fe_display_general_fine_print_3",1),e+=m[9]),e+=[m[43],h.F.entities(h.MC(g[7])),m[44],h.F.entities((((r||{}).description||{}).title||{}).text),m[45]].join(""),h.MN("fe_service_fineprints",r.description.fineprint),e+=m[9],h.MN("fineprint_counter",h.array_length(r.description.fineprint)),e+=m[31];var _=n,s=t,o=a,l=c;t=h.MC(g[19])||[];u.unshift({fineprint:null});var c;for(n=1,a=t.length;n<=a;n++){if(u[0].fineprint=c=t[n-1],e+=m[10],h.MJ(h.MG((c||{}).text)))e+=m[11],h.MJ(1<h.MB(g[20]))?(e+=m[46],h.MJ(h.MB(g[14]))&&(e+=m[47],e+=m[33],h.MK(h.MB(g[13]))&&(e+=m[34]),e+=[m[35],h.F.entities(h.MC(g[8])),m[35]].join(""),e+=m[48]),e+=[m[49],h.F.entities((c||{}).text),m[50]].join(""),h.MJ(h.MB(g[13]))&&(e+=m[51]),e+=m[11]):(e+=m[52],h.MD(g[21])&&(e+=m[24]),e+=[m[29],h.F.entities((c||{}).text),m[53]].join("")),e+=m[10];else{e+=m[11];var d="";d+=m[46];var b={fe_fp_be_variables:h.MG((c||{}).variables),fe_fp_element:h.MG(((c||{}).tag||{}).element),fe_fp_group:h.MG(((c||{}).tag||{}).group),fe_fp_name:h.MG(((c||{}).tag||{}).name),fe_fp_variables:h.MG((c||{}).fe_variables),fe_unit_type:h.MB(g[24])},p=u;(u=h.SV([{},{}])).unshift(b),d=f(d),u=h.SV(p),d+=m[11],h.MN(g[22],d),e+=m[11],h.MJ(1<h.MB(g[20]))?(e+=m[46],h.MJ(h.MB(g[14]))&&(e+=m[47],e+=m[33],h.MK(h.MB(g[13]))&&(e+=m[34]),e+=[m[35],h.F.entities(h.MC(g[8])),m[35]].join(""),e+=m[48]),e+=[m[49],h.MC(g[22]),m[50]].join(""),h.MJ(h.MB(g[13]))&&(e+=m[51]),e+=m[11]):(e+=m[52],h.MD(g[21])&&(e+=m[24]),e+=[m[29],h.MC(g[22]),m[53]].join("")),e+=m[10]}e+=m[10],h.MJ(h.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))&&h.MJ(h.MB(g[21]))&&(e+=m[11],h.MJ(1==h.MB(g[20]))?e+=[m[56],h.ME(m[57],h.MB,h.MN,null),m[58]].join(""):(e+=m[46],h.MJ(h.MB(g[14]))&&(e+=m[47],e+=[m[59],h.F.entities(h.MC(g[8])),m[35]].join(""),e+=m[48]),e+=[m[49],h.ME(m[57],h.MB,h.MN,null),m[50]].join(""),h.MJ(h.MB(g[13]))&&(e+=m[51]),e+=m[11]),e+=m[10]),e+=m[9]}u.shift(),n=_,t=s,a=o,c=l,e+=m[31],h.MK(h.track_experiment("MCIAFKKHYYfPNQAJLHFDdUUJCYFNLJeKe"))&&h.MJ(h.MB(g[21]))&&(e+=[m[60],h.ME(m[61],h.MB,h.MN,null),m[62]].join("")),e+=m[1]}return u.shift(),e+=[m[63],h.ME(m[64],h.MB,h.MN,null),m[65],h.ME(m[66],h.MB,h.MN,null),m[67],"",m[54]].join(""),_r_(e)}function f(e){return _i_("3bb:d9694680"),e+=[m[0],"",m[54]].join(""),h.MJ(h.MB(g[25]))&&(h.MJ(h.MB(g[26])+""=="self_parking")||h.MJ(h.MB(g[26])+""=="valet_parking")||h.MJ(h.MB(g[26])+""=="food_drink_credit")||h.MJ(h.MB(g[26])+""=="property_credit"))?(e+=m[1],h.MJ(h.MB(g[23]))&&h.MJ(h.MC(g[23]).num_credit)?e+=[m[9],(u.unshift({num_credit:h.MG((h.MC(g[23])||{}).num_credit),unit_type:h.MB(g[24])}),a=h.ME(m[55],h.MB,h.MN,null),u.shift(),a),m[1]].join(""):e+=[m[9],(u.unshift({unit_type:h.MB(g[24])}),a=h.ME(m[55],h.MB,h.MN,null),u.shift(),a),m[1]].join("")):(e+=m[1],h.MJ(h.MB(g[23]))&&h.MJ(h.MC(g[23]).num_credit)?e+=[m[9],(u.unshift({num_credit:h.MG((h.MC(g[23])||{}).num_credit)}),a=h.ME(m[55],h.MB,h.MN,null),u.shift(),a),m[1]].join(""):e+=[m[9],h.ME(m[55],h.MB,h.MN,null),m[1]].join("")),e+=m[54],e+=[m[54],"",m[54]].join(""),_r_(e)}return i+=m[0],u.unshift({bundle_information:h.MB(g[6])}),e=i,_i_("3bb:e6d67e63"),e+=["",m[1]].join(""),e+=[m[2],h.F.entities(h.MB(g[0])),m[3],h.F.entities(h.MB(g[1])),m[4],h.F.entities(h.MB(g[2])),m[5],h.F.entities(h.MB(g[3])),m[6],h.F.entities(h.MB(g[4])),m[7],h.F.entities(h.MB(g[5])),m[8]].join(""),t=e,_i_("3bb:3d05b386"),t+=m[9],h.MD(g[29])&&(t+=m[10],h.MD(g[4])?(t+=m[11],h.MD(g[3])&&(t+=[m[12],h.F.entities(h.MC(g[0])),m[13],h.F.entities(h.MC(g[1])),m[14]].join(""),h.MJ(2<h.array_length(h.MC(g[6]).services))&&(t+=m[15]),t+=[m[16],h.ME(m[17],h.MB,h.MN,null),m[18]].join("")),t+=[m[19],h.F.entities(h.MC(g[0])),m[13],h.F.entities(h.MC(g[1])),m[20]].join(""),u.unshift({b_block_id:h.MC(g[27]),block_id:h.MB(g[0]),blocks_by_id:h.MB(g[28]),fe_bundle_information:h.MB(g[29]),fe_hide_meals:h.MB(g[5]),fe_unit_type:h.MB(g[30])}),t=n(t),u.shift(),t+=m[68]):(t+=m[11],u.unshift({block_id:h.MB(g[0]),blocks_by_id:h.MB(g[28]),fe_bundle_information:h.MB(g[29]),fe_hide_meals:h.MB(g[5]),fe_is_inlined:m[69],fe_unit_type:h.MB(g[30])}),t=n(t),u.shift(),t+=m[10]),t+=m[9]),t+=m[1],e=_r_(t),e+=[m[70],"",m[54]].join(""),i=_r_(e),u.shift(),i+=m[54],_r_(i)})}()),B.define("component/iam/anon-fast-checkout-bp-autofill",["component"],function(e){return _i_("3bb:d2e8ff7f"),_r_(e.extend({init:function(){_i_("3bb:1c867393");var a=B.require("jquery"),e=B.require("bp/env");this.$el.click(function(){_i_("3bb:fea05ada");var n=e.get("fast_checkout_personal_data");a.each({firstname:"firstname",lastname:"lastname",email:"email",email_confirm:"email"},function(e,t){_i_("3bb:36e1432c");var i=n[t];i&&a(".bp_input_text[name="+e+"]").val(i).trigger("blur").trigger("change");_r_()}),_r_()}),_r_()}}))}),booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.book.run=!0);